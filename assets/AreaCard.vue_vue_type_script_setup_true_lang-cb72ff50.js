import{d as C,u as b,s as $,r as T,o as n,a as s,b as t,e,F as y,t as p,k as d,w as k,v as g,i as B,q as w,c as H,f as M,g as N}from"./index-10a5dc2e.js";const L=["textContent"],S=["textContent"],A=t("label",{style:{"margin-right":"4px"},for:"fio",textContent:"ФИО:"},null,-1),D=t("label",{style:{"margin-right":"4px"},for:"school",textContent:"Учреждение:"},null,-1),E={key:0,style:{display:"flex"}},F={key:0,textContent:"⭐"},I=["textContent"],R={key:1},U=C({__name:"AreaHelper",props:{month:null,helper:null,adminView:{type:Boolean}},setup(o){const x=o,{month:v,helper:l}=x,c=b(),{tasks:h}=$(c);let u=h.value.filter(r=>r.month==v),f=u.filter(r=>l.completedTaskIds?.includes?.(r.id)),i=T(!1);function _(r){c.saveHelpers([r]),i.value=!1}function V(r){c.removeHelper(r)}return(r,a)=>(n(),s("div",{style:w([{display:"flex","justify-content":"space-between"},o.adminView?"border-bottom: 2px solid var(--color-border);":""])},[t("div",null,[e(i)?(n(),s(y,{key:1},[t("div",null,[A,k(t("input",{name:"fio","onUpdate:modelValue":a[0]||(a[0]=m=>e(l).fio=m)},null,512),[[g,e(l).fio]])]),t("div",null,[D,k(t("input",{name:"school","onUpdate:modelValue":a[1]||(a[1]=m=>e(l).schoolName=m)},null,512),[[g,e(l).schoolName]])])],64)):(n(),s(y,{key:0},[t("div",{textContent:p(e(l).fio)},null,8,L),o.adminView?(n(),s("div",{key:0,textContent:p(e(l).schoolName)},null,8,S)):d("",!0)],64))]),e(v)?(n(),s("div",E,[e(f)?.length==e(u)?.length?(n(),s("div",F)):d("",!0),t("div",{textContent:p(`${e(f)?.length??0}/${e(u)?.length??0}`)},null,8,I)])):d("",!0),o.adminView?(n(),s("div",R,[e(i)?d("",!0):(n(),s("button",{key:0,onClick:a[2]||(a[2]=m=>B(i)?i.value=!0:i=!0)},"Редактировать")),e(i)?(n(),s("button",{key:1,onClick:a[3]||(a[3]=m=>_(e(l)))},"Сохранить")):d("",!0),t("button",{onClick:a[4]||(a[4]=m=>V(e(l).id))},"Удалить")])):d("",!0)],4))}}),j={key:0,style:{border:"1px solid #aaa","margin-bottom":"12px"}},q=t("div",{textContent:"Группа: "},null,-1),z=["innerHTML"],G={style:{padding:"12px"}},K=C({__name:"AreaCard",props:{month:null,area:null,adminView:{type:Boolean}},setup(o){const{month:x,area:v}=o,l=b(),{helpers:c}=$(l),h=H(()=>c.value.filter(u=>u.areaId==v.id));return(u,f)=>e(h).length>0?(n(),s("div",j,[t("div",{style:w(`background-color: ${o.area.color}; color: #aaa;padding: 12px`)},[q,t("div",{innerHTML:o.area.name},null,8,z)],4),t("div",G,[(n(!0),s(y,null,M(e(h),i=>(n(),N(U,{key:`${i.id}-${o.month}`,"admin-view":o.adminView,month:o.month,helper:i},null,8,["admin-view","month","helper"]))),128))])])):d("",!0)}});export{K as _};
