import{d as C,u as b,s as w,r as T,o as n,a as s,b as t,e,F as y,t as p,k as d,w as k,v as g,i as B,A as _,c as H,f as M,g as N}from"./index-1e765653.js";const A=["textContent"],L=["textContent"],S=t("label",{style:{"margin-right":"4px"},for:"fio",textContent:"ФИО:"},null,-1),D=t("label",{style:{"margin-right":"4px"},for:"school",textContent:"Учреждение:"},null,-1),E={key:0,style:{display:"flex"}},F={key:0,textContent:"⭐"},I=["textContent"],R={key:1},U=C({__name:"AreaHelper",props:{month:null,helper:null,adminView:{type:Boolean}},setup(o){const x=o,{month:h,helper:l}=x,c=b(),{tasks:v}=w(c);let u=v.value.filter(r=>r.month==h),f=u.filter(r=>l.completedTaskIds?.includes?.(r.id)),a=T(!1);function $(r){c.saveHelpers([r]),a.value=!1}function V(r){c.removeHelper(r)}return(r,i)=>(n(),s("div",{style:_([{display:"flex","justify-content":"space-between"},o.adminView?"border-bottom: 2px solid var(--color-border);":""])},[t("div",null,[e(a)?(n(),s(y,{key:1},[t("div",null,[S,k(t("input",{name:"fio","onUpdate:modelValue":i[0]||(i[0]=m=>e(l).fio=m)},null,512),[[g,e(l).fio]])]),t("div",null,[D,k(t("input",{name:"school","onUpdate:modelValue":i[1]||(i[1]=m=>e(l).schoolName=m)},null,512),[[g,e(l).schoolName]])])],64)):(n(),s(y,{key:0},[t("div",{textContent:p(e(l).fio)},null,8,A),o.adminView?(n(),s("div",{key:0,textContent:p(e(l).schoolName)},null,8,L)):d("",!0)],64))]),e(h)?(n(),s("div",E,[e(f)?.length==e(u)?.length?(n(),s("div",F)):d("",!0),t("div",{textContent:p(`${e(f)?.length??0}/${e(u)?.length??0}`)},null,8,I)])):d("",!0),o.adminView?(n(),s("div",R,[e(a)?d("",!0):(n(),s("button",{key:0,onClick:i[2]||(i[2]=m=>B(a)?a.value=!0:a=!0)},"Редактировать")),e(a)?(n(),s("button",{key:1,onClick:i[3]||(i[3]=m=>$(e(l)))},"Сохранить")):d("",!0),t("button",{onClick:i[4]||(i[4]=m=>V(e(l).id))},"Удалить")])):d("",!0)],4))}}),j={key:0,style:{border:"1px solid #aaa","margin-bottom":"12px"}},z=t("div",{textContent:"Группа: "},null,-1),q=["innerHTML"],G={style:{padding:"12px"}},K=C({__name:"AreaCard",props:{month:null,area:null,adminView:{type:Boolean}},setup(o){const{month:x,area:h}=o,l=b(),{helpers:c}=w(l),v=H(()=>c.value.filter(u=>u.areaId==h.id));return(u,f)=>e(v).length>0?(n(),s("div",j,[t("div",{style:_(`background-color: ${o.area.color}; color: #aaa;padding: 12px`)},[z,t("div",{innerHTML:o.area.name},null,8,q)],4),t("div",G,[(n(!0),s(y,null,M(e(v),a=>(n(),N(U,{key:o.month,"admin-view":o.adminView,month:o.month,helper:a},null,8,["admin-view","month","helper"]))),128))])])):d("",!0)}});export{K as _};
