(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();function ks(e,t){const n=Object.create(null),r=e.split(",");for(let s=0;s<r.length;s++)n[r[s]]=!0;return t?s=>!!n[s.toLowerCase()]:s=>!!n[s]}function Es(e){if(M(e)){const t={};for(let n=0;n<e.length;n++){const r=e[n],s=he(r)?rl(r):Es(r);if(s)for(const i in s)t[i]=s[i]}return t}else{if(he(e))return e;if(re(e))return e}}const el=/;(?![^(]*\))/g,tl=/:([^]+)/,nl=/\/\*.*?\*\//gs;function rl(e){const t={};return e.replace(nl,"").split(el).forEach(n=>{if(n){const r=n.split(tl);r.length>1&&(t[r[0].trim()]=r[1].trim())}}),t}function Ps(e){let t="";if(he(e))t=e;else if(M(e))for(let n=0;n<e.length;n++){const r=Ps(e[n]);r&&(t+=r+" ")}else if(re(e))for(const n in e)e[n]&&(t+=n+" ");return t.trim()}const sl="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",il=ks(sl);function fo(e){return!!e||e===""}function ol(e,t){if(e.length!==t.length)return!1;let n=!0;for(let r=0;n&&r<e.length;r++)n=dr(e[r],t[r]);return n}function dr(e,t){if(e===t)return!0;let n=ei(e),r=ei(t);if(n||r)return n&&r?e.getTime()===t.getTime():!1;if(n=Rn(e),r=Rn(t),n||r)return e===t;if(n=M(e),r=M(t),n||r)return n&&r?ol(e,t):!1;if(n=re(e),r=re(t),n||r){if(!n||!r)return!1;const s=Object.keys(e).length,i=Object.keys(t).length;if(s!==i)return!1;for(const o in e){const a=e.hasOwnProperty(o),l=t.hasOwnProperty(o);if(a&&!l||!a&&l||!dr(e[o],t[o]))return!1}}return String(e)===String(t)}function po(e,t){return e.findIndex(n=>dr(n,t))}const sg=e=>he(e)?e:e==null?"":M(e)||re(e)&&(e.toString===vo||!F(e.toString))?JSON.stringify(e,go,2):String(e),go=(e,t)=>t&&t.__v_isRef?go(e,t.value):zt(t)?{[`Map(${t.size})`]:[...t.entries()].reduce((n,[r,s])=>(n[`${r} =>`]=s,n),{})}:gr(t)?{[`Set(${t.size})`]:[...t.values()]}:re(t)&&!M(t)&&!_o(t)?String(t):t,se={},qt=[],He=()=>{},al=()=>!1,ll=/^on[^a-z]/,pr=e=>ll.test(e),Ss=e=>e.startsWith("onUpdate:"),be=Object.assign,Ts=(e,t)=>{const n=e.indexOf(t);n>-1&&e.splice(n,1)},cl=Object.prototype.hasOwnProperty,Q=(e,t)=>cl.call(e,t),M=Array.isArray,zt=e=>Nn(e)==="[object Map]",gr=e=>Nn(e)==="[object Set]",ei=e=>Nn(e)==="[object Date]",F=e=>typeof e=="function",he=e=>typeof e=="string",Rn=e=>typeof e=="symbol",re=e=>e!==null&&typeof e=="object",mo=e=>re(e)&&F(e.then)&&F(e.catch),vo=Object.prototype.toString,Nn=e=>vo.call(e),ul=e=>Nn(e).slice(8,-1),_o=e=>Nn(e)==="[object Object]",Os=e=>he(e)&&e!=="NaN"&&e[0]!=="-"&&""+parseInt(e,10)===e,Xn=ks(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),mr=e=>{const t=Object.create(null);return n=>t[n]||(t[n]=e(n))},hl=/-(\w)/g,Ye=mr(e=>e.replace(hl,(t,n)=>n?n.toUpperCase():"")),fl=/\B([A-Z])/g,nn=mr(e=>e.replace(fl,"-$1").toLowerCase()),vr=mr(e=>e.charAt(0).toUpperCase()+e.slice(1)),Dr=mr(e=>e?`on${vr(e)}`:""),xn=(e,t)=>!Object.is(e,t),Zn=(e,t)=>{for(let n=0;n<e.length;n++)e[n](t)},ir=(e,t,n)=>{Object.defineProperty(e,t,{configurable:!0,enumerable:!1,value:n})},Yr=e=>{const t=parseFloat(e);return isNaN(t)?e:t};let ti;const dl=()=>ti||(ti=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});let Ae;class yo{constructor(t=!1){this.detached=t,this._active=!0,this.effects=[],this.cleanups=[],this.parent=Ae,!t&&Ae&&(this.index=(Ae.scopes||(Ae.scopes=[])).push(this)-1)}get active(){return this._active}run(t){if(this._active){const n=Ae;try{return Ae=this,t()}finally{Ae=n}}}on(){Ae=this}off(){Ae=this.parent}stop(t){if(this._active){let n,r;for(n=0,r=this.effects.length;n<r;n++)this.effects[n].stop();for(n=0,r=this.cleanups.length;n<r;n++)this.cleanups[n]();if(this.scopes)for(n=0,r=this.scopes.length;n<r;n++)this.scopes[n].stop(!0);if(!this.detached&&this.parent&&!t){const s=this.parent.scopes.pop();s&&s!==this&&(this.parent.scopes[this.index]=s,s.index=this.index)}this.parent=void 0,this._active=!1}}}function bo(e){return new yo(e)}function pl(e,t=Ae){t&&t.active&&t.effects.push(e)}function wo(){return Ae}function gl(e){Ae&&Ae.cleanups.push(e)}const Rs=e=>{const t=new Set(e);return t.w=0,t.n=0,t},ko=e=>(e.w&yt)>0,Eo=e=>(e.n&yt)>0,ml=({deps:e})=>{if(e.length)for(let t=0;t<e.length;t++)e[t].w|=yt},vl=e=>{const{deps:t}=e;if(t.length){let n=0;for(let r=0;r<t.length;r++){const s=t[r];ko(s)&&!Eo(s)?s.delete(e):t[n++]=s,s.w&=~yt,s.n&=~yt}t.length=n}},or=new WeakMap;let vn=0,yt=1;const Xr=30;let Fe;const At=Symbol(""),Zr=Symbol("");class xs{constructor(t,n=null,r){this.fn=t,this.scheduler=n,this.active=!0,this.deps=[],this.parent=void 0,pl(this,r)}run(){if(!this.active)return this.fn();let t=Fe,n=mt;for(;t;){if(t===this)return;t=t.parent}try{return this.parent=Fe,Fe=this,mt=!0,yt=1<<++vn,vn<=Xr?ml(this):ni(this),this.fn()}finally{vn<=Xr&&vl(this),yt=1<<--vn,Fe=this.parent,mt=n,this.parent=void 0,this.deferStop&&this.stop()}}stop(){Fe===this?this.deferStop=!0:this.active&&(ni(this),this.onStop&&this.onStop(),this.active=!1)}}function ni(e){const{deps:t}=e;if(t.length){for(let n=0;n<t.length;n++)t[n].delete(e);t.length=0}}let mt=!0;const Po=[];function rn(){Po.push(mt),mt=!1}function sn(){const e=Po.pop();mt=e===void 0?!0:e}function Oe(e,t,n){if(mt&&Fe){let r=or.get(e);r||or.set(e,r=new Map);let s=r.get(n);s||r.set(n,s=Rs()),So(s)}}function So(e,t){let n=!1;vn<=Xr?Eo(e)||(e.n|=yt,n=!ko(e)):n=!e.has(Fe),n&&(e.add(Fe),Fe.deps.push(e))}function st(e,t,n,r,s,i){const o=or.get(e);if(!o)return;let a=[];if(t==="clear")a=[...o.values()];else if(n==="length"&&M(e)){const l=Number(r);o.forEach((u,c)=>{(c==="length"||c>=l)&&a.push(u)})}else switch(n!==void 0&&a.push(o.get(n)),t){case"add":M(e)?Os(n)&&a.push(o.get("length")):(a.push(o.get(At)),zt(e)&&a.push(o.get(Zr)));break;case"delete":M(e)||(a.push(o.get(At)),zt(e)&&a.push(o.get(Zr)));break;case"set":zt(e)&&a.push(o.get(At));break}if(a.length===1)a[0]&&es(a[0]);else{const l=[];for(const u of a)u&&l.push(...u);es(Rs(l))}}function es(e,t){const n=M(e)?e:[...e];for(const r of n)r.computed&&ri(r);for(const r of n)r.computed||ri(r)}function ri(e,t){(e!==Fe||e.allowRecurse)&&(e.scheduler?e.scheduler():e.run())}function _l(e,t){var n;return(n=or.get(e))===null||n===void 0?void 0:n.get(t)}const yl=ks("__proto__,__v_isRef,__isVue"),To=new Set(Object.getOwnPropertyNames(Symbol).filter(e=>e!=="arguments"&&e!=="caller").map(e=>Symbol[e]).filter(Rn)),bl=Cs(),wl=Cs(!1,!0),kl=Cs(!0),si=El();function El(){const e={};return["includes","indexOf","lastIndexOf"].forEach(t=>{e[t]=function(...n){const r=G(this);for(let i=0,o=this.length;i<o;i++)Oe(r,"get",i+"");const s=r[t](...n);return s===-1||s===!1?r[t](...n.map(G)):s}}),["push","pop","shift","unshift","splice"].forEach(t=>{e[t]=function(...n){rn();const r=G(this)[t].apply(this,n);return sn(),r}}),e}function Pl(e){const t=G(this);return Oe(t,"has",e),t.hasOwnProperty(e)}function Cs(e=!1,t=!1){return function(r,s,i){if(s==="__v_isReactive")return!e;if(s==="__v_isReadonly")return e;if(s==="__v_isShallow")return t;if(s==="__v_raw"&&i===(e?t?Fl:Ao:t?Co:xo).get(r))return r;const o=M(r);if(!e){if(o&&Q(si,s))return Reflect.get(si,s,i);if(s==="hasOwnProperty")return Pl}const a=Reflect.get(r,s,i);return(Rn(s)?To.has(s):yl(s))||(e||Oe(r,"get",s),t)?a:oe(a)?o&&Os(s)?a:a.value:re(a)?e?$o(a):on(a):a}}const Sl=Oo(),Tl=Oo(!0);function Oo(e=!1){return function(n,r,s,i){let o=n[r];if(Vt(o)&&oe(o)&&!oe(s))return!1;if(!e&&(!ar(s)&&!Vt(s)&&(o=G(o),s=G(s)),!M(n)&&oe(o)&&!oe(s)))return o.value=s,!0;const a=M(n)&&Os(r)?Number(r)<n.length:Q(n,r),l=Reflect.set(n,r,s,i);return n===G(i)&&(a?xn(s,o)&&st(n,"set",r,s):st(n,"add",r,s)),l}}function Ol(e,t){const n=Q(e,t);e[t];const r=Reflect.deleteProperty(e,t);return r&&n&&st(e,"delete",t,void 0),r}function Rl(e,t){const n=Reflect.has(e,t);return(!Rn(t)||!To.has(t))&&Oe(e,"has",t),n}function xl(e){return Oe(e,"iterate",M(e)?"length":At),Reflect.ownKeys(e)}const Ro={get:bl,set:Sl,deleteProperty:Ol,has:Rl,ownKeys:xl},Cl={get:kl,set(e,t){return!0},deleteProperty(e,t){return!0}},Al=be({},Ro,{get:wl,set:Tl}),As=e=>e,_r=e=>Reflect.getPrototypeOf(e);function Hn(e,t,n=!1,r=!1){e=e.__v_raw;const s=G(e),i=G(t);n||(t!==i&&Oe(s,"get",t),Oe(s,"get",i));const{has:o}=_r(s),a=r?As:n?Is:Cn;if(o.call(s,t))return a(e.get(t));if(o.call(s,i))return a(e.get(i));e!==s&&e.get(t)}function Wn(e,t=!1){const n=this.__v_raw,r=G(n),s=G(e);return t||(e!==s&&Oe(r,"has",e),Oe(r,"has",s)),e===s?n.has(e):n.has(e)||n.has(s)}function qn(e,t=!1){return e=e.__v_raw,!t&&Oe(G(e),"iterate",At),Reflect.get(e,"size",e)}function ii(e){e=G(e);const t=G(this);return _r(t).has.call(t,e)||(t.add(e),st(t,"add",e,e)),this}function oi(e,t){t=G(t);const n=G(this),{has:r,get:s}=_r(n);let i=r.call(n,e);i||(e=G(e),i=r.call(n,e));const o=s.call(n,e);return n.set(e,t),i?xn(t,o)&&st(n,"set",e,t):st(n,"add",e,t),this}function ai(e){const t=G(this),{has:n,get:r}=_r(t);let s=n.call(t,e);s||(e=G(e),s=n.call(t,e)),r&&r.call(t,e);const i=t.delete(e);return s&&st(t,"delete",e,void 0),i}function li(){const e=G(this),t=e.size!==0,n=e.clear();return t&&st(e,"clear",void 0,void 0),n}function zn(e,t){return function(r,s){const i=this,o=i.__v_raw,a=G(o),l=t?As:e?Is:Cn;return!e&&Oe(a,"iterate",At),o.forEach((u,c)=>r.call(s,l(u),l(c),i))}}function Kn(e,t,n){return function(...r){const s=this.__v_raw,i=G(s),o=zt(i),a=e==="entries"||e===Symbol.iterator&&o,l=e==="keys"&&o,u=s[e](...r),c=n?As:t?Is:Cn;return!t&&Oe(i,"iterate",l?Zr:At),{next(){const{value:h,done:d}=u.next();return d?{value:h,done:d}:{value:a?[c(h[0]),c(h[1])]:c(h),done:d}},[Symbol.iterator](){return this}}}}function at(e){return function(...t){return e==="delete"?!1:this}}function $l(){const e={get(i){return Hn(this,i)},get size(){return qn(this)},has:Wn,add:ii,set:oi,delete:ai,clear:li,forEach:zn(!1,!1)},t={get(i){return Hn(this,i,!1,!0)},get size(){return qn(this)},has:Wn,add:ii,set:oi,delete:ai,clear:li,forEach:zn(!1,!0)},n={get(i){return Hn(this,i,!0)},get size(){return qn(this,!0)},has(i){return Wn.call(this,i,!0)},add:at("add"),set:at("set"),delete:at("delete"),clear:at("clear"),forEach:zn(!0,!1)},r={get(i){return Hn(this,i,!0,!0)},get size(){return qn(this,!0)},has(i){return Wn.call(this,i,!0)},add:at("add"),set:at("set"),delete:at("delete"),clear:at("clear"),forEach:zn(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(i=>{e[i]=Kn(i,!1,!1),n[i]=Kn(i,!0,!1),t[i]=Kn(i,!1,!0),r[i]=Kn(i,!0,!0)}),[e,n,t,r]}const[jl,Il,Ll,Dl]=$l();function $s(e,t){const n=t?e?Dl:Ll:e?Il:jl;return(r,s,i)=>s==="__v_isReactive"?!e:s==="__v_isReadonly"?e:s==="__v_raw"?r:Reflect.get(Q(n,s)&&s in r?n:r,s,i)}const Ml={get:$s(!1,!1)},Nl={get:$s(!1,!0)},Ul={get:$s(!0,!1)},xo=new WeakMap,Co=new WeakMap,Ao=new WeakMap,Fl=new WeakMap;function Bl(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function Hl(e){return e.__v_skip||!Object.isExtensible(e)?0:Bl(ul(e))}function on(e){return Vt(e)?e:js(e,!1,Ro,Ml,xo)}function Wl(e){return js(e,!1,Al,Nl,Co)}function $o(e){return js(e,!0,Cl,Ul,Ao)}function js(e,t,n,r,s){if(!re(e)||e.__v_raw&&!(t&&e.__v_isReactive))return e;const i=s.get(e);if(i)return i;const o=Hl(e);if(o===0)return e;const a=new Proxy(e,o===2?r:n);return s.set(e,a),a}function rt(e){return Vt(e)?rt(e.__v_raw):!!(e&&e.__v_isReactive)}function Vt(e){return!!(e&&e.__v_isReadonly)}function ar(e){return!!(e&&e.__v_isShallow)}function jo(e){return rt(e)||Vt(e)}function G(e){const t=e&&e.__v_raw;return t?G(t):e}function Jt(e){return ir(e,"__v_skip",!0),e}const Cn=e=>re(e)?on(e):e,Is=e=>re(e)?$o(e):e;function Io(e){mt&&Fe&&(e=G(e),So(e.dep||(e.dep=Rs())))}function Lo(e,t){e=G(e);const n=e.dep;n&&es(n)}function oe(e){return!!(e&&e.__v_isRef===!0)}function An(e){return Do(e,!1)}function ql(e){return Do(e,!0)}function Do(e,t){return oe(e)?e:new zl(e,t)}class zl{constructor(t,n){this.__v_isShallow=n,this.dep=void 0,this.__v_isRef=!0,this._rawValue=n?t:G(t),this._value=n?t:Cn(t)}get value(){return Io(this),this._value}set value(t){const n=this.__v_isShallow||ar(t)||Vt(t);t=n?t:G(t),xn(t,this._rawValue)&&(this._rawValue=t,this._value=n?t:Cn(t),Lo(this))}}function vt(e){return oe(e)?e.value:e}const Kl={get:(e,t,n)=>vt(Reflect.get(e,t,n)),set:(e,t,n,r)=>{const s=e[t];return oe(s)&&!oe(n)?(s.value=n,!0):Reflect.set(e,t,n,r)}};function Mo(e){return rt(e)?e:new Proxy(e,Kl)}function Gl(e){const t=M(e)?new Array(e.length):{};for(const n in e)t[n]=No(e,n);return t}class Vl{constructor(t,n,r){this._object=t,this._key=n,this._defaultValue=r,this.__v_isRef=!0}get value(){const t=this._object[this._key];return t===void 0?this._defaultValue:t}set value(t){this._object[this._key]=t}get dep(){return _l(G(this._object),this._key)}}function No(e,t,n){const r=e[t];return oe(r)?r:new Vl(e,t,n)}var Uo;class Jl{constructor(t,n,r,s){this._setter=n,this.dep=void 0,this.__v_isRef=!0,this[Uo]=!1,this._dirty=!0,this.effect=new xs(t,()=>{this._dirty||(this._dirty=!0,Lo(this))}),this.effect.computed=this,this.effect.active=this._cacheable=!s,this.__v_isReadonly=r}get value(){const t=G(this);return Io(t),(t._dirty||!t._cacheable)&&(t._dirty=!1,t._value=t.effect.run()),t._value}set value(t){this._setter(t)}}Uo="__v_isReadonly";function Ql(e,t,n=!1){let r,s;const i=F(e);return i?(r=e,s=He):(r=e.get,s=e.set),new Jl(r,s,i||!s,n)}function _t(e,t,n,r){let s;try{s=r?e(...r):e()}catch(i){yr(i,t,n)}return s}function We(e,t,n,r){if(F(e)){const i=_t(e,t,n,r);return i&&mo(i)&&i.catch(o=>{yr(o,t,n)}),i}const s=[];for(let i=0;i<e.length;i++)s.push(We(e[i],t,n,r));return s}function yr(e,t,n,r=!0){const s=t?t.vnode:null;if(t){let i=t.parent;const o=t.proxy,a=n;for(;i;){const u=i.ec;if(u){for(let c=0;c<u.length;c++)if(u[c](e,o,a)===!1)return}i=i.parent}const l=t.appContext.config.errorHandler;if(l){_t(l,null,10,[e,o,a]);return}}Yl(e,n,s,r)}function Yl(e,t,n,r=!0){console.error(e)}let $n=!1,ts=!1;const me=[];let Je=0;const Kt=[];let et=null,Tt=0;const Fo=Promise.resolve();let Ls=null;function Ds(e){const t=Ls||Fo;return e?t.then(this?e.bind(this):e):t}function Xl(e){let t=Je+1,n=me.length;for(;t<n;){const r=t+n>>>1;jn(me[r])<e?t=r+1:n=r}return t}function Ms(e){(!me.length||!me.includes(e,$n&&e.allowRecurse?Je+1:Je))&&(e.id==null?me.push(e):me.splice(Xl(e.id),0,e),Bo())}function Bo(){!$n&&!ts&&(ts=!0,Ls=Fo.then(Wo))}function Zl(e){const t=me.indexOf(e);t>Je&&me.splice(t,1)}function ec(e){M(e)?Kt.push(...e):(!et||!et.includes(e,e.allowRecurse?Tt+1:Tt))&&Kt.push(e),Bo()}function ci(e,t=$n?Je+1:0){for(;t<me.length;t++){const n=me[t];n&&n.pre&&(me.splice(t,1),t--,n())}}function Ho(e){if(Kt.length){const t=[...new Set(Kt)];if(Kt.length=0,et){et.push(...t);return}for(et=t,et.sort((n,r)=>jn(n)-jn(r)),Tt=0;Tt<et.length;Tt++)et[Tt]();et=null,Tt=0}}const jn=e=>e.id==null?1/0:e.id,tc=(e,t)=>{const n=jn(e)-jn(t);if(n===0){if(e.pre&&!t.pre)return-1;if(t.pre&&!e.pre)return 1}return n};function Wo(e){ts=!1,$n=!0,me.sort(tc);const t=He;try{for(Je=0;Je<me.length;Je++){const n=me[Je];n&&n.active!==!1&&_t(n,null,14)}}finally{Je=0,me.length=0,Ho(),$n=!1,Ls=null,(me.length||Kt.length)&&Wo()}}function nc(e,t,...n){if(e.isUnmounted)return;const r=e.vnode.props||se;let s=n;const i=t.startsWith("update:"),o=i&&t.slice(7);if(o&&o in r){const c=`${o==="modelValue"?"model":o}Modifiers`,{number:h,trim:d}=r[c]||se;d&&(s=n.map(g=>he(g)?g.trim():g)),h&&(s=n.map(Yr))}let a,l=r[a=Dr(t)]||r[a=Dr(Ye(t))];!l&&i&&(l=r[a=Dr(nn(t))]),l&&We(l,e,6,s);const u=r[a+"Once"];if(u){if(!e.emitted)e.emitted={};else if(e.emitted[a])return;e.emitted[a]=!0,We(u,e,6,s)}}function qo(e,t,n=!1){const r=t.emitsCache,s=r.get(e);if(s!==void 0)return s;const i=e.emits;let o={},a=!1;if(!F(e)){const l=u=>{const c=qo(u,t,!0);c&&(a=!0,be(o,c))};!n&&t.mixins.length&&t.mixins.forEach(l),e.extends&&l(e.extends),e.mixins&&e.mixins.forEach(l)}return!i&&!a?(re(e)&&r.set(e,null),null):(M(i)?i.forEach(l=>o[l]=null):be(o,i),re(e)&&r.set(e,o),o)}function br(e,t){return!e||!pr(t)?!1:(t=t.slice(2).replace(/Once$/,""),Q(e,t[0].toLowerCase()+t.slice(1))||Q(e,nn(t))||Q(e,t))}let je=null,wr=null;function lr(e){const t=je;return je=e,wr=e&&e.type.__scopeId||null,t}function rc(e){wr=e}function sc(){wr=null}function er(e,t=je,n){if(!t||e._n)return e;const r=(...s)=>{r._d&&yi(-1);const i=lr(t);let o;try{o=e(...s)}finally{lr(i),r._d&&yi(1)}return o};return r._n=!0,r._c=!0,r._d=!0,r}function Mr(e){const{type:t,vnode:n,proxy:r,withProxy:s,props:i,propsOptions:[o],slots:a,attrs:l,emit:u,render:c,renderCache:h,data:d,setupState:g,ctx:y,inheritAttrs:k}=e;let O,T;const I=lr(e);try{if(n.shapeFlag&4){const U=s||r;O=Ve(c.call(U,U,h,i,g,d,y)),T=l}else{const U=t;O=Ve(U.length>1?U(i,{attrs:l,slots:a,emit:u}):U(i,null)),T=t.props?l:ic(l)}}catch(U){kn.length=0,yr(U,e,1),O=ve(jt)}let A=O;if(T&&k!==!1){const U=Object.keys(T),{shapeFlag:H}=A;U.length&&H&7&&(o&&U.some(Ss)&&(T=oc(T,o)),A=Yt(A,T))}return n.dirs&&(A=Yt(A),A.dirs=A.dirs?A.dirs.concat(n.dirs):n.dirs),n.transition&&(A.transition=n.transition),O=A,lr(I),O}const ic=e=>{let t;for(const n in e)(n==="class"||n==="style"||pr(n))&&((t||(t={}))[n]=e[n]);return t},oc=(e,t)=>{const n={};for(const r in e)(!Ss(r)||!(r.slice(9)in t))&&(n[r]=e[r]);return n};function ac(e,t,n){const{props:r,children:s,component:i}=e,{props:o,children:a,patchFlag:l}=t,u=i.emitsOptions;if(t.dirs||t.transition)return!0;if(n&&l>=0){if(l&1024)return!0;if(l&16)return r?ui(r,o,u):!!o;if(l&8){const c=t.dynamicProps;for(let h=0;h<c.length;h++){const d=c[h];if(o[d]!==r[d]&&!br(u,d))return!0}}}else return(s||a)&&(!a||!a.$stable)?!0:r===o?!1:r?o?ui(r,o,u):!0:!!o;return!1}function ui(e,t,n){const r=Object.keys(t);if(r.length!==Object.keys(e).length)return!0;for(let s=0;s<r.length;s++){const i=r[s];if(t[i]!==e[i]&&!br(n,i))return!0}return!1}function lc({vnode:e,parent:t},n){for(;t&&t.subTree===e;)(e=t.vnode).el=n,t=t.parent}const cc=e=>e.__isSuspense;function uc(e,t){t&&t.pendingBranch?M(e)?t.effects.push(...e):t.effects.push(e):ec(e)}function tr(e,t){if(ae){let n=ae.provides;const r=ae.parent&&ae.parent.provides;r===n&&(n=ae.provides=Object.create(r)),n[e]=t}}function Qe(e,t,n=!1){const r=ae||je;if(r){const s=r.parent==null?r.vnode.appContext&&r.vnode.appContext.provides:r.parent.provides;if(s&&e in s)return s[e];if(arguments.length>1)return n&&F(t)?t.call(r.proxy):t}}const Gn={};function bn(e,t,n){return zo(e,t,n)}function zo(e,t,{immediate:n,deep:r,flush:s,onTrack:i,onTrigger:o}=se){const a=wo()===ae?.scope?ae:null;let l,u=!1,c=!1;if(oe(e)?(l=()=>e.value,u=ar(e)):rt(e)?(l=()=>e,r=!0):M(e)?(c=!0,u=e.some(A=>rt(A)||ar(A)),l=()=>e.map(A=>{if(oe(A))return A.value;if(rt(A))return Ct(A);if(F(A))return _t(A,a,2)})):F(e)?t?l=()=>_t(e,a,2):l=()=>{if(!(a&&a.isUnmounted))return h&&h(),We(e,a,3,[d])}:l=He,t&&r){const A=l;l=()=>Ct(A())}let h,d=A=>{h=T.onStop=()=>{_t(A,a,4)}},g;if(Ln)if(d=He,t?n&&We(t,a,3,[l(),c?[]:void 0,d]):l(),s==="sync"){const A=su();g=A.__watcherHandles||(A.__watcherHandles=[])}else return He;let y=c?new Array(e.length).fill(Gn):Gn;const k=()=>{if(T.active)if(t){const A=T.run();(r||u||(c?A.some((U,H)=>xn(U,y[H])):xn(A,y)))&&(h&&h(),We(t,a,3,[A,y===Gn?void 0:c&&y[0]===Gn?[]:y,d]),y=A)}else T.run()};k.allowRecurse=!!t;let O;s==="sync"?O=k:s==="post"?O=()=>Pe(k,a&&a.suspense):(k.pre=!0,a&&(k.id=a.uid),O=()=>Ms(k));const T=new xs(l,O);t?n?k():y=T.run():s==="post"?Pe(T.run.bind(T),a&&a.suspense):T.run();const I=()=>{T.stop(),a&&a.scope&&Ts(a.scope.effects,T)};return g&&g.push(I),I}function hc(e,t,n){const r=this.proxy,s=he(e)?e.includes(".")?Ko(r,e):()=>r[e]:e.bind(r,r);let i;F(t)?i=t:(i=t.handler,n=t);const o=ae;Xt(this);const a=zo(s,i.bind(r),n);return o?Xt(o):$t(),a}function Ko(e,t){const n=t.split(".");return()=>{let r=e;for(let s=0;s<n.length&&r;s++)r=r[n[s]];return r}}function Ct(e,t){if(!re(e)||e.__v_skip||(t=t||new Set,t.has(e)))return e;if(t.add(e),oe(e))Ct(e.value,t);else if(M(e))for(let n=0;n<e.length;n++)Ct(e[n],t);else if(gr(e)||zt(e))e.forEach(n=>{Ct(n,t)});else if(_o(e))for(const n in e)Ct(e[n],t);return e}function Ns(e){return F(e)?{setup:e,name:e.name}:e}const nr=e=>!!e.type.__asyncLoader,Go=e=>e.type.__isKeepAlive;function fc(e,t){Vo(e,"a",t)}function dc(e,t){Vo(e,"da",t)}function Vo(e,t,n=ae){const r=e.__wdc||(e.__wdc=()=>{let s=n;for(;s;){if(s.isDeactivated)return;s=s.parent}return e()});if(kr(t,r,n),n){let s=n.parent;for(;s&&s.parent;)Go(s.parent.vnode)&&pc(r,t,n,s),s=s.parent}}function pc(e,t,n,r){const s=kr(t,e,r,!0);Qo(()=>{Ts(r[t],s)},n)}function kr(e,t,n=ae,r=!1){if(n){const s=n[e]||(n[e]=[]),i=t.__weh||(t.__weh=(...o)=>{if(n.isUnmounted)return;rn(),Xt(n);const a=We(t,n,e,o);return $t(),sn(),a});return r?s.unshift(i):s.push(i),i}}const it=e=>(t,n=ae)=>(!Ln||e==="sp")&&kr(e,(...r)=>t(...r),n),gc=it("bm"),Jo=it("m"),mc=it("bu"),vc=it("u"),_c=it("bum"),Qo=it("um"),yc=it("sp"),bc=it("rtg"),wc=it("rtc");function kc(e,t=ae){kr("ec",e,t)}function ig(e,t){const n=je;if(n===null)return e;const r=Sr(n)||n.proxy,s=e.dirs||(e.dirs=[]);for(let i=0;i<t.length;i++){let[o,a,l,u=se]=t[i];o&&(F(o)&&(o={mounted:o,updated:o}),o.deep&&Ct(a),s.push({dir:o,instance:r,value:a,oldValue:void 0,arg:l,modifiers:u}))}return e}function wt(e,t,n,r){const s=e.dirs,i=t&&t.dirs;for(let o=0;o<s.length;o++){const a=s[o];i&&(a.oldValue=i[o].value);let l=a.dir[r];l&&(rn(),We(l,n,8,[e.el,a,e,t]),sn())}}const Yo="components";function hi(e,t){return Pc(Yo,e,!0,t)||e}const Ec=Symbol();function Pc(e,t,n=!0,r=!1){const s=je||ae;if(s){const i=s.type;if(e===Yo){const a=tu(i,!1);if(a&&(a===t||a===Ye(t)||a===vr(Ye(t))))return i}const o=fi(s[e]||i[e],t)||fi(s.appContext[e],t);return!o&&r?i:o}}function fi(e,t){return e&&(e[t]||e[Ye(t)]||e[vr(Ye(t))])}function og(e,t,n,r){let s;const i=n&&n[r];if(M(e)||he(e)){s=new Array(e.length);for(let o=0,a=e.length;o<a;o++)s[o]=t(e[o],o,void 0,i&&i[o])}else if(typeof e=="number"){s=new Array(e);for(let o=0;o<e;o++)s[o]=t(o+1,o,void 0,i&&i[o])}else if(re(e))if(e[Symbol.iterator])s=Array.from(e,(o,a)=>t(o,a,void 0,i&&i[a]));else{const o=Object.keys(e);s=new Array(o.length);for(let a=0,l=o.length;a<l;a++){const u=o[a];s[a]=t(e[u],u,a,i&&i[a])}}else s=[];return n&&(n[r]=s),s}const ns=e=>e?ca(e)?Sr(e)||e.proxy:ns(e.parent):null,wn=be(Object.create(null),{$:e=>e,$el:e=>e.vnode.el,$data:e=>e.data,$props:e=>e.props,$attrs:e=>e.attrs,$slots:e=>e.slots,$refs:e=>e.refs,$parent:e=>ns(e.parent),$root:e=>ns(e.root),$emit:e=>e.emit,$options:e=>Us(e),$forceUpdate:e=>e.f||(e.f=()=>Ms(e.update)),$nextTick:e=>e.n||(e.n=Ds.bind(e.proxy)),$watch:e=>hc.bind(e)}),Nr=(e,t)=>e!==se&&!e.__isScriptSetup&&Q(e,t),Sc={get({_:e},t){const{ctx:n,setupState:r,data:s,props:i,accessCache:o,type:a,appContext:l}=e;let u;if(t[0]!=="$"){const g=o[t];if(g!==void 0)switch(g){case 1:return r[t];case 2:return s[t];case 4:return n[t];case 3:return i[t]}else{if(Nr(r,t))return o[t]=1,r[t];if(s!==se&&Q(s,t))return o[t]=2,s[t];if((u=e.propsOptions[0])&&Q(u,t))return o[t]=3,i[t];if(n!==se&&Q(n,t))return o[t]=4,n[t];rs&&(o[t]=0)}}const c=wn[t];let h,d;if(c)return t==="$attrs"&&Oe(e,"get",t),c(e);if((h=a.__cssModules)&&(h=h[t]))return h;if(n!==se&&Q(n,t))return o[t]=4,n[t];if(d=l.config.globalProperties,Q(d,t))return d[t]},set({_:e},t,n){const{data:r,setupState:s,ctx:i}=e;return Nr(s,t)?(s[t]=n,!0):r!==se&&Q(r,t)?(r[t]=n,!0):Q(e.props,t)||t[0]==="$"&&t.slice(1)in e?!1:(i[t]=n,!0)},has({_:{data:e,setupState:t,accessCache:n,ctx:r,appContext:s,propsOptions:i}},o){let a;return!!n[o]||e!==se&&Q(e,o)||Nr(t,o)||(a=i[0])&&Q(a,o)||Q(r,o)||Q(wn,o)||Q(s.config.globalProperties,o)},defineProperty(e,t,n){return n.get!=null?e._.accessCache[t]=0:Q(n,"value")&&this.set(e,t,n.value,null),Reflect.defineProperty(e,t,n)}};let rs=!0;function Tc(e){const t=Us(e),n=e.proxy,r=e.ctx;rs=!1,t.beforeCreate&&di(t.beforeCreate,e,"bc");const{data:s,computed:i,methods:o,watch:a,provide:l,inject:u,created:c,beforeMount:h,mounted:d,beforeUpdate:g,updated:y,activated:k,deactivated:O,beforeDestroy:T,beforeUnmount:I,destroyed:A,unmounted:U,render:H,renderTracked:ue,renderTriggered:V,errorCaptured:q,serverPrefetch:ge,expose:fe,inheritAttrs:we,components:Ie,directives:ot,filters:Re}=t;if(u&&Oc(u,r,null,e.appContext.config.unwrapInjectedRef),o)for(const ee in o){const X=o[ee];F(X)&&(r[ee]=X.bind(n))}if(s){const ee=s.call(n,n);re(ee)&&(e.data=on(ee))}if(rs=!0,i)for(const ee in i){const X=i[ee],De=F(X)?X.bind(n,n):F(X.get)?X.get.bind(n,n):He,bt=!F(X)&&F(X.set)?X.set.bind(n):He,Me=$e({get:De,set:bt});Object.defineProperty(r,ee,{enumerable:!0,configurable:!0,get:()=>Me.value,set:ke=>Me.value=ke})}if(a)for(const ee in a)Xo(a[ee],r,n,ee);if(l){const ee=F(l)?l.call(n):l;Reflect.ownKeys(ee).forEach(X=>{tr(X,ee[X])})}c&&di(c,e,"c");function le(ee,X){M(X)?X.forEach(De=>ee(De.bind(n))):X&&ee(X.bind(n))}if(le(gc,h),le(Jo,d),le(mc,g),le(vc,y),le(fc,k),le(dc,O),le(kc,q),le(wc,ue),le(bc,V),le(_c,I),le(Qo,U),le(yc,ge),M(fe))if(fe.length){const ee=e.exposed||(e.exposed={});fe.forEach(X=>{Object.defineProperty(ee,X,{get:()=>n[X],set:De=>n[X]=De})})}else e.exposed||(e.exposed={});H&&e.render===He&&(e.render=H),we!=null&&(e.inheritAttrs=we),Ie&&(e.components=Ie),ot&&(e.directives=ot)}function Oc(e,t,n=He,r=!1){M(e)&&(e=ss(e));for(const s in e){const i=e[s];let o;re(i)?"default"in i?o=Qe(i.from||s,i.default,!0):o=Qe(i.from||s):o=Qe(i),oe(o)&&r?Object.defineProperty(t,s,{enumerable:!0,configurable:!0,get:()=>o.value,set:a=>o.value=a}):t[s]=o}}function di(e,t,n){We(M(e)?e.map(r=>r.bind(t.proxy)):e.bind(t.proxy),t,n)}function Xo(e,t,n,r){const s=r.includes(".")?Ko(n,r):()=>n[r];if(he(e)){const i=t[e];F(i)&&bn(s,i)}else if(F(e))bn(s,e.bind(n));else if(re(e))if(M(e))e.forEach(i=>Xo(i,t,n,r));else{const i=F(e.handler)?e.handler.bind(n):t[e.handler];F(i)&&bn(s,i,e)}}function Us(e){const t=e.type,{mixins:n,extends:r}=t,{mixins:s,optionsCache:i,config:{optionMergeStrategies:o}}=e.appContext,a=i.get(t);let l;return a?l=a:!s.length&&!n&&!r?l=t:(l={},s.length&&s.forEach(u=>cr(l,u,o,!0)),cr(l,t,o)),re(t)&&i.set(t,l),l}function cr(e,t,n,r=!1){const{mixins:s,extends:i}=t;i&&cr(e,i,n,!0),s&&s.forEach(o=>cr(e,o,n,!0));for(const o in t)if(!(r&&o==="expose")){const a=Rc[o]||n&&n[o];e[o]=a?a(e[o],t[o]):t[o]}return e}const Rc={data:pi,props:Pt,emits:Pt,methods:Pt,computed:Pt,beforeCreate:ye,created:ye,beforeMount:ye,mounted:ye,beforeUpdate:ye,updated:ye,beforeDestroy:ye,beforeUnmount:ye,destroyed:ye,unmounted:ye,activated:ye,deactivated:ye,errorCaptured:ye,serverPrefetch:ye,components:Pt,directives:Pt,watch:Cc,provide:pi,inject:xc};function pi(e,t){return t?e?function(){return be(F(e)?e.call(this,this):e,F(t)?t.call(this,this):t)}:t:e}function xc(e,t){return Pt(ss(e),ss(t))}function ss(e){if(M(e)){const t={};for(let n=0;n<e.length;n++)t[e[n]]=e[n];return t}return e}function ye(e,t){return e?[...new Set([].concat(e,t))]:t}function Pt(e,t){return e?be(be(Object.create(null),e),t):t}function Cc(e,t){if(!e)return t;if(!t)return e;const n=be(Object.create(null),e);for(const r in t)n[r]=ye(e[r],t[r]);return n}function Ac(e,t,n,r=!1){const s={},i={};ir(i,Pr,1),e.propsDefaults=Object.create(null),Zo(e,t,s,i);for(const o in e.propsOptions[0])o in s||(s[o]=void 0);n?e.props=r?s:Wl(s):e.type.props?e.props=s:e.props=i,e.attrs=i}function $c(e,t,n,r){const{props:s,attrs:i,vnode:{patchFlag:o}}=e,a=G(s),[l]=e.propsOptions;let u=!1;if((r||o>0)&&!(o&16)){if(o&8){const c=e.vnode.dynamicProps;for(let h=0;h<c.length;h++){let d=c[h];if(br(e.emitsOptions,d))continue;const g=t[d];if(l)if(Q(i,d))g!==i[d]&&(i[d]=g,u=!0);else{const y=Ye(d);s[y]=is(l,a,y,g,e,!1)}else g!==i[d]&&(i[d]=g,u=!0)}}}else{Zo(e,t,s,i)&&(u=!0);let c;for(const h in a)(!t||!Q(t,h)&&((c=nn(h))===h||!Q(t,c)))&&(l?n&&(n[h]!==void 0||n[c]!==void 0)&&(s[h]=is(l,a,h,void 0,e,!0)):delete s[h]);if(i!==a)for(const h in i)(!t||!Q(t,h))&&(delete i[h],u=!0)}u&&st(e,"set","$attrs")}function Zo(e,t,n,r){const[s,i]=e.propsOptions;let o=!1,a;if(t)for(let l in t){if(Xn(l))continue;const u=t[l];let c;s&&Q(s,c=Ye(l))?!i||!i.includes(c)?n[c]=u:(a||(a={}))[c]=u:br(e.emitsOptions,l)||(!(l in r)||u!==r[l])&&(r[l]=u,o=!0)}if(i){const l=G(n),u=a||se;for(let c=0;c<i.length;c++){const h=i[c];n[h]=is(s,l,h,u[h],e,!Q(u,h))}}return o}function is(e,t,n,r,s,i){const o=e[n];if(o!=null){const a=Q(o,"default");if(a&&r===void 0){const l=o.default;if(o.type!==Function&&F(l)){const{propsDefaults:u}=s;n in u?r=u[n]:(Xt(s),r=u[n]=l.call(null,t),$t())}else r=l}o[0]&&(i&&!a?r=!1:o[1]&&(r===""||r===nn(n))&&(r=!0))}return r}function ea(e,t,n=!1){const r=t.propsCache,s=r.get(e);if(s)return s;const i=e.props,o={},a=[];let l=!1;if(!F(e)){const c=h=>{l=!0;const[d,g]=ea(h,t,!0);be(o,d),g&&a.push(...g)};!n&&t.mixins.length&&t.mixins.forEach(c),e.extends&&c(e.extends),e.mixins&&e.mixins.forEach(c)}if(!i&&!l)return re(e)&&r.set(e,qt),qt;if(M(i))for(let c=0;c<i.length;c++){const h=Ye(i[c]);gi(h)&&(o[h]=se)}else if(i)for(const c in i){const h=Ye(c);if(gi(h)){const d=i[c],g=o[h]=M(d)||F(d)?{type:d}:Object.assign({},d);if(g){const y=_i(Boolean,g.type),k=_i(String,g.type);g[0]=y>-1,g[1]=k<0||y<k,(y>-1||Q(g,"default"))&&a.push(h)}}}const u=[o,a];return re(e)&&r.set(e,u),u}function gi(e){return e[0]!=="$"}function mi(e){const t=e&&e.toString().match(/^\s*(function|class) (\w+)/);return t?t[2]:e===null?"null":""}function vi(e,t){return mi(e)===mi(t)}function _i(e,t){return M(t)?t.findIndex(n=>vi(n,e)):F(t)&&vi(t,e)?0:-1}const ta=e=>e[0]==="_"||e==="$stable",Fs=e=>M(e)?e.map(Ve):[Ve(e)],jc=(e,t,n)=>{if(t._n)return t;const r=er((...s)=>Fs(t(...s)),n);return r._c=!1,r},na=(e,t,n)=>{const r=e._ctx;for(const s in e){if(ta(s))continue;const i=e[s];if(F(i))t[s]=jc(s,i,r);else if(i!=null){const o=Fs(i);t[s]=()=>o}}},ra=(e,t)=>{const n=Fs(t);e.slots.default=()=>n},Ic=(e,t)=>{if(e.vnode.shapeFlag&32){const n=t._;n?(e.slots=G(t),ir(t,"_",n)):na(t,e.slots={})}else e.slots={},t&&ra(e,t);ir(e.slots,Pr,1)},Lc=(e,t,n)=>{const{vnode:r,slots:s}=e;let i=!0,o=se;if(r.shapeFlag&32){const a=t._;a?n&&a===1?i=!1:(be(s,t),!n&&a===1&&delete s._):(i=!t.$stable,na(t,s)),o=t}else t&&(ra(e,t),o={default:1});if(i)for(const a in s)!ta(a)&&!(a in o)&&delete s[a]};function sa(){return{app:null,config:{isNativeTag:al,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let Dc=0;function Mc(e,t){return function(r,s=null){F(r)||(r=Object.assign({},r)),s!=null&&!re(s)&&(s=null);const i=sa(),o=new Set;let a=!1;const l=i.app={_uid:Dc++,_component:r,_props:s,_container:null,_context:i,_instance:null,version:iu,get config(){return i.config},set config(u){},use(u,...c){return o.has(u)||(u&&F(u.install)?(o.add(u),u.install(l,...c)):F(u)&&(o.add(u),u(l,...c))),l},mixin(u){return i.mixins.includes(u)||i.mixins.push(u),l},component(u,c){return c?(i.components[u]=c,l):i.components[u]},directive(u,c){return c?(i.directives[u]=c,l):i.directives[u]},mount(u,c,h){if(!a){const d=ve(r,s);return d.appContext=i,c&&t?t(d,u):e(d,u,h),a=!0,l._container=u,u.__vue_app__=l,Sr(d.component)||d.component.proxy}},unmount(){a&&(e(null,l._container),delete l._container.__vue_app__)},provide(u,c){return i.provides[u]=c,l}};return l}}function os(e,t,n,r,s=!1){if(M(e)){e.forEach((d,g)=>os(d,t&&(M(t)?t[g]:t),n,r,s));return}if(nr(r)&&!s)return;const i=r.shapeFlag&4?Sr(r.component)||r.component.proxy:r.el,o=s?null:i,{i:a,r:l}=e,u=t&&t.r,c=a.refs===se?a.refs={}:a.refs,h=a.setupState;if(u!=null&&u!==l&&(he(u)?(c[u]=null,Q(h,u)&&(h[u]=null)):oe(u)&&(u.value=null)),F(l))_t(l,a,12,[o,c]);else{const d=he(l),g=oe(l);if(d||g){const y=()=>{if(e.f){const k=d?Q(h,l)?h[l]:c[l]:l.value;s?M(k)&&Ts(k,i):M(k)?k.includes(i)||k.push(i):d?(c[l]=[i],Q(h,l)&&(h[l]=c[l])):(l.value=[i],e.k&&(c[e.k]=l.value))}else d?(c[l]=o,Q(h,l)&&(h[l]=o)):g&&(l.value=o,e.k&&(c[e.k]=o))};o?(y.id=-1,Pe(y,n)):y()}}}const Pe=uc;function Nc(e){return Uc(e)}function Uc(e,t){const n=dl();n.__VUE__=!0;const{insert:r,remove:s,patchProp:i,createElement:o,createText:a,createComment:l,setText:u,setElementText:c,parentNode:h,nextSibling:d,setScopeId:g=He,insertStaticContent:y}=e,k=(f,p,m,v=null,b=null,P=null,x=!1,E=null,S=!!p.dynamicChildren)=>{if(f===p)return;f&&!un(f,p)&&(v=R(f),ke(f,b,P,!0),f=null),p.patchFlag===-2&&(S=!1,p.dynamicChildren=null);const{type:w,ref:L,shapeFlag:$}=p;switch(w){case Er:O(f,p,m,v);break;case jt:T(f,p,m,v);break;case Ur:f==null&&I(p,m,v,x);break;case nt:Ie(f,p,m,v,b,P,x,E,S);break;default:$&1?H(f,p,m,v,b,P,x,E,S):$&6?ot(f,p,m,v,b,P,x,E,S):($&64||$&128)&&w.process(f,p,m,v,b,P,x,E,S,J)}L!=null&&b&&os(L,f&&f.ref,P,p||f,!p)},O=(f,p,m,v)=>{if(f==null)r(p.el=a(p.children),m,v);else{const b=p.el=f.el;p.children!==f.children&&u(b,p.children)}},T=(f,p,m,v)=>{f==null?r(p.el=l(p.children||""),m,v):p.el=f.el},I=(f,p,m,v)=>{[f.el,f.anchor]=y(f.children,p,m,v,f.el,f.anchor)},A=({el:f,anchor:p},m,v)=>{let b;for(;f&&f!==p;)b=d(f),r(f,m,v),f=b;r(p,m,v)},U=({el:f,anchor:p})=>{let m;for(;f&&f!==p;)m=d(f),s(f),f=m;s(p)},H=(f,p,m,v,b,P,x,E,S)=>{x=x||p.type==="svg",f==null?ue(p,m,v,b,P,x,E,S):ge(f,p,b,P,x,E,S)},ue=(f,p,m,v,b,P,x,E)=>{let S,w;const{type:L,props:$,shapeFlag:D,transition:N,dirs:z}=f;if(S=f.el=o(f.type,P,$&&$.is,$),D&8?c(S,f.children):D&16&&q(f.children,S,null,v,b,P&&L!=="foreignObject",x,E),z&&wt(f,null,v,"created"),V(S,f,f.scopeId,x,v),$){for(const Z in $)Z!=="value"&&!Xn(Z)&&i(S,Z,null,$[Z],P,f.children,v,b,C);"value"in $&&i(S,"value",null,$.value),(w=$.onVnodeBeforeMount)&&Ke(w,v,f)}z&&wt(f,null,v,"beforeMount");const te=(!b||b&&!b.pendingBranch)&&N&&!N.persisted;te&&N.beforeEnter(S),r(S,p,m),((w=$&&$.onVnodeMounted)||te||z)&&Pe(()=>{w&&Ke(w,v,f),te&&N.enter(S),z&&wt(f,null,v,"mounted")},b)},V=(f,p,m,v,b)=>{if(m&&g(f,m),v)for(let P=0;P<v.length;P++)g(f,v[P]);if(b){let P=b.subTree;if(p===P){const x=b.vnode;V(f,x,x.scopeId,x.slotScopeIds,b.parent)}}},q=(f,p,m,v,b,P,x,E,S=0)=>{for(let w=S;w<f.length;w++){const L=f[w]=E?ft(f[w]):Ve(f[w]);k(null,L,p,m,v,b,P,x,E)}},ge=(f,p,m,v,b,P,x)=>{const E=p.el=f.el;let{patchFlag:S,dynamicChildren:w,dirs:L}=p;S|=f.patchFlag&16;const $=f.props||se,D=p.props||se;let N;m&&kt(m,!1),(N=D.onVnodeBeforeUpdate)&&Ke(N,m,p,f),L&&wt(p,f,m,"beforeUpdate"),m&&kt(m,!0);const z=b&&p.type!=="foreignObject";if(w?fe(f.dynamicChildren,w,E,m,v,z,P):x||X(f,p,E,null,m,v,z,P,!1),S>0){if(S&16)we(E,p,$,D,m,v,b);else if(S&2&&$.class!==D.class&&i(E,"class",null,D.class,b),S&4&&i(E,"style",$.style,D.style,b),S&8){const te=p.dynamicProps;for(let Z=0;Z<te.length;Z++){const ce=te[Z],Ne=$[ce],Mt=D[ce];(Mt!==Ne||ce==="value")&&i(E,ce,Ne,Mt,b,f.children,m,v,C)}}S&1&&f.children!==p.children&&c(E,p.children)}else!x&&w==null&&we(E,p,$,D,m,v,b);((N=D.onVnodeUpdated)||L)&&Pe(()=>{N&&Ke(N,m,p,f),L&&wt(p,f,m,"updated")},v)},fe=(f,p,m,v,b,P,x)=>{for(let E=0;E<p.length;E++){const S=f[E],w=p[E],L=S.el&&(S.type===nt||!un(S,w)||S.shapeFlag&70)?h(S.el):m;k(S,w,L,null,v,b,P,x,!0)}},we=(f,p,m,v,b,P,x)=>{if(m!==v){if(m!==se)for(const E in m)!Xn(E)&&!(E in v)&&i(f,E,m[E],null,x,p.children,b,P,C);for(const E in v){if(Xn(E))continue;const S=v[E],w=m[E];S!==w&&E!=="value"&&i(f,E,w,S,x,p.children,b,P,C)}"value"in v&&i(f,"value",m.value,v.value)}},Ie=(f,p,m,v,b,P,x,E,S)=>{const w=p.el=f?f.el:a(""),L=p.anchor=f?f.anchor:a("");let{patchFlag:$,dynamicChildren:D,slotScopeIds:N}=p;N&&(E=E?E.concat(N):N),f==null?(r(w,m,v),r(L,m,v),q(p.children,m,L,b,P,x,E,S)):$>0&&$&64&&D&&f.dynamicChildren?(fe(f.dynamicChildren,D,m,b,P,x,E),(p.key!=null||b&&p===b.subTree)&&ia(f,p,!0)):X(f,p,m,L,b,P,x,E,S)},ot=(f,p,m,v,b,P,x,E,S)=>{p.slotScopeIds=E,f==null?p.shapeFlag&512?b.ctx.activate(p,m,v,x,S):Re(p,m,v,b,P,x,S):de(f,p,S)},Re=(f,p,m,v,b,P,x)=>{const E=f.component=Jc(f,v,b);if(Go(f)&&(E.ctx.renderer=J),Yc(E),E.asyncDep){if(b&&b.registerDep(E,le),!f.el){const S=E.subTree=ve(jt);T(null,S,p,m)}return}le(E,f,p,m,b,P,x)},de=(f,p,m)=>{const v=p.component=f.component;if(ac(f,p,m))if(v.asyncDep&&!v.asyncResolved){ee(v,p,m);return}else v.next=p,Zl(v.update),v.update();else p.el=f.el,v.vnode=p},le=(f,p,m,v,b,P,x)=>{const E=()=>{if(f.isMounted){let{next:L,bu:$,u:D,parent:N,vnode:z}=f,te=L,Z;kt(f,!1),L?(L.el=z.el,ee(f,L,x)):L=z,$&&Zn($),(Z=L.props&&L.props.onVnodeBeforeUpdate)&&Ke(Z,N,L,z),kt(f,!0);const ce=Mr(f),Ne=f.subTree;f.subTree=ce,k(Ne,ce,h(Ne.el),R(Ne),f,b,P),L.el=ce.el,te===null&&lc(f,ce.el),D&&Pe(D,b),(Z=L.props&&L.props.onVnodeUpdated)&&Pe(()=>Ke(Z,N,L,z),b)}else{let L;const{el:$,props:D}=p,{bm:N,m:z,parent:te}=f,Z=nr(p);if(kt(f,!1),N&&Zn(N),!Z&&(L=D&&D.onVnodeBeforeMount)&&Ke(L,te,p),kt(f,!0),$&&W){const ce=()=>{f.subTree=Mr(f),W($,f.subTree,f,b,null)};Z?p.type.__asyncLoader().then(()=>!f.isUnmounted&&ce()):ce()}else{const ce=f.subTree=Mr(f);k(null,ce,m,v,f,b,P),p.el=ce.el}if(z&&Pe(z,b),!Z&&(L=D&&D.onVnodeMounted)){const ce=p;Pe(()=>Ke(L,te,ce),b)}(p.shapeFlag&256||te&&nr(te.vnode)&&te.vnode.shapeFlag&256)&&f.a&&Pe(f.a,b),f.isMounted=!0,p=m=v=null}},S=f.effect=new xs(E,()=>Ms(w),f.scope),w=f.update=()=>S.run();w.id=f.uid,kt(f,!0),w()},ee=(f,p,m)=>{p.component=f;const v=f.vnode.props;f.vnode=p,f.next=null,$c(f,p.props,v,m),Lc(f,p.children,m),rn(),ci(),sn()},X=(f,p,m,v,b,P,x,E,S=!1)=>{const w=f&&f.children,L=f?f.shapeFlag:0,$=p.children,{patchFlag:D,shapeFlag:N}=p;if(D>0){if(D&128){bt(w,$,m,v,b,P,x,E,S);return}else if(D&256){De(w,$,m,v,b,P,x,E,S);return}}N&8?(L&16&&C(w,b,P),$!==w&&c(m,$)):L&16?N&16?bt(w,$,m,v,b,P,x,E,S):C(w,b,P,!0):(L&8&&c(m,""),N&16&&q($,m,v,b,P,x,E,S))},De=(f,p,m,v,b,P,x,E,S)=>{f=f||qt,p=p||qt;const w=f.length,L=p.length,$=Math.min(w,L);let D;for(D=0;D<$;D++){const N=p[D]=S?ft(p[D]):Ve(p[D]);k(f[D],N,m,null,b,P,x,E,S)}w>L?C(f,b,P,!0,!1,$):q(p,m,v,b,P,x,E,S,$)},bt=(f,p,m,v,b,P,x,E,S)=>{let w=0;const L=p.length;let $=f.length-1,D=L-1;for(;w<=$&&w<=D;){const N=f[w],z=p[w]=S?ft(p[w]):Ve(p[w]);if(un(N,z))k(N,z,m,null,b,P,x,E,S);else break;w++}for(;w<=$&&w<=D;){const N=f[$],z=p[D]=S?ft(p[D]):Ve(p[D]);if(un(N,z))k(N,z,m,null,b,P,x,E,S);else break;$--,D--}if(w>$){if(w<=D){const N=D+1,z=N<L?p[N].el:v;for(;w<=D;)k(null,p[w]=S?ft(p[w]):Ve(p[w]),m,z,b,P,x,E,S),w++}}else if(w>D)for(;w<=$;)ke(f[w],b,P,!0),w++;else{const N=w,z=w,te=new Map;for(w=z;w<=D;w++){const xe=p[w]=S?ft(p[w]):Ve(p[w]);xe.key!=null&&te.set(xe.key,w)}let Z,ce=0;const Ne=D-z+1;let Mt=!1,Ys=0;const cn=new Array(Ne);for(w=0;w<Ne;w++)cn[w]=0;for(w=N;w<=$;w++){const xe=f[w];if(ce>=Ne){ke(xe,b,P,!0);continue}let ze;if(xe.key!=null)ze=te.get(xe.key);else for(Z=z;Z<=D;Z++)if(cn[Z-z]===0&&un(xe,p[Z])){ze=Z;break}ze===void 0?ke(xe,b,P,!0):(cn[ze-z]=w+1,ze>=Ys?Ys=ze:Mt=!0,k(xe,p[ze],m,null,b,P,x,E,S),ce++)}const Xs=Mt?Fc(cn):qt;for(Z=Xs.length-1,w=Ne-1;w>=0;w--){const xe=z+w,ze=p[xe],Zs=xe+1<L?p[xe+1].el:v;cn[w]===0?k(null,ze,m,Zs,b,P,x,E,S):Mt&&(Z<0||w!==Xs[Z]?Me(ze,m,Zs,2):Z--)}}},Me=(f,p,m,v,b=null)=>{const{el:P,type:x,transition:E,children:S,shapeFlag:w}=f;if(w&6){Me(f.component.subTree,p,m,v);return}if(w&128){f.suspense.move(p,m,v);return}if(w&64){x.move(f,p,m,J);return}if(x===nt){r(P,p,m);for(let $=0;$<S.length;$++)Me(S[$],p,m,v);r(f.anchor,p,m);return}if(x===Ur){A(f,p,m);return}if(v!==2&&w&1&&E)if(v===0)E.beforeEnter(P),r(P,p,m),Pe(()=>E.enter(P),b);else{const{leave:$,delayLeave:D,afterLeave:N}=E,z=()=>r(P,p,m),te=()=>{$(P,()=>{z(),N&&N()})};D?D(P,z,te):te()}else r(P,p,m)},ke=(f,p,m,v=!1,b=!1)=>{const{type:P,props:x,ref:E,children:S,dynamicChildren:w,shapeFlag:L,patchFlag:$,dirs:D}=f;if(E!=null&&os(E,null,m,f,!0),L&256){p.ctx.deactivate(f);return}const N=L&1&&D,z=!nr(f);let te;if(z&&(te=x&&x.onVnodeBeforeUnmount)&&Ke(te,p,f),L&6)_(f.component,m,v);else{if(L&128){f.suspense.unmount(m,v);return}N&&wt(f,null,p,"beforeUnmount"),L&64?f.type.remove(f,p,m,b,J,v):w&&(P!==nt||$>0&&$&64)?C(w,p,m,!1,!0):(P===nt&&$&384||!b&&L&16)&&C(S,p,m),v&&Dt(f)}(z&&(te=x&&x.onVnodeUnmounted)||N)&&Pe(()=>{te&&Ke(te,p,f),N&&wt(f,null,p,"unmounted")},m)},Dt=f=>{const{type:p,el:m,anchor:v,transition:b}=f;if(p===nt){Bn(m,v);return}if(p===Ur){U(f);return}const P=()=>{s(m),b&&!b.persisted&&b.afterLeave&&b.afterLeave()};if(f.shapeFlag&1&&b&&!b.persisted){const{leave:x,delayLeave:E}=b,S=()=>x(m,P);E?E(f.el,P,S):S()}else P()},Bn=(f,p)=>{let m;for(;f!==p;)m=d(f),s(f),f=m;s(p)},_=(f,p,m)=>{const{bum:v,scope:b,update:P,subTree:x,um:E}=f;v&&Zn(v),b.stop(),P&&(P.active=!1,ke(x,f,p,m)),E&&Pe(E,p),Pe(()=>{f.isUnmounted=!0},p),p&&p.pendingBranch&&!p.isUnmounted&&f.asyncDep&&!f.asyncResolved&&f.suspenseId===p.pendingId&&(p.deps--,p.deps===0&&p.resolve())},C=(f,p,m,v=!1,b=!1,P=0)=>{for(let x=P;x<f.length;x++)ke(f[x],p,m,v,b)},R=f=>f.shapeFlag&6?R(f.component.subTree):f.shapeFlag&128?f.suspense.next():d(f.anchor||f.el),j=(f,p,m)=>{f==null?p._vnode&&ke(p._vnode,null,null,!0):k(p._vnode||null,f,p,null,null,null,m),ci(),Ho(),p._vnode=f},J={p:k,um:ke,m:Me,r:Dt,mt:Re,mc:q,pc:X,pbc:fe,n:R,o:e};let ie,W;return t&&([ie,W]=t(J)),{render:j,hydrate:ie,createApp:Mc(j,ie)}}function kt({effect:e,update:t},n){e.allowRecurse=t.allowRecurse=n}function ia(e,t,n=!1){const r=e.children,s=t.children;if(M(r)&&M(s))for(let i=0;i<r.length;i++){const o=r[i];let a=s[i];a.shapeFlag&1&&!a.dynamicChildren&&((a.patchFlag<=0||a.patchFlag===32)&&(a=s[i]=ft(s[i]),a.el=o.el),n||ia(o,a)),a.type===Er&&(a.el=o.el)}}function Fc(e){const t=e.slice(),n=[0];let r,s,i,o,a;const l=e.length;for(r=0;r<l;r++){const u=e[r];if(u!==0){if(s=n[n.length-1],e[s]<u){t[r]=s,n.push(r);continue}for(i=0,o=n.length-1;i<o;)a=i+o>>1,e[n[a]]<u?i=a+1:o=a;u<e[n[i]]&&(i>0&&(t[r]=n[i-1]),n[i]=r)}}for(i=n.length,o=n[i-1];i-- >0;)n[i]=o,o=t[o];return n}const Bc=e=>e.__isTeleport,nt=Symbol(void 0),Er=Symbol(void 0),jt=Symbol(void 0),Ur=Symbol(void 0),kn=[];let Be=null;function _n(e=!1){kn.push(Be=e?null:[])}function Hc(){kn.pop(),Be=kn[kn.length-1]||null}let In=1;function yi(e){In+=e}function oa(e){return e.dynamicChildren=In>0?Be||qt:null,Hc(),In>0&&Be&&Be.push(e),e}function Fr(e,t,n,r,s,i){return oa(Qt(e,t,n,r,s,i,!0))}function aa(e,t,n,r,s){return oa(ve(e,t,n,r,s,!0))}function as(e){return e?e.__v_isVNode===!0:!1}function un(e,t){return e.type===t.type&&e.key===t.key}const Pr="__vInternal",la=({key:e})=>e??null,rr=({ref:e,ref_key:t,ref_for:n})=>e!=null?he(e)||oe(e)||F(e)?{i:je,r:e,k:t,f:!!n}:e:null;function Qt(e,t=null,n=null,r=0,s=null,i=e===nt?0:1,o=!1,a=!1){const l={__v_isVNode:!0,__v_skip:!0,type:e,props:t,key:t&&la(t),ref:t&&rr(t),scopeId:wr,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:i,patchFlag:r,dynamicProps:s,dynamicChildren:null,appContext:null,ctx:je};return a?(Bs(l,n),i&128&&e.normalize(l)):n&&(l.shapeFlag|=he(n)?8:16),In>0&&!o&&Be&&(l.patchFlag>0||i&6)&&l.patchFlag!==32&&Be.push(l),l}const ve=Wc;function Wc(e,t=null,n=null,r=0,s=null,i=!1){if((!e||e===Ec)&&(e=jt),as(e)){const a=Yt(e,t,!0);return n&&Bs(a,n),In>0&&!i&&Be&&(a.shapeFlag&6?Be[Be.indexOf(e)]=a:Be.push(a)),a.patchFlag|=-2,a}if(nu(e)&&(e=e.__vccOpts),t){t=qc(t);let{class:a,style:l}=t;a&&!he(a)&&(t.class=Ps(a)),re(l)&&(jo(l)&&!M(l)&&(l=be({},l)),t.style=Es(l))}const o=he(e)?1:cc(e)?128:Bc(e)?64:re(e)?4:F(e)?2:0;return Qt(e,t,n,r,s,o,i,!0)}function qc(e){return e?jo(e)||Pr in e?be({},e):e:null}function Yt(e,t,n=!1){const{props:r,ref:s,patchFlag:i,children:o}=e,a=t?Kc(r||{},t):r;return{__v_isVNode:!0,__v_skip:!0,type:e.type,props:a,key:a&&la(a),ref:t&&t.ref?n&&s?M(s)?s.concat(rr(t)):[s,rr(t)]:rr(t):s,scopeId:e.scopeId,slotScopeIds:e.slotScopeIds,children:o,target:e.target,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:t&&e.type!==nt?i===-1?16:i|16:i,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:e.transition,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&Yt(e.ssContent),ssFallback:e.ssFallback&&Yt(e.ssFallback),el:e.el,anchor:e.anchor,ctx:e.ctx,ce:e.ce}}function sr(e=" ",t=0){return ve(Er,null,e,t)}function zc(e="",t=!1){return t?(_n(),aa(jt,null,e)):ve(jt,null,e)}function Ve(e){return e==null||typeof e=="boolean"?ve(jt):M(e)?ve(nt,null,e.slice()):typeof e=="object"?ft(e):ve(Er,null,String(e))}function ft(e){return e.el===null&&e.patchFlag!==-1||e.memo?e:Yt(e)}function Bs(e,t){let n=0;const{shapeFlag:r}=e;if(t==null)t=null;else if(M(t))n=16;else if(typeof t=="object")if(r&65){const s=t.default;s&&(s._c&&(s._d=!1),Bs(e,s()),s._c&&(s._d=!0));return}else{n=32;const s=t._;!s&&!(Pr in t)?t._ctx=je:s===3&&je&&(je.slots._===1?t._=1:(t._=2,e.patchFlag|=1024))}else F(t)?(t={default:t,_ctx:je},n=32):(t=String(t),r&64?(n=16,t=[sr(t)]):n=8);e.children=t,e.shapeFlag|=n}function Kc(...e){const t={};for(let n=0;n<e.length;n++){const r=e[n];for(const s in r)if(s==="class")t.class!==r.class&&(t.class=Ps([t.class,r.class]));else if(s==="style")t.style=Es([t.style,r.style]);else if(pr(s)){const i=t[s],o=r[s];o&&i!==o&&!(M(i)&&i.includes(o))&&(t[s]=i?[].concat(i,o):o)}else s!==""&&(t[s]=r[s])}return t}function Ke(e,t,n,r=null){We(e,t,7,[n,r])}const Gc=sa();let Vc=0;function Jc(e,t,n){const r=e.type,s=(t?t.appContext:e.appContext)||Gc,i={uid:Vc++,vnode:e,type:r,parent:t,appContext:s,root:null,next:null,subTree:null,effect:null,update:null,scope:new yo(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:t?t.provides:Object.create(s.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:ea(r,s),emitsOptions:qo(r,s),emit:null,emitted:null,propsDefaults:se,inheritAttrs:r.inheritAttrs,ctx:se,data:se,props:se,attrs:se,slots:se,refs:se,setupState:se,setupContext:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return i.ctx={_:i},i.root=t?t.root:i,i.emit=nc.bind(null,i),e.ce&&e.ce(i),i}let ae=null;const Qc=()=>ae||je,Xt=e=>{ae=e,e.scope.on()},$t=()=>{ae&&ae.scope.off(),ae=null};function ca(e){return e.vnode.shapeFlag&4}let Ln=!1;function Yc(e,t=!1){Ln=t;const{props:n,children:r}=e.vnode,s=ca(e);Ac(e,n,s,t),Ic(e,r);const i=s?Xc(e,t):void 0;return Ln=!1,i}function Xc(e,t){const n=e.type;e.accessCache=Object.create(null),e.proxy=Jt(new Proxy(e.ctx,Sc));const{setup:r}=n;if(r){const s=e.setupContext=r.length>1?eu(e):null;Xt(e),rn();const i=_t(r,e,0,[e.props,s]);if(sn(),$t(),mo(i)){if(i.then($t,$t),t)return i.then(o=>{bi(e,o,t)}).catch(o=>{yr(o,e,0)});e.asyncDep=i}else bi(e,i,t)}else ua(e,t)}function bi(e,t,n){F(t)?e.type.__ssrInlineRender?e.ssrRender=t:e.render=t:re(t)&&(e.setupState=Mo(t)),ua(e,n)}let wi;function ua(e,t,n){const r=e.type;if(!e.render){if(!t&&wi&&!r.render){const s=r.template||Us(e).template;if(s){const{isCustomElement:i,compilerOptions:o}=e.appContext.config,{delimiters:a,compilerOptions:l}=r,u=be(be({isCustomElement:i,delimiters:a},o),l);r.render=wi(s,u)}}e.render=r.render||He}Xt(e),rn(),Tc(e),sn(),$t()}function Zc(e){return new Proxy(e.attrs,{get(t,n){return Oe(e,"get","$attrs"),t[n]}})}function eu(e){const t=r=>{e.exposed=r||{}};let n;return{get attrs(){return n||(n=Zc(e))},slots:e.slots,emit:e.emit,expose:t}}function Sr(e){if(e.exposed)return e.exposeProxy||(e.exposeProxy=new Proxy(Mo(Jt(e.exposed)),{get(t,n){if(n in t)return t[n];if(n in wn)return wn[n](e)},has(t,n){return n in t||n in wn}}))}function tu(e,t=!0){return F(e)?e.displayName||e.name:e.name||t&&e.__name}function nu(e){return F(e)&&"__vccOpts"in e}const $e=(e,t)=>Ql(e,t,Ln);function ha(e,t,n){const r=arguments.length;return r===2?re(t)&&!M(t)?as(t)?ve(e,null,[t]):ve(e,t):ve(e,null,t):(r>3?n=Array.prototype.slice.call(arguments,2):r===3&&as(n)&&(n=[n]),ve(e,t,n))}const ru=Symbol(""),su=()=>Qe(ru),iu="3.2.47",ou="http://www.w3.org/2000/svg",Ot=typeof document<"u"?document:null,ki=Ot&&Ot.createElement("template"),au={insert:(e,t,n)=>{t.insertBefore(e,n||null)},remove:e=>{const t=e.parentNode;t&&t.removeChild(e)},createElement:(e,t,n,r)=>{const s=t?Ot.createElementNS(ou,e):Ot.createElement(e,n?{is:n}:void 0);return e==="select"&&r&&r.multiple!=null&&s.setAttribute("multiple",r.multiple),s},createText:e=>Ot.createTextNode(e),createComment:e=>Ot.createComment(e),setText:(e,t)=>{e.nodeValue=t},setElementText:(e,t)=>{e.textContent=t},parentNode:e=>e.parentNode,nextSibling:e=>e.nextSibling,querySelector:e=>Ot.querySelector(e),setScopeId(e,t){e.setAttribute(t,"")},insertStaticContent(e,t,n,r,s,i){const o=n?n.previousSibling:t.lastChild;if(s&&(s===i||s.nextSibling))for(;t.insertBefore(s.cloneNode(!0),n),!(s===i||!(s=s.nextSibling)););else{ki.innerHTML=r?`<svg>${e}</svg>`:e;const a=ki.content;if(r){const l=a.firstChild;for(;l.firstChild;)a.appendChild(l.firstChild);a.removeChild(l)}t.insertBefore(a,n)}return[o?o.nextSibling:t.firstChild,n?n.previousSibling:t.lastChild]}};function lu(e,t,n){const r=e._vtc;r&&(t=(t?[t,...r]:[...r]).join(" ")),t==null?e.removeAttribute("class"):n?e.setAttribute("class",t):e.className=t}function cu(e,t,n){const r=e.style,s=he(n);if(n&&!s){if(t&&!he(t))for(const i in t)n[i]==null&&ls(r,i,"");for(const i in n)ls(r,i,n[i])}else{const i=r.display;s?t!==n&&(r.cssText=n):t&&e.removeAttribute("style"),"_vod"in e&&(r.display=i)}}const Ei=/\s*!important$/;function ls(e,t,n){if(M(n))n.forEach(r=>ls(e,t,r));else if(n==null&&(n=""),t.startsWith("--"))e.setProperty(t,n);else{const r=uu(e,t);Ei.test(n)?e.setProperty(nn(r),n.replace(Ei,""),"important"):e[r]=n}}const Pi=["Webkit","Moz","ms"],Br={};function uu(e,t){const n=Br[t];if(n)return n;let r=Ye(t);if(r!=="filter"&&r in e)return Br[t]=r;r=vr(r);for(let s=0;s<Pi.length;s++){const i=Pi[s]+r;if(i in e)return Br[t]=i}return t}const Si="http://www.w3.org/1999/xlink";function hu(e,t,n,r,s){if(r&&t.startsWith("xlink:"))n==null?e.removeAttributeNS(Si,t.slice(6,t.length)):e.setAttributeNS(Si,t,n);else{const i=il(t);n==null||i&&!fo(n)?e.removeAttribute(t):e.setAttribute(t,i?"":n)}}function fu(e,t,n,r,s,i,o){if(t==="innerHTML"||t==="textContent"){r&&o(r,s,i),e[t]=n??"";return}if(t==="value"&&e.tagName!=="PROGRESS"&&!e.tagName.includes("-")){e._value=n;const l=n??"";(e.value!==l||e.tagName==="OPTION")&&(e.value=l),n==null&&e.removeAttribute(t);return}let a=!1;if(n===""||n==null){const l=typeof e[t];l==="boolean"?n=fo(n):n==null&&l==="string"?(n="",a=!0):l==="number"&&(n=0,a=!0)}try{e[t]=n}catch{}a&&e.removeAttribute(t)}function Rt(e,t,n,r){e.addEventListener(t,n,r)}function du(e,t,n,r){e.removeEventListener(t,n,r)}function pu(e,t,n,r,s=null){const i=e._vei||(e._vei={}),o=i[t];if(r&&o)o.value=r;else{const[a,l]=gu(t);if(r){const u=i[t]=_u(r,s);Rt(e,a,u,l)}else o&&(du(e,a,o,l),i[t]=void 0)}}const Ti=/(?:Once|Passive|Capture)$/;function gu(e){let t;if(Ti.test(e)){t={};let r;for(;r=e.match(Ti);)e=e.slice(0,e.length-r[0].length),t[r[0].toLowerCase()]=!0}return[e[2]===":"?e.slice(3):nn(e.slice(2)),t]}let Hr=0;const mu=Promise.resolve(),vu=()=>Hr||(mu.then(()=>Hr=0),Hr=Date.now());function _u(e,t){const n=r=>{if(!r._vts)r._vts=Date.now();else if(r._vts<=n.attached)return;We(yu(r,n.value),t,5,[r])};return n.value=e,n.attached=vu(),n}function yu(e,t){if(M(t)){const n=e.stopImmediatePropagation;return e.stopImmediatePropagation=()=>{n.call(e),e._stopped=!0},t.map(r=>s=>!s._stopped&&r&&r(s))}else return t}const Oi=/^on[a-z]/,bu=(e,t,n,r,s=!1,i,o,a,l)=>{t==="class"?lu(e,r,s):t==="style"?cu(e,n,r):pr(t)?Ss(t)||pu(e,t,n,r,o):(t[0]==="."?(t=t.slice(1),!0):t[0]==="^"?(t=t.slice(1),!1):wu(e,t,r,s))?fu(e,t,r,i,o,a,l):(t==="true-value"?e._trueValue=r:t==="false-value"&&(e._falseValue=r),hu(e,t,r,s))};function wu(e,t,n,r){return r?!!(t==="innerHTML"||t==="textContent"||t in e&&Oi.test(t)&&F(n)):t==="spellcheck"||t==="draggable"||t==="translate"||t==="form"||t==="list"&&e.tagName==="INPUT"||t==="type"&&e.tagName==="TEXTAREA"||Oi.test(t)&&he(n)?!1:t in e}const ur=e=>{const t=e.props["onUpdate:modelValue"]||!1;return M(t)?n=>Zn(t,n):t};function ku(e){e.target.composing=!0}function Ri(e){const t=e.target;t.composing&&(t.composing=!1,t.dispatchEvent(new Event("input")))}const ag={created(e,{modifiers:{lazy:t,trim:n,number:r}},s){e._assign=ur(s);const i=r||s.props&&s.props.type==="number";Rt(e,t?"change":"input",o=>{if(o.target.composing)return;let a=e.value;n&&(a=a.trim()),i&&(a=Yr(a)),e._assign(a)}),n&&Rt(e,"change",()=>{e.value=e.value.trim()}),t||(Rt(e,"compositionstart",ku),Rt(e,"compositionend",Ri),Rt(e,"change",Ri))},mounted(e,{value:t}){e.value=t??""},beforeUpdate(e,{value:t,modifiers:{lazy:n,trim:r,number:s}},i){if(e._assign=ur(i),e.composing||document.activeElement===e&&e.type!=="range"&&(n||r&&e.value.trim()===t||(s||e.type==="number")&&Yr(e.value)===t))return;const o=t??"";e.value!==o&&(e.value=o)}},lg={deep:!0,created(e,t,n){e._assign=ur(n),Rt(e,"change",()=>{const r=e._modelValue,s=Eu(e),i=e.checked,o=e._assign;if(M(r)){const a=po(r,s),l=a!==-1;if(i&&!l)o(r.concat(s));else if(!i&&l){const u=[...r];u.splice(a,1),o(u)}}else if(gr(r)){const a=new Set(r);i?a.add(s):a.delete(s),o(a)}else o(fa(e,i))})},mounted:xi,beforeUpdate(e,t,n){e._assign=ur(n),xi(e,t,n)}};function xi(e,{value:t,oldValue:n},r){e._modelValue=t,M(t)?e.checked=po(t,r.props.value)>-1:gr(t)?e.checked=t.has(r.props.value):t!==n&&(e.checked=dr(t,fa(e,!0)))}function Eu(e){return"_value"in e?e._value:e.value}function fa(e,t){const n=t?"_trueValue":"_falseValue";return n in e?e[n]:t}const Pu=be({patchProp:bu},au);let Ci;function Su(){return Ci||(Ci=Nc(Pu))}const Tu=(...e)=>{const t=Su().createApp(...e),{mount:n}=t;return t.mount=r=>{const s=Ou(r);if(!s)return;const i=t._component;!F(i)&&!i.render&&!i.template&&(i.template=s.innerHTML),s.innerHTML="";const o=n(s,!1,s instanceof SVGElement);return s instanceof Element&&(s.removeAttribute("v-cloak"),s.setAttribute("data-v-app","")),o},t};function Ou(e){return he(e)?document.querySelector(e):e}var Ru=!1;/*!
  * pinia v2.0.35
  * (c) 2023 Eduardo San Martin Morote
  * @license MIT
  */let da;const Tr=e=>da=e,pa=Symbol();function cs(e){return e&&typeof e=="object"&&Object.prototype.toString.call(e)==="[object Object]"&&typeof e.toJSON!="function"}var En;(function(e){e.direct="direct",e.patchObject="patch object",e.patchFunction="patch function"})(En||(En={}));function xu(){const e=bo(!0),t=e.run(()=>An({}));let n=[],r=[];const s=Jt({install(i){Tr(s),s._a=i,i.provide(pa,s),i.config.globalProperties.$pinia=s,r.forEach(o=>n.push(o)),r=[]},use(i){return!this._a&&!Ru?r.push(i):n.push(i),this},_p:n,_a:null,_e:e,_s:new Map,state:t});return s}const ga=()=>{};function Ai(e,t,n,r=ga){e.push(t);const s=()=>{const i=e.indexOf(t);i>-1&&(e.splice(i,1),r())};return!n&&wo()&&gl(s),s}function Nt(e,...t){e.slice().forEach(n=>{n(...t)})}function us(e,t){e instanceof Map&&t instanceof Map&&t.forEach((n,r)=>e.set(r,n)),e instanceof Set&&t instanceof Set&&t.forEach(e.add,e);for(const n in t){if(!t.hasOwnProperty(n))continue;const r=t[n],s=e[n];cs(s)&&cs(r)&&e.hasOwnProperty(n)&&!oe(r)&&!rt(r)?e[n]=us(s,r):e[n]=r}return e}const Cu=Symbol();function Au(e){return!cs(e)||!e.hasOwnProperty(Cu)}const{assign:ct}=Object;function $u(e){return!!(oe(e)&&e.effect)}function ju(e,t,n,r){const{state:s,actions:i,getters:o}=t,a=n.state.value[e];let l;function u(){a||(n.state.value[e]=s?s():{});const c=Gl(n.state.value[e]);return ct(c,i,Object.keys(o||{}).reduce((h,d)=>(h[d]=Jt($e(()=>{Tr(n);const g=n._s.get(e);return o[d].call(g,g)})),h),{}))}return l=ma(e,u,t,n,r,!0),l}function ma(e,t,n={},r,s,i){let o;const a=ct({actions:{}},n),l={deep:!0};let u,c,h=Jt([]),d=Jt([]),g;const y=r.state.value[e];!i&&!y&&(r.state.value[e]={}),An({});let k;function O(V){let q;u=c=!1,typeof V=="function"?(V(r.state.value[e]),q={type:En.patchFunction,storeId:e,events:g}):(us(r.state.value[e],V),q={type:En.patchObject,payload:V,storeId:e,events:g});const ge=k=Symbol();Ds().then(()=>{k===ge&&(u=!0)}),c=!0,Nt(h,q,r.state.value[e])}const T=i?function(){const{state:q}=n,ge=q?q():{};this.$patch(fe=>{ct(fe,ge)})}:ga;function I(){o.stop(),h=[],d=[],r._s.delete(e)}function A(V,q){return function(){Tr(r);const ge=Array.from(arguments),fe=[],we=[];function Ie(de){fe.push(de)}function ot(de){we.push(de)}Nt(d,{args:ge,name:V,store:H,after:Ie,onError:ot});let Re;try{Re=q.apply(this&&this.$id===e?this:H,ge)}catch(de){throw Nt(we,de),de}return Re instanceof Promise?Re.then(de=>(Nt(fe,de),de)).catch(de=>(Nt(we,de),Promise.reject(de))):(Nt(fe,Re),Re)}}const U={_p:r,$id:e,$onAction:Ai.bind(null,d),$patch:O,$reset:T,$subscribe(V,q={}){const ge=Ai(h,V,q.detached,()=>fe()),fe=o.run(()=>bn(()=>r.state.value[e],we=>{(q.flush==="sync"?c:u)&&V({storeId:e,type:En.direct,events:g},we)},ct({},l,q)));return ge},$dispose:I},H=on(U);r._s.set(e,H);const ue=r._e.run(()=>(o=bo(),o.run(()=>t())));for(const V in ue){const q=ue[V];if(oe(q)&&!$u(q)||rt(q))i||(y&&Au(q)&&(oe(q)?q.value=y[V]:us(q,y[V])),r.state.value[e][V]=q);else if(typeof q=="function"){const ge=A(V,q);ue[V]=ge,a.actions[V]=q}}return ct(H,ue),ct(G(H),ue),Object.defineProperty(H,"$state",{get:()=>r.state.value[e],set:V=>{O(q=>{ct(q,V)})}}),r._p.forEach(V=>{ct(H,o.run(()=>V({store:H,app:r._a,pinia:r,options:a})))}),y&&i&&n.hydrate&&n.hydrate(H.$state,y),u=!0,c=!0,H}function Iu(e,t,n){let r,s;const i=typeof t=="function";typeof e=="string"?(r=e,s=i?n:t):(s=e,r=e.id);function o(a,l){const u=Qc();return a=a||u&&Qe(pa,null),a&&Tr(a),a=da,a._s.has(r)||(i?ma(r,t,s,a):ju(r,s,a)),a._s.get(r)}return o.$id=r,o}function Lu(e){{e=G(e);const t={};for(const n in e){const r=e[n];(oe(r)||rt(r))&&(t[n]=No(e,n))}return t}}class Du{areas=[];curators=[];helpers=[];tasks=[]}class Mu{id=0;month="2023-01";title=""}class Nu{id=0;fio="";areaId=null}class cg extends Nu{completedTaskIds=[];schoolName=""}const Uu="modulepreload",Fu=function(e){return"/anabo-publish/"+e},$i={},Se=function(t,n,r){if(!n||n.length===0)return t();const s=document.getElementsByTagName("link");return Promise.all(n.map(i=>{if(i=Fu(i),i in $i)return;$i[i]=!0;const o=i.endsWith(".css"),a=o?'[rel="stylesheet"]':"";if(!!r)for(let c=s.length-1;c>=0;c--){const h=s[c];if(h.href===i&&(!o||h.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${i}"]${a}`))return;const u=document.createElement("link");if(u.rel=o?"stylesheet":Uu,o||(u.as="script",u.crossOrigin=""),u.href=i,document.head.appendChild(u),o)return new Promise((c,h)=>{u.addEventListener("load",c),u.addEventListener("error",()=>h(new Error(`Unable to preload CSS for ${i}`)))})})).then(()=>t())},Bu=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>Se(()=>Promise.resolve().then(()=>an),void 0).then(({default:r})=>r(...n)):t=fetch,(...n)=>t(...n)};class Hs extends Error{constructor(t,n="FunctionsError",r){super(t),this.name=n,this.context=r}}class Hu extends Hs{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class Wu extends Hs{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class qu extends Hs{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var hs;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(hs||(hs={}));var zu=globalThis&&globalThis.__awaiter||function(e,t,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(c){try{u(r.next(c))}catch(h){o(h)}}function l(c){try{u(r.throw(c))}catch(h){o(h)}}function u(c){c.done?i(c.value):s(c.value).then(a,l)}u((r=r.apply(e,t||[])).next())})};class Ku{constructor(t,{headers:n={},customFetch:r,region:s=hs.Any}={}){this.url=t,this.headers=n,this.region=s,this.fetch=Bu(r)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t,n={}){var r;return zu(this,void 0,void 0,function*(){try{const{headers:s,method:i,body:o}=n;let a={},{region:l}=n;l||(l=this.region),l&&l!=="any"&&(a["x-region"]=l);let u;o&&(s&&!Object.prototype.hasOwnProperty.call(s,"Content-Type")||!s)&&(typeof Blob<"u"&&o instanceof Blob||o instanceof ArrayBuffer?(a["Content-Type"]="application/octet-stream",u=o):typeof o=="string"?(a["Content-Type"]="text/plain",u=o):typeof FormData<"u"&&o instanceof FormData?u=o:(a["Content-Type"]="application/json",u=JSON.stringify(o)));const c=yield this.fetch(`${this.url}/${t}`,{method:i||"POST",headers:Object.assign(Object.assign(Object.assign({},a),this.headers),s),body:u}).catch(y=>{throw new Hu(y)}),h=c.headers.get("x-relay-error");if(h&&h==="true")throw new Wu(c);if(!c.ok)throw new qu(c);let d=((r=c.headers.get("Content-Type"))!==null&&r!==void 0?r:"text/plain").split(";")[0].trim(),g;return d==="application/json"?g=yield c.json():d==="application/octet-stream"?g=yield c.blob():d==="text/event-stream"?g=c:d==="multipart/form-data"?g=yield c.formData():g=yield c.text(),{data:g,error:null}}catch(s){return{data:null,error:s}}})}}var Le=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function ug(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function Gu(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var n=function r(){if(this instanceof r){var s=[null];s.push.apply(s,arguments);var i=Function.bind.apply(t,s);return new i}return t.apply(this,arguments)};n.prototype=t.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(e).forEach(function(r){var s=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(n,r,s.get?s:{enumerable:!0,get:function(){return e[r]}})}),n}var Te={},Ws={},Or={},Un={},Rr={},xr={},Vu=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},Zt=Vu();const Ju=Zt.fetch,va=Zt.fetch.bind(Zt),_a=Zt.Headers,Qu=Zt.Request,Yu=Zt.Response,an=Object.freeze(Object.defineProperty({__proto__:null,Headers:_a,Request:Qu,Response:Yu,default:va,fetch:Ju},Symbol.toStringTag,{value:"Module"})),Xu=Gu(an);var Cr={};Object.defineProperty(Cr,"__esModule",{value:!0});let Zu=class extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}};Cr.default=Zu;var ya=Le&&Le.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(xr,"__esModule",{value:!0});const eh=ya(Xu),th=ya(Cr);let nh=class{constructor(t){this.shouldThrowOnError=!1,this.method=t.method,this.url=t.url,this.headers=t.headers,this.schema=t.schema,this.body=t.body,this.shouldThrowOnError=t.shouldThrowOnError,this.signal=t.signal,this.isMaybeSingle=t.isMaybeSingle,t.fetch?this.fetch=t.fetch:typeof fetch>"u"?this.fetch=eh.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(t,n){return this.headers=Object.assign({},this.headers),this.headers[t]=n,this}then(t,n){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const r=this.fetch;let s=r(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async i=>{var o,a,l;let u=null,c=null,h=null,d=i.status,g=i.statusText;if(i.ok){if(this.method!=="HEAD"){const T=await i.text();T===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?c=T:c=JSON.parse(T))}const k=(o=this.headers.Prefer)===null||o===void 0?void 0:o.match(/count=(exact|planned|estimated)/),O=(a=i.headers.get("content-range"))===null||a===void 0?void 0:a.split("/");k&&O&&O.length>1&&(h=parseInt(O[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(c)&&(c.length>1?(u={code:"PGRST116",details:`Results contain ${c.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},c=null,h=null,d=406,g="Not Acceptable"):c.length===1?c=c[0]:c=null)}else{const k=await i.text();try{u=JSON.parse(k),Array.isArray(u)&&i.status===404&&(c=[],u=null,d=200,g="OK")}catch{i.status===404&&k===""?(d=204,g="No Content"):u={message:k}}if(u&&this.isMaybeSingle&&(!((l=u?.details)===null||l===void 0)&&l.includes("0 rows"))&&(u=null,d=200,g="OK"),u&&this.shouldThrowOnError)throw new th.default(u)}return{error:u,data:c,count:h,status:d,statusText:g}});return this.shouldThrowOnError||(s=s.catch(i=>{var o,a,l;return{error:{message:`${(o=i?.name)!==null&&o!==void 0?o:"FetchError"}: ${i?.message}`,details:`${(a=i?.stack)!==null&&a!==void 0?a:""}`,hint:"",code:`${(l=i?.code)!==null&&l!==void 0?l:""}`},data:null,count:null,status:0,statusText:""}})),s.then(t,n)}};xr.default=nh;var rh=Le&&Le.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Rr,"__esModule",{value:!0});const sh=rh(xr);let ih=class extends sh.default{select(t){let n=!1;const r=(t??"*").split("").map(s=>/\s/.test(s)&&!n?"":(s==='"'&&(n=!n),s)).join("");return this.url.searchParams.set("select",r),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(t,{ascending:n=!0,nullsFirst:r,foreignTable:s,referencedTable:i=s}={}){const o=i?`${i}.order`:"order",a=this.url.searchParams.get(o);return this.url.searchParams.set(o,`${a?`${a},`:""}${t}.${n?"asc":"desc"}${r===void 0?"":r?".nullsfirst":".nullslast"}`),this}limit(t,{foreignTable:n,referencedTable:r=n}={}){const s=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(s,`${t}`),this}range(t,n,{foreignTable:r,referencedTable:s=r}={}){const i=typeof s>"u"?"offset":`${s}.offset`,o=typeof s>"u"?"limit":`${s}.limit`;return this.url.searchParams.set(i,`${t}`),this.url.searchParams.set(o,`${n-t+1}`),this}abortSignal(t){return this.signal=t,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:t=!1,verbose:n=!1,settings:r=!1,buffers:s=!1,wal:i=!1,format:o="text"}={}){var a;const l=[t?"analyze":null,n?"verbose":null,r?"settings":null,s?"buffers":null,i?"wal":null].filter(Boolean).join("|"),u=(a=this.headers.Accept)!==null&&a!==void 0?a:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${o}; for="${u}"; options=${l};`,o==="json"?this:this}rollback(){var t;return((t=this.headers.Prefer)!==null&&t!==void 0?t:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}};Rr.default=ih;var oh=Le&&Le.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Un,"__esModule",{value:!0});const ah=oh(Rr);let lh=class extends ah.default{eq(t,n){return this.url.searchParams.append(t,`eq.${n}`),this}neq(t,n){return this.url.searchParams.append(t,`neq.${n}`),this}gt(t,n){return this.url.searchParams.append(t,`gt.${n}`),this}gte(t,n){return this.url.searchParams.append(t,`gte.${n}`),this}lt(t,n){return this.url.searchParams.append(t,`lt.${n}`),this}lte(t,n){return this.url.searchParams.append(t,`lte.${n}`),this}like(t,n){return this.url.searchParams.append(t,`like.${n}`),this}likeAllOf(t,n){return this.url.searchParams.append(t,`like(all).{${n.join(",")}}`),this}likeAnyOf(t,n){return this.url.searchParams.append(t,`like(any).{${n.join(",")}}`),this}ilike(t,n){return this.url.searchParams.append(t,`ilike.${n}`),this}ilikeAllOf(t,n){return this.url.searchParams.append(t,`ilike(all).{${n.join(",")}}`),this}ilikeAnyOf(t,n){return this.url.searchParams.append(t,`ilike(any).{${n.join(",")}}`),this}is(t,n){return this.url.searchParams.append(t,`is.${n}`),this}in(t,n){const r=Array.from(new Set(n)).map(s=>typeof s=="string"&&new RegExp("[,()]").test(s)?`"${s}"`:`${s}`).join(",");return this.url.searchParams.append(t,`in.(${r})`),this}contains(t,n){return typeof n=="string"?this.url.searchParams.append(t,`cs.${n}`):Array.isArray(n)?this.url.searchParams.append(t,`cs.{${n.join(",")}}`):this.url.searchParams.append(t,`cs.${JSON.stringify(n)}`),this}containedBy(t,n){return typeof n=="string"?this.url.searchParams.append(t,`cd.${n}`):Array.isArray(n)?this.url.searchParams.append(t,`cd.{${n.join(",")}}`):this.url.searchParams.append(t,`cd.${JSON.stringify(n)}`),this}rangeGt(t,n){return this.url.searchParams.append(t,`sr.${n}`),this}rangeGte(t,n){return this.url.searchParams.append(t,`nxl.${n}`),this}rangeLt(t,n){return this.url.searchParams.append(t,`sl.${n}`),this}rangeLte(t,n){return this.url.searchParams.append(t,`nxr.${n}`),this}rangeAdjacent(t,n){return this.url.searchParams.append(t,`adj.${n}`),this}overlaps(t,n){return typeof n=="string"?this.url.searchParams.append(t,`ov.${n}`):this.url.searchParams.append(t,`ov.{${n.join(",")}}`),this}textSearch(t,n,{config:r,type:s}={}){let i="";s==="plain"?i="pl":s==="phrase"?i="ph":s==="websearch"&&(i="w");const o=r===void 0?"":`(${r})`;return this.url.searchParams.append(t,`${i}fts${o}.${n}`),this}match(t){return Object.entries(t).forEach(([n,r])=>{this.url.searchParams.append(n,`eq.${r}`)}),this}not(t,n,r){return this.url.searchParams.append(t,`not.${n}.${r}`),this}or(t,{foreignTable:n,referencedTable:r=n}={}){const s=r?`${r}.or`:"or";return this.url.searchParams.append(s,`(${t})`),this}filter(t,n,r){return this.url.searchParams.append(t,`${n}.${r}`),this}};Un.default=lh;var ch=Le&&Le.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Or,"__esModule",{value:!0});const hn=ch(Un);let uh=class{constructor(t,{headers:n={},schema:r,fetch:s}){this.url=t,this.headers=n,this.schema=r,this.fetch=s}select(t,{head:n=!1,count:r}={}){const s=n?"HEAD":"GET";let i=!1;const o=(t??"*").split("").map(a=>/\s/.test(a)&&!i?"":(a==='"'&&(i=!i),a)).join("");return this.url.searchParams.set("select",o),r&&(this.headers.Prefer=`count=${r}`),new hn.default({method:s,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(t,{count:n,defaultToNull:r=!0}={}){const s="POST",i=[];if(this.headers.Prefer&&i.push(this.headers.Prefer),n&&i.push(`count=${n}`),r||i.push("missing=default"),this.headers.Prefer=i.join(","),Array.isArray(t)){const o=t.reduce((a,l)=>a.concat(Object.keys(l)),[]);if(o.length>0){const a=[...new Set(o)].map(l=>`"${l}"`);this.url.searchParams.set("columns",a.join(","))}}return new hn.default({method:s,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}upsert(t,{onConflict:n,ignoreDuplicates:r=!1,count:s,defaultToNull:i=!0}={}){const o="POST",a=[`resolution=${r?"ignore":"merge"}-duplicates`];if(n!==void 0&&this.url.searchParams.set("on_conflict",n),this.headers.Prefer&&a.push(this.headers.Prefer),s&&a.push(`count=${s}`),i||a.push("missing=default"),this.headers.Prefer=a.join(","),Array.isArray(t)){const l=t.reduce((u,c)=>u.concat(Object.keys(c)),[]);if(l.length>0){const u=[...new Set(l)].map(c=>`"${c}"`);this.url.searchParams.set("columns",u.join(","))}}return new hn.default({method:o,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}update(t,{count:n}={}){const r="PATCH",s=[];return this.headers.Prefer&&s.push(this.headers.Prefer),n&&s.push(`count=${n}`),this.headers.Prefer=s.join(","),new hn.default({method:r,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}delete({count:t}={}){const n="DELETE",r=[];return t&&r.push(`count=${t}`),this.headers.Prefer&&r.unshift(this.headers.Prefer),this.headers.Prefer=r.join(","),new hn.default({method:n,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}};Or.default=uh;var Ar={},$r={};Object.defineProperty($r,"__esModule",{value:!0});$r.version=void 0;$r.version="0.0.0-automated";Object.defineProperty(Ar,"__esModule",{value:!0});Ar.DEFAULT_HEADERS=void 0;const hh=$r;Ar.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${hh.version}`};var ba=Le&&Le.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Ws,"__esModule",{value:!0});const fh=ba(Or),dh=ba(Un),ph=Ar;let gh=class wa{constructor(t,{headers:n={},schema:r,fetch:s}={}){this.url=t,this.headers=Object.assign(Object.assign({},ph.DEFAULT_HEADERS),n),this.schemaName=r,this.fetch=s}from(t){const n=new URL(`${this.url}/${t}`);return new fh.default(n,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(t){return new wa(this.url,{headers:this.headers,schema:t,fetch:this.fetch})}rpc(t,n={},{head:r=!1,get:s=!1,count:i}={}){let o;const a=new URL(`${this.url}/rpc/${t}`);let l;r||s?(o=r?"HEAD":"GET",Object.entries(n).filter(([c,h])=>h!==void 0).map(([c,h])=>[c,Array.isArray(h)?`{${h.join(",")}}`:`${h}`]).forEach(([c,h])=>{a.searchParams.append(c,h)})):(o="POST",l=n);const u=Object.assign({},this.headers);return i&&(u.Prefer=`count=${i}`),new dh.default({method:o,url:a,headers:u,schema:this.schemaName,body:l,fetch:this.fetch,allowEmpty:!1})}};Ws.default=gh;var ln=Le&&Le.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Te,"__esModule",{value:!0});Te.PostgrestError=Te.PostgrestBuilder=Te.PostgrestTransformBuilder=Te.PostgrestFilterBuilder=Te.PostgrestQueryBuilder=Te.PostgrestClient=void 0;const ka=ln(Ws);Te.PostgrestClient=ka.default;const Ea=ln(Or);Te.PostgrestQueryBuilder=Ea.default;const Pa=ln(Un);Te.PostgrestFilterBuilder=Pa.default;const Sa=ln(Rr);Te.PostgrestTransformBuilder=Sa.default;const Ta=ln(xr);Te.PostgrestBuilder=Ta.default;const Oa=ln(Cr);Te.PostgrestError=Oa.default;var mh=Te.default={PostgrestClient:ka.default,PostgrestQueryBuilder:Ea.default,PostgrestFilterBuilder:Pa.default,PostgrestTransformBuilder:Sa.default,PostgrestBuilder:Ta.default,PostgrestError:Oa.default};const{PostgrestClient:vh,PostgrestQueryBuilder:mg,PostgrestFilterBuilder:vg,PostgrestTransformBuilder:_g,PostgrestBuilder:yg,PostgrestError:bg}=mh,_h="2.11.2",yh={"X-Client-Info":`realtime-js/${_h}`},bh="1.0.0",Ra=1e4,wh=1e3;var Gt;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(Gt||(Gt={}));var Ce;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(Ce||(Ce={}));var Ue;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(Ue||(Ue={}));var fs;(function(e){e.websocket="websocket"})(fs||(fs={}));var xt;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(xt||(xt={}));class kh{constructor(){this.HEADER_LENGTH=1}decode(t,n){return t.constructor===ArrayBuffer?n(this._binaryDecode(t)):n(typeof t=="string"?JSON.parse(t):{})}_binaryDecode(t){const n=new DataView(t),r=new TextDecoder;return this._decodeBroadcast(t,n,r)}_decodeBroadcast(t,n,r){const s=n.getUint8(1),i=n.getUint8(2);let o=this.HEADER_LENGTH+2;const a=r.decode(t.slice(o,o+s));o=o+s;const l=r.decode(t.slice(o,o+i));o=o+i;const u=JSON.parse(r.decode(t.slice(o,t.byteLength)));return{ref:null,topic:a,event:l,payload:u}}}class xa{constructor(t,n){this.callback=t,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var ne;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(ne||(ne={}));const ji=(e,t,n={})=>{var r;const s=(r=n.skipTypes)!==null&&r!==void 0?r:[];return Object.keys(t).reduce((i,o)=>(i[o]=Eh(o,e,t,s),i),{})},Eh=(e,t,n,r)=>{const s=t.find(a=>a.name===e),i=s?.type,o=n[e];return i&&!r.includes(i)?Ca(i,o):ds(o)},Ca=(e,t)=>{if(e.charAt(0)==="_"){const n=e.slice(1,e.length);return Oh(t,n)}switch(e){case ne.bool:return Ph(t);case ne.float4:case ne.float8:case ne.int2:case ne.int4:case ne.int8:case ne.numeric:case ne.oid:return Sh(t);case ne.json:case ne.jsonb:return Th(t);case ne.timestamp:return Rh(t);case ne.abstime:case ne.date:case ne.daterange:case ne.int4range:case ne.int8range:case ne.money:case ne.reltime:case ne.text:case ne.time:case ne.timestamptz:case ne.timetz:case ne.tsrange:case ne.tstzrange:return ds(t);default:return ds(t)}},ds=e=>e,Ph=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},Sh=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},Th=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},Oh=(e,t)=>{if(typeof e!="string")return e;const n=e.length-1,r=e[n];if(e[0]==="{"&&r==="}"){let i;const o=e.slice(1,n);try{i=JSON.parse("["+o+"]")}catch{i=o?o.split(","):[]}return i.map(a=>Ca(t,a))}return e},Rh=e=>typeof e=="string"?e.replace(" ","T"):e,Aa=e=>{let t=e;return t=t.replace(/^ws/i,"http"),t=t.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),t.replace(/\/+$/,"")};class Wr{constructor(t,n,r={},s=Ra){this.channel=t,this.event=n,this.payload=r,this.timeout=s,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,n){var r;return this._hasReceived(t)&&n((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:t,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:n}){this.recHooks.filter(r=>r.status===t).forEach(r=>r.callback(n))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var Ii;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(Ii||(Ii={}));class Pn{constructor(t,n){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=n?.events||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},s=>{const{onJoin:i,onLeave:o,onSync:a}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Pn.syncState(this.state,s,i,o),this.pendingDiffs.forEach(l=>{this.state=Pn.syncDiff(this.state,l,i,o)}),this.pendingDiffs=[],a()}),this.channel._on(r.diff,{},s=>{const{onJoin:i,onLeave:o,onSync:a}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(s):(this.state=Pn.syncDiff(this.state,s,i,o),a())}),this.onJoin((s,i,o)=>{this.channel._trigger("presence",{event:"join",key:s,currentPresences:i,newPresences:o})}),this.onLeave((s,i,o)=>{this.channel._trigger("presence",{event:"leave",key:s,currentPresences:i,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,n,r,s){const i=this.cloneDeep(t),o=this.transformState(n),a={},l={};return this.map(i,(u,c)=>{o[u]||(l[u]=c)}),this.map(o,(u,c)=>{const h=i[u];if(h){const d=c.map(O=>O.presence_ref),g=h.map(O=>O.presence_ref),y=c.filter(O=>g.indexOf(O.presence_ref)<0),k=h.filter(O=>d.indexOf(O.presence_ref)<0);y.length>0&&(a[u]=y),k.length>0&&(l[u]=k)}else a[u]=c}),this.syncDiff(i,{joins:a,leaves:l},r,s)}static syncDiff(t,n,r,s){const{joins:i,leaves:o}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return r||(r=()=>{}),s||(s=()=>{}),this.map(i,(a,l)=>{var u;const c=(u=t[a])!==null&&u!==void 0?u:[];if(t[a]=this.cloneDeep(l),c.length>0){const h=t[a].map(g=>g.presence_ref),d=c.filter(g=>h.indexOf(g.presence_ref)<0);t[a].unshift(...d)}r(a,c,l)}),this.map(o,(a,l)=>{let u=t[a];if(!u)return;const c=l.map(h=>h.presence_ref);u=u.filter(h=>c.indexOf(h.presence_ref)<0),t[a]=u,s(a,u,l),u.length===0&&delete t[a]}),t}static map(t,n){return Object.getOwnPropertyNames(t).map(r=>n(r,t[r]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((n,r)=>{const s=t[r];return"metas"in s?n[r]=s.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):n[r]=s,n},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Li;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(Li||(Li={}));var Di;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(Di||(Di={}));var tt;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(tt||(tt={}));class qs{constructor(t,n={config:{}},r){this.topic=t,this.params=n,this.socket=r,this.bindings={},this.state=Ce.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new Wr(this,Ue.join,this.params,this.timeout),this.rejoinTimer=new xa(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Ce.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(s=>s.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Ce.closed,this.socket._remove(this)}),this._onError(s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=Ce.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Ce.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Ue.reply,{},(s,i)=>{this._trigger(this._replyEventName(i),s)}),this.presence=new Pn(this),this.broadcastEndpointURL=Aa(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(t,n=this.timeout){var r,s;if(this.socket.isConnected()||this.socket.connect(),this.joinedOnce)throw"tried to subscribe multiple times. 'subscribe' can only be called a single time per channel instance";{const{config:{broadcast:i,presence:o,private:a}}=this.params;this._onError(c=>t?.(tt.CHANNEL_ERROR,c)),this._onClose(()=>t?.(tt.CLOSED));const l={},u={broadcast:i,presence:o,postgres_changes:(s=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(c=>c.filter))!==null&&s!==void 0?s:[],private:a};this.socket.accessTokenValue&&(l.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:u},l)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:c})=>{var h;if(this.socket.setAuth(),c===void 0){t?.(tt.SUBSCRIBED);return}else{const d=this.bindings.postgres_changes,g=(h=d?.length)!==null&&h!==void 0?h:0,y=[];for(let k=0;k<g;k++){const O=d[k],{filter:{event:T,schema:I,table:A,filter:U}}=O,H=c&&c[k];if(H&&H.event===T&&H.schema===I&&H.table===A&&H.filter===U)y.push(Object.assign(Object.assign({},O),{id:H.id}));else{this.unsubscribe(),t?.(tt.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=y,t&&t(tt.SUBSCRIBED);return}}).receive("error",c=>{t?.(tt.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(c).join(", ")||"error")))}).receive("timeout",()=>{t?.(tt.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,n={}){return await this.send({type:"presence",event:"track",payload:t},n.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,n,r){return this._on(t,n,r)}async send(t,n={}){var r,s;if(!this._canPush()&&t.type==="broadcast"){const{event:i,payload:o}=t,l={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:o,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,l,(r=n.timeout)!==null&&r!==void 0?r:this.timeout);return await((s=u.body)===null||s===void 0?void 0:s.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var o,a,l;const u=this._push(t.type,t,n.timeout||this.timeout);t.type==="broadcast"&&!(!((l=(a=(o=this.params)===null||o===void 0?void 0:o.config)===null||a===void 0?void 0:a.broadcast)===null||l===void 0)&&l.ack)&&i("ok"),u.receive("ok",()=>i("ok")),u.receive("error",()=>i("error")),u.receive("timeout",()=>i("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=Ce.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Ue.close,"leave",this._joinRef())};return this.rejoinTimer.reset(),this.joinPush.destroy(),new Promise(r=>{const s=new Wr(this,Ue.leave,{},t);s.receive("ok",()=>{n(),r("ok")}).receive("timeout",()=>{n(),r("timed out")}).receive("error",()=>{r("error")}),s.send(),this._canPush()||s.trigger("ok",{})})}async _fetchWithTimeout(t,n,r){const s=new AbortController,i=setTimeout(()=>s.abort(),r),o=await this.socket.fetch(t,Object.assign(Object.assign({},n),{signal:s.signal}));return clearTimeout(i),o}_push(t,n,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let s=new Wr(this,t,n,r);return this._canPush()?s.send():(s.startTimeout(),this.pushBuffer.push(s)),s}_onMessage(t,n,r){return n}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,n,r){var s,i;const o=t.toLocaleLowerCase(),{close:a,error:l,leave:u,join:c}=Ue;if(r&&[a,l,u,c].indexOf(o)>=0&&r!==this._joinRef())return;let d=this._onMessage(o,n,r);if(n&&!d)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(s=this.bindings.postgres_changes)===null||s===void 0||s.filter(g=>{var y,k,O;return((y=g.filter)===null||y===void 0?void 0:y.event)==="*"||((O=(k=g.filter)===null||k===void 0?void 0:k.event)===null||O===void 0?void 0:O.toLocaleLowerCase())===o}).map(g=>g.callback(d,r)):(i=this.bindings[o])===null||i===void 0||i.filter(g=>{var y,k,O,T,I,A;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in g){const U=g.id,H=(y=g.filter)===null||y===void 0?void 0:y.event;return U&&((k=n.ids)===null||k===void 0?void 0:k.includes(U))&&(H==="*"||H?.toLocaleLowerCase()===((O=n.data)===null||O===void 0?void 0:O.type.toLocaleLowerCase()))}else{const U=(I=(T=g?.filter)===null||T===void 0?void 0:T.event)===null||I===void 0?void 0:I.toLocaleLowerCase();return U==="*"||U===((A=n?.event)===null||A===void 0?void 0:A.toLocaleLowerCase())}else return g.type.toLocaleLowerCase()===o}).map(g=>{if(typeof d=="object"&&"ids"in d){const y=d.data,{schema:k,table:O,commit_timestamp:T,type:I,errors:A}=y;d=Object.assign(Object.assign({},{schema:k,table:O,commit_timestamp:T,eventType:I,new:{},old:{},errors:A}),this._getPayloadRecords(y))}g.callback(d,r)})}_isClosed(){return this.state===Ce.closed}_isJoined(){return this.state===Ce.joined}_isJoining(){return this.state===Ce.joining}_isLeaving(){return this.state===Ce.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,n,r){const s=t.toLocaleLowerCase(),i={type:s,filter:n,callback:r};return this.bindings[s]?this.bindings[s].push(i):this.bindings[s]=[i],this}_off(t,n){const r=t.toLocaleLowerCase();return this.bindings[r]=this.bindings[r].filter(s=>{var i;return!(((i=s.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===r&&qs.isEqual(s.filter,n))}),this}static isEqual(t,n){if(Object.keys(t).length!==Object.keys(n).length)return!1;for(const r in t)if(t[r]!==n[r])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(Ue.close,{},t)}_onError(t){this._on(Ue.error,{},n=>t(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Ce.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const n={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(n.new=ji(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(n.old=ji(t.columns,t.old_record)),n}}const xh=()=>{},Ch=typeof WebSocket<"u",Ah=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class $h{constructor(t,n){var r;this.accessTokenValue=null,this.apiKey=null,this.channels=[],this.endPoint="",this.httpEndpoint="",this.headers=yh,this.params={},this.timeout=Ra,this.heartbeatIntervalMs=3e4,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.ref=0,this.logger=xh,this.conn=null,this.sendBuffer=[],this.serializer=new kh,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=i=>{let o;return i?o=i:typeof fetch>"u"?o=(...a)=>Se(()=>Promise.resolve().then(()=>an),void 0).then(({default:l})=>l(...a)):o=fetch,(...a)=>o(...a)},this.endPoint=`${t}/${fs.websocket}`,this.httpEndpoint=Aa(t),n?.transport?this.transport=n.transport:this.transport=null,n?.params&&(this.params=n.params),n?.headers&&(this.headers=Object.assign(Object.assign({},this.headers),n.headers)),n?.timeout&&(this.timeout=n.timeout),n?.logger&&(this.logger=n.logger),n?.heartbeatIntervalMs&&(this.heartbeatIntervalMs=n.heartbeatIntervalMs);const s=(r=n?.params)===null||r===void 0?void 0:r.apikey;if(s&&(this.accessTokenValue=s,this.apiKey=s),this.reconnectAfterMs=n?.reconnectAfterMs?n.reconnectAfterMs:i=>[1e3,2e3,5e3,1e4][i-1]||1e4,this.encode=n?.encode?n.encode:(i,o)=>o(JSON.stringify(i)),this.decode=n?.decode?n.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new xa(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(n?.fetch),n?.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=n?.worker||!1,this.workerUrl=n?.workerUrl}this.accessToken=n?.accessToken||null}connect(){if(!this.conn){if(this.transport){this.conn=new this.transport(this.endpointURL(),void 0,{headers:this.headers});return}if(Ch){this.conn=new WebSocket(this.endpointURL()),this.setupConnection();return}this.conn=new jh(this.endpointURL(),void 0,{close:()=>{this.conn=null}}),Se(()=>import("./browser-aab1dd50.js").then(t=>t.b),[]).then(({default:t})=>{this.conn=new t(this.endpointURL(),void 0,{headers:this.headers}),this.setupConnection()})}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:bh}))}disconnect(t,n){this.conn&&(this.conn.onclose=function(){},t?this.conn.close(t,n??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset())}getChannels(){return this.channels}async removeChannel(t){const n=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const t=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.disconnect(),t}log(t,n,r){this.logger(t,n,r)}connectionState(){switch(this.conn&&this.conn.readyState){case Gt.connecting:return xt.Connecting;case Gt.open:return xt.Open;case Gt.closing:return xt.Closing;default:return xt.Closed}}isConnected(){return this.connectionState()===xt.Open}channel(t,n={config:{}}){const r=new qs(`realtime:${t}`,n,this);return this.channels.push(r),r}push(t){const{topic:n,event:r,payload:s,ref:i}=t,o=()=>{this.encode(t,a=>{var l;(l=this.conn)===null||l===void 0||l.send(a)})};this.log("push",`${n} ${r} (${i})`,s),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(t=null){let n=t||this.accessToken&&await this.accessToken()||this.accessTokenValue;if(n){let r=null;try{r=JSON.parse(atob(n.split(".")[1]))}catch{}if(r&&r.exp&&!(Math.floor(Date.now()/1e3)-r.exp<0))return this.log("auth",`InvalidJWTToken: Invalid value for JWT claim "exp" with value ${r.exp}`),Promise.reject(`InvalidJWTToken: Invalid value for JWT claim "exp" with value ${r.exp}`);this.accessTokenValue=n,this.channels.forEach(s=>{n&&s.updateJoinPayload({access_token:n}),s.joinedOnce&&s._isJoined()&&s._push(Ue.access_token,{access_token:n})})}}async sendHeartbeat(){var t;if(this.isConnected()){if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),(t=this.conn)===null||t===void 0||t.close(wh,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.setAuth()}}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let n=this.channels.find(r=>r.topic===t&&(r._isJoined()||r._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${t}"`),n.unsubscribe())}_remove(t){this.channels=this.channels.filter(n=>n._joinRef()!==t._joinRef())}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_onConnMessage(t){this.decode(t.data,n=>{let{topic:r,event:s,payload:i,ref:o}=n;o&&o===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${i.status||""} ${r} ${s} ${o&&"("+o+")"||""}`,i),this.channels.filter(a=>a._isMember(r)).forEach(a=>a._trigger(s,i,o)),this.stateChangeCallbacks.message.forEach(a=>a(n))})}async _onConnOpen(){if(this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),!this.worker)this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs);else{this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this.workerRef.terminate()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}this.stateChangeCallbacks.open.forEach(t=>t())}_onConnClose(t){this.log("transport","close",t),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(n=>n(t))}_onConnError(t){this.log("transport",t.message),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(n=>n(t))}_triggerChanError(){this.channels.forEach(t=>t._trigger(Ue.error))}_appendParams(t,n){if(Object.keys(n).length===0)return t;const r=t.match(/\?/)?"&":"?",s=new URLSearchParams(n);return`${t}${r}${s}`}_workerObjectUrl(t){let n;if(t)n=t;else{const r=new Blob([Ah],{type:"application/javascript"});n=URL.createObjectURL(r)}return n}}class jh{constructor(t,n,r){this.binaryType="arraybuffer",this.onclose=()=>{},this.onerror=()=>{},this.onmessage=()=>{},this.onopen=()=>{},this.readyState=Gt.connecting,this.send=()=>{},this.url=null,this.url=t,this.close=r.close}}class zs extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function pe(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class Ih extends zs{constructor(t,n){super(t),this.name="StorageApiError",this.status=n}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class ps extends zs{constructor(t,n){super(t),this.name="StorageUnknownError",this.originalError=n}}var Lh=globalThis&&globalThis.__awaiter||function(e,t,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(c){try{u(r.next(c))}catch(h){o(h)}}function l(c){try{u(r.throw(c))}catch(h){o(h)}}function u(c){c.done?i(c.value):s(c.value).then(a,l)}u((r=r.apply(e,t||[])).next())})};const $a=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>Se(()=>Promise.resolve().then(()=>an),void 0).then(({default:r})=>r(...n)):t=fetch,(...n)=>t(...n)},Dh=()=>Lh(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield Se(()=>Promise.resolve().then(()=>an),void 0)).Response:Response}),gs=e=>{if(Array.isArray(e))return e.map(n=>gs(n));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([n,r])=>{const s=n.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));t[s]=gs(r)}),t};var It=globalThis&&globalThis.__awaiter||function(e,t,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(c){try{u(r.next(c))}catch(h){o(h)}}function l(c){try{u(r.throw(c))}catch(h){o(h)}}function u(c){c.done?i(c.value):s(c.value).then(a,l)}u((r=r.apply(e,t||[])).next())})};const qr=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),Mh=(e,t,n)=>It(void 0,void 0,void 0,function*(){const r=yield Dh();e instanceof r&&!n?.noResolveJson?e.json().then(s=>{t(new Ih(qr(s),e.status||500))}).catch(s=>{t(new ps(qr(s),s))}):t(new ps(qr(e),e))}),Nh=(e,t,n,r)=>{const s={method:e,headers:t?.headers||{}};return e==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json"},t?.headers),r&&(s.body=JSON.stringify(r)),Object.assign(Object.assign({},s),n))};function Fn(e,t,n,r,s,i){return It(this,void 0,void 0,function*(){return new Promise((o,a)=>{e(n,Nh(t,r,s,i)).then(l=>{if(!l.ok)throw l;return r?.noResolveJson?l:l.json()}).then(l=>o(l)).catch(l=>Mh(l,a,r))})})}function hr(e,t,n,r){return It(this,void 0,void 0,function*(){return Fn(e,"GET",t,n,r)})}function dt(e,t,n,r,s){return It(this,void 0,void 0,function*(){return Fn(e,"POST",t,r,s,n)})}function Uh(e,t,n,r,s){return It(this,void 0,void 0,function*(){return Fn(e,"PUT",t,r,s,n)})}function Fh(e,t,n,r){return It(this,void 0,void 0,function*(){return Fn(e,"HEAD",t,Object.assign(Object.assign({},n),{noResolveJson:!0}),r)})}function ja(e,t,n,r,s){return It(this,void 0,void 0,function*(){return Fn(e,"DELETE",t,r,s,n)})}var Ee=globalThis&&globalThis.__awaiter||function(e,t,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(c){try{u(r.next(c))}catch(h){o(h)}}function l(c){try{u(r.throw(c))}catch(h){o(h)}}function u(c){c.done?i(c.value):s(c.value).then(a,l)}u((r=r.apply(e,t||[])).next())})};const Bh={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Mi={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class Hh{constructor(t,n={},r,s){this.url=t,this.headers=n,this.bucketId=r,this.fetch=$a(s)}uploadOrUpdate(t,n,r,s){return Ee(this,void 0,void 0,function*(){try{let i;const o=Object.assign(Object.assign({},Mi),s);let a=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(o.upsert)});const l=o.metadata;typeof Blob<"u"&&r instanceof Blob?(i=new FormData,i.append("cacheControl",o.cacheControl),l&&i.append("metadata",this.encodeMetadata(l)),i.append("",r)):typeof FormData<"u"&&r instanceof FormData?(i=r,i.append("cacheControl",o.cacheControl),l&&i.append("metadata",this.encodeMetadata(l))):(i=r,a["cache-control"]=`max-age=${o.cacheControl}`,a["content-type"]=o.contentType,l&&(a["x-metadata"]=this.toBase64(this.encodeMetadata(l)))),s?.headers&&(a=Object.assign(Object.assign({},a),s.headers));const u=this._removeEmptyFolders(n),c=this._getFinalPath(u),h=yield this.fetch(`${this.url}/object/${c}`,Object.assign({method:t,body:i,headers:a},o?.duplex?{duplex:o.duplex}:{})),d=yield h.json();return h.ok?{data:{path:u,id:d.Id,fullPath:d.Key},error:null}:{data:null,error:d}}catch(i){if(pe(i))return{data:null,error:i};throw i}})}upload(t,n,r){return Ee(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,n,r)})}uploadToSignedUrl(t,n,r,s){return Ee(this,void 0,void 0,function*(){const i=this._removeEmptyFolders(t),o=this._getFinalPath(i),a=new URL(this.url+`/object/upload/sign/${o}`);a.searchParams.set("token",n);try{let l;const u=Object.assign({upsert:Mi.upsert},s),c=Object.assign(Object.assign({},this.headers),{"x-upsert":String(u.upsert)});typeof Blob<"u"&&r instanceof Blob?(l=new FormData,l.append("cacheControl",u.cacheControl),l.append("",r)):typeof FormData<"u"&&r instanceof FormData?(l=r,l.append("cacheControl",u.cacheControl)):(l=r,c["cache-control"]=`max-age=${u.cacheControl}`,c["content-type"]=u.contentType);const h=yield this.fetch(a.toString(),{method:"PUT",body:l,headers:c}),d=yield h.json();return h.ok?{data:{path:i,fullPath:d.Key},error:null}:{data:null,error:d}}catch(l){if(pe(l))return{data:null,error:l};throw l}})}createSignedUploadUrl(t,n){return Ee(this,void 0,void 0,function*(){try{let r=this._getFinalPath(t);const s=Object.assign({},this.headers);n?.upsert&&(s["x-upsert"]="true");const i=yield dt(this.fetch,`${this.url}/object/upload/sign/${r}`,{},{headers:s}),o=new URL(this.url+i.url),a=o.searchParams.get("token");if(!a)throw new zs("No token returned by API");return{data:{signedUrl:o.toString(),path:t,token:a},error:null}}catch(r){if(pe(r))return{data:null,error:r};throw r}})}update(t,n,r){return Ee(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,n,r)})}move(t,n,r){return Ee(this,void 0,void 0,function*(){try{return{data:yield dt(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:n,destinationBucket:r?.destinationBucket},{headers:this.headers}),error:null}}catch(s){if(pe(s))return{data:null,error:s};throw s}})}copy(t,n,r){return Ee(this,void 0,void 0,function*(){try{return{data:{path:(yield dt(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:n,destinationBucket:r?.destinationBucket},{headers:this.headers})).Key},error:null}}catch(s){if(pe(s))return{data:null,error:s};throw s}})}createSignedUrl(t,n,r){return Ee(this,void 0,void 0,function*(){try{let s=this._getFinalPath(t),i=yield dt(this.fetch,`${this.url}/object/sign/${s}`,Object.assign({expiresIn:n},r?.transform?{transform:r.transform}:{}),{headers:this.headers});const o=r?.download?`&download=${r.download===!0?"":r.download}`:"";return i={signedUrl:encodeURI(`${this.url}${i.signedURL}${o}`)},{data:i,error:null}}catch(s){if(pe(s))return{data:null,error:s};throw s}})}createSignedUrls(t,n,r){return Ee(this,void 0,void 0,function*(){try{const s=yield dt(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:n,paths:t},{headers:this.headers}),i=r?.download?`&download=${r.download===!0?"":r.download}`:"";return{data:s.map(o=>Object.assign(Object.assign({},o),{signedUrl:o.signedURL?encodeURI(`${this.url}${o.signedURL}${i}`):null})),error:null}}catch(s){if(pe(s))return{data:null,error:s};throw s}})}download(t,n){return Ee(this,void 0,void 0,function*(){const s=typeof n?.transform<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString(n?.transform||{}),o=i?`?${i}`:"";try{const a=this._getFinalPath(t);return{data:yield(yield hr(this.fetch,`${this.url}/${s}/${a}${o}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(a){if(pe(a))return{data:null,error:a};throw a}})}info(t){return Ee(this,void 0,void 0,function*(){const n=this._getFinalPath(t);try{const r=yield hr(this.fetch,`${this.url}/object/info/${n}`,{headers:this.headers});return{data:gs(r),error:null}}catch(r){if(pe(r))return{data:null,error:r};throw r}})}exists(t){return Ee(this,void 0,void 0,function*(){const n=this._getFinalPath(t);try{return yield Fh(this.fetch,`${this.url}/object/${n}`,{headers:this.headers}),{data:!0,error:null}}catch(r){if(pe(r)&&r instanceof ps){const s=r.originalError;if([400,404].includes(s?.status))return{data:!1,error:r}}throw r}})}getPublicUrl(t,n){const r=this._getFinalPath(t),s=[],i=n?.download?`download=${n.download===!0?"":n.download}`:"";i!==""&&s.push(i);const a=typeof n?.transform<"u"?"render/image":"object",l=this.transformOptsToQueryString(n?.transform||{});l!==""&&s.push(l);let u=s.join("&");return u!==""&&(u=`?${u}`),{data:{publicUrl:encodeURI(`${this.url}/${a}/public/${r}${u}`)}}}remove(t){return Ee(this,void 0,void 0,function*(){try{return{data:yield ja(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(n){if(pe(n))return{data:null,error:n};throw n}})}list(t,n,r){return Ee(this,void 0,void 0,function*(){try{const s=Object.assign(Object.assign(Object.assign({},Bh),n),{prefix:t||""});return{data:yield dt(this.fetch,`${this.url}/object/list/${this.bucketId}`,s,{headers:this.headers},r),error:null}}catch(s){if(pe(s))return{data:null,error:s};throw s}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const n=[];return t.width&&n.push(`width=${t.width}`),t.height&&n.push(`height=${t.height}`),t.resize&&n.push(`resize=${t.resize}`),t.format&&n.push(`format=${t.format}`),t.quality&&n.push(`quality=${t.quality}`),n.join("&")}}const Wh="2.7.1",qh={"X-Client-Info":`storage-js/${Wh}`};var Ut=globalThis&&globalThis.__awaiter||function(e,t,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(c){try{u(r.next(c))}catch(h){o(h)}}function l(c){try{u(r.throw(c))}catch(h){o(h)}}function u(c){c.done?i(c.value):s(c.value).then(a,l)}u((r=r.apply(e,t||[])).next())})};class zh{constructor(t,n={},r){this.url=t,this.headers=Object.assign(Object.assign({},qh),n),this.fetch=$a(r)}listBuckets(){return Ut(this,void 0,void 0,function*(){try{return{data:yield hr(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(t){if(pe(t))return{data:null,error:t};throw t}})}getBucket(t){return Ut(this,void 0,void 0,function*(){try{return{data:yield hr(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(n){if(pe(n))return{data:null,error:n};throw n}})}createBucket(t,n={public:!1}){return Ut(this,void 0,void 0,function*(){try{return{data:yield dt(this.fetch,`${this.url}/bucket`,{id:t,name:t,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(pe(r))return{data:null,error:r};throw r}})}updateBucket(t,n){return Ut(this,void 0,void 0,function*(){try{return{data:yield Uh(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(pe(r))return{data:null,error:r};throw r}})}emptyBucket(t){return Ut(this,void 0,void 0,function*(){try{return{data:yield dt(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(n){if(pe(n))return{data:null,error:n};throw n}})}deleteBucket(t){return Ut(this,void 0,void 0,function*(){try{return{data:yield ja(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(n){if(pe(n))return{data:null,error:n};throw n}})}}class Kh extends zh{constructor(t,n={},r){super(t,n,r)}from(t){return new Hh(this.url,this.headers,t,this.fetch)}}const Gh="2.48.0";let yn="";typeof Deno<"u"?yn="deno":typeof document<"u"?yn="web":typeof navigator<"u"&&navigator.product==="ReactNative"?yn="react-native":yn="node";const Vh={"X-Client-Info":`supabase-js-${yn}/${Gh}`},Jh={headers:Vh},Qh={schema:"public"},Yh={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},Xh={};var Zh=globalThis&&globalThis.__awaiter||function(e,t,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(c){try{u(r.next(c))}catch(h){o(h)}}function l(c){try{u(r.throw(c))}catch(h){o(h)}}function u(c){c.done?i(c.value):s(c.value).then(a,l)}u((r=r.apply(e,t||[])).next())})};const ef=e=>{let t;return e?t=e:typeof fetch>"u"?t=va:t=fetch,(...n)=>t(...n)},tf=()=>typeof Headers>"u"?_a:Headers,nf=(e,t,n)=>{const r=ef(n),s=tf();return(i,o)=>Zh(void 0,void 0,void 0,function*(){var a;const l=(a=yield t())!==null&&a!==void 0?a:e;let u=new s(o?.headers);return u.has("apikey")||u.set("apikey",e),u.has("Authorization")||u.set("Authorization",`Bearer ${l}`),r(i,Object.assign(Object.assign({},o),{headers:u}))})};var rf=globalThis&&globalThis.__awaiter||function(e,t,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(c){try{u(r.next(c))}catch(h){o(h)}}function l(c){try{u(r.throw(c))}catch(h){o(h)}}function u(c){c.done?i(c.value):s(c.value).then(a,l)}u((r=r.apply(e,t||[])).next())})};function sf(e){return e.replace(/\/$/,"")}function of(e,t){const{db:n,auth:r,realtime:s,global:i}=e,{db:o,auth:a,realtime:l,global:u}=t,c={db:Object.assign(Object.assign({},o),n),auth:Object.assign(Object.assign({},a),r),realtime:Object.assign(Object.assign({},l),s),global:Object.assign(Object.assign({},u),i),accessToken:()=>rf(this,void 0,void 0,function*(){return""})};return e.accessToken?c.accessToken=e.accessToken:delete c.accessToken,c}const Ia="2.67.3",af="http://localhost:9999",lf="supabase.auth.token",cf={"X-Client-Info":`gotrue-js/${Ia}`},Ni=10,ms="X-Supabase-Api-Version",La={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}};function uf(e){return Math.round(Date.now()/1e3)+e}function hf(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=Math.random()*16|0;return(e=="x"?t:t&3|8).toString(16)})}const Ge=()=>typeof window<"u"&&typeof document<"u",Et={tested:!1,writable:!1},Sn=()=>{if(!Ge())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Et.tested)return Et.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),Et.tested=!0,Et.writable=!0}catch{Et.tested=!0,Et.writable=!1}return Et.writable};function ff(e){const t={},n=new URL(e);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((s,i)=>{t[i]=s})}catch{}return n.searchParams.forEach((r,s)=>{t[s]=r}),t}const Da=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>Se(()=>Promise.resolve().then(()=>an),void 0).then(({default:r})=>r(...n)):t=fetch,(...n)=>t(...n)},df=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",Ma=async(e,t,n)=>{await e.setItem(t,JSON.stringify(n))},Vn=async(e,t)=>{const n=await e.getItem(t);if(!n)return null;try{return JSON.parse(n)}catch{return n}},Jn=async(e,t)=>{await e.removeItem(t)};function pf(e){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";let n="",r,s,i,o,a,l,u,c=0;for(e=e.replace("-","+").replace("_","/");c<e.length;)o=t.indexOf(e.charAt(c++)),a=t.indexOf(e.charAt(c++)),l=t.indexOf(e.charAt(c++)),u=t.indexOf(e.charAt(c++)),r=o<<2|a>>4,s=(a&15)<<4|l>>2,i=(l&3)<<6|u,n=n+String.fromCharCode(r),l!=64&&s!=0&&(n=n+String.fromCharCode(s)),u!=64&&i!=0&&(n=n+String.fromCharCode(i));return n}class jr{constructor(){this.promise=new jr.promiseConstructor((t,n)=>{this.resolve=t,this.reject=n})}}jr.promiseConstructor=Promise;function Ui(e){const t=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}=?$|[a-z0-9_-]{2}(==)?$)$/i,n=e.split(".");if(n.length!==3)throw new Error("JWT is not valid: not a JWT structure");if(!t.test(n[1]))throw new Error("JWT is not valid: payload is not in base64url format");const r=n[1];return JSON.parse(pf(r))}async function gf(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function mf(e,t){return new Promise((r,s)=>{(async()=>{for(let i=0;i<1/0;i++)try{const o=await e(i);if(!t(i,null,o)){r(o);return}}catch(o){if(!t(i,o)){s(o);return}}})()})}function vf(e){return("0"+e.toString(16)).substr(-2)}function _f(){const t=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=n.length;let s="";for(let i=0;i<56;i++)s+=n.charAt(Math.floor(Math.random()*r));return s}return crypto.getRandomValues(t),Array.from(t,vf).join("")}async function yf(e){const n=new TextEncoder().encode(e),r=await crypto.subtle.digest("SHA-256",n),s=new Uint8Array(r);return Array.from(s).map(i=>String.fromCharCode(i)).join("")}function bf(e){return btoa(e).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function wf(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const n=await yf(e);return bf(n)}async function Ft(e,t,n=!1){const r=_f();let s=r;n&&(s+="/PASSWORD_RECOVERY"),await Ma(e,`${t}-code-verifier`,s);const i=await wf(r);return[i,r===i?"plain":"s256"]}const kf=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function Ef(e){const t=e.headers.get(ms);if(!t||!t.match(kf))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}class Ks extends Error{constructor(t,n,r){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=r}}function B(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class Pf extends Ks{constructor(t,n,r){super(t,n,r),this.name="AuthApiError",this.status=n,this.code=r}}function Sf(e){return B(e)&&e.name==="AuthApiError"}class Na extends Ks{constructor(t,n){super(t),this.name="AuthUnknownError",this.originalError=n}}class Lt extends Ks{constructor(t,n,r,s){super(t,r,s),this.name=n,this.status=r}}class ut extends Lt{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function Tf(e){return B(e)&&e.name==="AuthSessionMissingError"}class zr extends Lt{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Qn extends Lt{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class Yn extends Lt{constructor(t,n=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function Of(e){return B(e)&&e.name==="AuthImplicitGrantRedirectError"}class Fi extends Lt{constructor(t,n=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class vs extends Lt{constructor(t,n){super(t,"AuthRetryableFetchError",n,void 0)}}function Kr(e){return B(e)&&e.name==="AuthRetryableFetchError"}class Bi extends Lt{constructor(t,n,r){super(t,"AuthWeakPasswordError",n,"weak_password"),this.reasons=r}}var Rf=globalThis&&globalThis.__rest||function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(n[r[s]]=e[r[s]]);return n};const St=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),xf=[502,503,504];async function Hi(e){var t;if(!df(e))throw new vs(St(e),0);if(xf.includes(e.status))throw new vs(St(e),e.status);let n;try{n=await e.json()}catch(i){throw new Na(St(i),i)}let r;const s=Ef(e);if(s&&s.getTime()>=La["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?r=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(r=n.error_code),r){if(r==="weak_password")throw new Bi(St(n),e.status,((t=n.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(r==="session_not_found")throw new ut}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((i,o)=>i&&typeof o=="string",!0))throw new Bi(St(n),e.status,n.weak_password.reasons);throw new Pf(St(n),e.status||500,r)}const Cf=(e,t,n,r)=>{const s={method:e,headers:t?.headers||{}};return e==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t?.headers),s.body=JSON.stringify(r),Object.assign(Object.assign({},s),n))};async function K(e,t,n,r){var s;const i=Object.assign({},r?.headers);i[ms]||(i[ms]=La["2024-01-01"].name),r?.jwt&&(i.Authorization=`Bearer ${r.jwt}`);const o=(s=r?.query)!==null&&s!==void 0?s:{};r?.redirectTo&&(o.redirect_to=r.redirectTo);const a=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",l=await Af(e,t,n+a,{headers:i,noResolveJson:r?.noResolveJson},{},r?.body);return r?.xform?r?.xform(l):{data:Object.assign({},l),error:null}}async function Af(e,t,n,r,s,i){const o=Cf(t,r,s,i);let a;try{a=await e(n,Object.assign({},o))}catch(l){throw console.error(l),new vs(St(l),0)}if(a.ok||await Hi(a),r?.noResolveJson)return a;try{return await a.json()}catch(l){await Hi(l)}}function ht(e){var t;let n=null;Lf(e)&&(n=Object.assign({},e),e.expires_at||(n.expires_at=uf(e.expires_in)));const r=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:n,user:r},error:null}}function Wi(e){const t=ht(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((n,r)=>n&&typeof r=="string",!0)&&(t.data.weak_password=e.weak_password),t}function gt(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function $f(e){return{data:e,error:null}}function jf(e){const{action_link:t,email_otp:n,hashed_token:r,redirect_to:s,verification_type:i}=e,o=Rf(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),a={action_link:t,email_otp:n,hashed_token:r,redirect_to:s,verification_type:i},l=Object.assign({},o);return{data:{properties:a,user:l},error:null}}function If(e){return e}function Lf(e){return e.access_token&&e.refresh_token&&e.expires_in}var Df=globalThis&&globalThis.__rest||function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(n[r[s]]=e[r[s]]);return n};class Mf{constructor({url:t="",headers:n={},fetch:r}){this.url=t,this.headers=n,this.fetch=Da(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(t,n="global"){try{return await K(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(r){if(B(r))return{data:null,error:r};throw r}}async inviteUserByEmail(t,n={}){try{return await K(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:gt})}catch(r){if(B(r))return{data:{user:null},error:r};throw r}}async generateLink(t){try{const{options:n}=t,r=Df(t,["options"]),s=Object.assign(Object.assign({},r),n);return"newEmail"in r&&(s.new_email=r?.newEmail,delete s.newEmail),await K(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:s,headers:this.headers,xform:jf,redirectTo:n?.redirectTo})}catch(n){if(B(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(t){try{return await K(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:gt})}catch(n){if(B(n))return{data:{user:null},error:n};throw n}}async listUsers(t){var n,r,s,i,o,a,l;try{const u={nextPage:null,lastPage:0,total:0},c=await K(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=t?.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(i=(s=t?.perPage)===null||s===void 0?void 0:s.toString())!==null&&i!==void 0?i:""},xform:If});if(c.error)throw c.error;const h=await c.json(),d=(o=c.headers.get("x-total-count"))!==null&&o!==void 0?o:0,g=(l=(a=c.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&l!==void 0?l:[];return g.length>0&&(g.forEach(y=>{const k=parseInt(y.split(";")[0].split("=")[1].substring(0,1)),O=JSON.parse(y.split(";")[1].split("=")[1]);u[`${O}Page`]=k}),u.total=parseInt(d)),{data:Object.assign(Object.assign({},h),u),error:null}}catch(u){if(B(u))return{data:{users:[]},error:u};throw u}}async getUserById(t){try{return await K(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:gt})}catch(n){if(B(n))return{data:{user:null},error:n};throw n}}async updateUserById(t,n){try{return await K(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:n,headers:this.headers,xform:gt})}catch(r){if(B(r))return{data:{user:null},error:r};throw r}}async deleteUser(t,n=!1){try{return await K(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:n},xform:gt})}catch(r){if(B(r))return{data:{user:null},error:r};throw r}}async _listFactors(t){try{const{data:n,error:r}=await K(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:s=>({data:{factors:s},error:null})});return{data:n,error:r}}catch(n){if(B(n))return{data:null,error:n};throw n}}async _deleteFactor(t){try{return{data:await K(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(n){if(B(n))return{data:null,error:n};throw n}}}const Nf={getItem:e=>Sn()?globalThis.localStorage.getItem(e):null,setItem:(e,t)=>{Sn()&&globalThis.localStorage.setItem(e,t)},removeItem:e=>{Sn()&&globalThis.localStorage.removeItem(e)}};function qi(e={}){return{getItem:t=>e[t]||null,setItem:(t,n)=>{e[t]=n},removeItem:t=>{delete e[t]}}}function Uf(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const Bt={debug:!!(globalThis&&Sn()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class Ua extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class Ff extends Ua{}async function Bf(e,t,n){Bt.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const r=new globalThis.AbortController;return t>0&&setTimeout(()=>{r.abort(),Bt.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async s=>{if(s){Bt.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,s.name);try{return await n()}finally{Bt.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,s.name)}}else{if(t===0)throw Bt.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new Ff(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(Bt.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}Uf();const Hf={url:af,storageKey:lf,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:cf,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1},fn=30*1e3,zi=3;async function Ki(e,t,n){return await n()}class Dn{constructor(t){var n,r;this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=Dn.nextInstanceID,Dn.nextInstanceID+=1,this.instanceID>0&&Ge()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const s=Object.assign(Object.assign({},Hf),t);if(this.logDebugMessages=!!s.debug,typeof s.debug=="function"&&(this.logger=s.debug),this.persistSession=s.persistSession,this.storageKey=s.storageKey,this.autoRefreshToken=s.autoRefreshToken,this.admin=new Mf({url:s.url,headers:s.headers,fetch:s.fetch}),this.url=s.url,this.headers=s.headers,this.fetch=Da(s.fetch),this.lock=s.lock||Ki,this.detectSessionInUrl=s.detectSessionInUrl,this.flowType=s.flowType,this.hasCustomAuthorizationHeader=s.hasCustomAuthorizationHeader,s.lock?this.lock=s.lock:Ge()&&(!((n=globalThis?.navigator)===null||n===void 0)&&n.locks)?this.lock=Bf:this.lock=Ki,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?s.storage?this.storage=s.storage:Sn()?this.storage=Nf:(this.memoryStorage={},this.storage=qi(this.memoryStorage)):(this.memoryStorage={},this.storage=qi(this.memoryStorage)),Ge()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(i){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",i)}(r=this.broadcastChannel)===null||r===void 0||r.addEventListener("message",async i=>{this._debug("received broadcast notification from other tab or client",i),await this._notifyAllSubscribers(i.data.event,i.data.session,!1)})}this.initialize()}_debug(...t){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${Ia}) ${new Date().toISOString()}`,...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{const n=ff(window.location.href);let r="none";if(this._isImplicitGrantCallback(n)?r="implicit":await this._isPKCECallback(n)&&(r="pkce"),Ge()&&this.detectSessionInUrl&&r!=="none"){const{data:s,error:i}=await this._getSessionFromURL(n,r);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),Of(i)){const l=(t=i.details)===null||t===void 0?void 0:t.code;if(l==="identity_already_exists"||l==="identity_not_found"||l==="single_identity_not_deletable")return{error:i}}return await this._removeSession(),{error:i}}const{session:o,redirectType:a}=s;return this._debug("#_initialize()","detected session in URL",o,"redirect type",a),await this._saveSession(o),setTimeout(async()=>{a==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return B(n)?{error:n}:{error:new Na("Unexpected error during initialization",n)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var n,r,s;try{const i=await K(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(n=t?.options)===null||n===void 0?void 0:n.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(s=t?.options)===null||s===void 0?void 0:s.captchaToken}},xform:ht}),{data:o,error:a}=i;if(a||!o)return{data:{user:null,session:null},error:a};const l=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:u,session:l},error:null}}catch(i){if(B(i))return{data:{user:null,session:null},error:i};throw i}}async signUp(t){var n,r,s;try{let i;if("email"in t){const{email:c,password:h,options:d}=t;let g=null,y=null;this.flowType==="pkce"&&([g,y]=await Ft(this.storage,this.storageKey)),i=await K(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:d?.emailRedirectTo,body:{email:c,password:h,data:(n=d?.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:d?.captchaToken},code_challenge:g,code_challenge_method:y},xform:ht})}else if("phone"in t){const{phone:c,password:h,options:d}=t;i=await K(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:c,password:h,data:(r=d?.data)!==null&&r!==void 0?r:{},channel:(s=d?.channel)!==null&&s!==void 0?s:"sms",gotrue_meta_security:{captcha_token:d?.captchaToken}},xform:ht})}else throw new Qn("You must provide either an email or phone number and a password");const{data:o,error:a}=i;if(a||!o)return{data:{user:null,session:null},error:a};const l=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:u,session:l},error:null}}catch(i){if(B(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithPassword(t){try{let n;if("email"in t){const{email:i,password:o,options:a}=t;n=await K(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:o,gotrue_meta_security:{captcha_token:a?.captchaToken}},xform:Wi})}else if("phone"in t){const{phone:i,password:o,options:a}=t;n=await K(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:o,gotrue_meta_security:{captcha_token:a?.captchaToken}},xform:Wi})}else throw new Qn("You must provide either an email or phone number and a password");const{data:r,error:s}=n;return s?{data:{user:null,session:null},error:s}:!r||!r.session||!r.user?{data:{user:null,session:null},error:new zr}:(r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),{data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:s})}catch(n){if(B(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOAuth(t){var n,r,s,i;return await this._handleProviderSignIn(t.provider,{redirectTo:(n=t.options)===null||n===void 0?void 0:n.redirectTo,scopes:(r=t.options)===null||r===void 0?void 0:r.scopes,queryParams:(s=t.options)===null||s===void 0?void 0:s.queryParams,skipBrowserRedirect:(i=t.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async _exchangeCodeForSession(t){const n=await Vn(this.storage,`${this.storageKey}-code-verifier`),[r,s]=(n??"").split("/");try{const{data:i,error:o}=await K(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:r},xform:ht});if(await Jn(this.storage,`${this.storageKey}-code-verifier`),o)throw o;return!i||!i.session||!i.user?{data:{user:null,session:null,redirectType:null},error:new zr}:(i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),{data:Object.assign(Object.assign({},i),{redirectType:s??null}),error:o})}catch(i){if(B(i))return{data:{user:null,session:null,redirectType:null},error:i};throw i}}async signInWithIdToken(t){try{const{options:n,provider:r,token:s,access_token:i,nonce:o}=t,a=await K(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:s,access_token:i,nonce:o,gotrue_meta_security:{captcha_token:n?.captchaToken}},xform:ht}),{data:l,error:u}=a;return u?{data:{user:null,session:null},error:u}:!l||!l.session||!l.user?{data:{user:null,session:null},error:new zr}:(l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),{data:l,error:u})}catch(n){if(B(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOtp(t){var n,r,s,i,o;try{if("email"in t){const{email:a,options:l}=t;let u=null,c=null;this.flowType==="pkce"&&([u,c]=await Ft(this.storage,this.storageKey));const{error:h}=await K(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:a,data:(n=l?.data)!==null&&n!==void 0?n:{},create_user:(r=l?.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:l?.captchaToken},code_challenge:u,code_challenge_method:c},redirectTo:l?.emailRedirectTo});return{data:{user:null,session:null},error:h}}if("phone"in t){const{phone:a,options:l}=t,{data:u,error:c}=await K(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:a,data:(s=l?.data)!==null&&s!==void 0?s:{},create_user:(i=l?.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:l?.captchaToken},channel:(o=l?.channel)!==null&&o!==void 0?o:"sms"}});return{data:{user:null,session:null,messageId:u?.message_id},error:c}}throw new Qn("You must provide either an email or phone number.")}catch(a){if(B(a))return{data:{user:null,session:null},error:a};throw a}}async verifyOtp(t){var n,r;try{let s,i;"options"in t&&(s=(n=t.options)===null||n===void 0?void 0:n.redirectTo,i=(r=t.options)===null||r===void 0?void 0:r.captchaToken);const{data:o,error:a}=await K(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:i}}),redirectTo:s,xform:ht});if(a)throw a;if(!o)throw new Error("An error occurred on token verification.");const l=o.session,u=o.user;return l?.access_token&&(await this._saveSession(l),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",l)),{data:{user:u,session:l},error:null}}catch(s){if(B(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithSSO(t){var n,r,s;try{let i=null,o=null;return this.flowType==="pkce"&&([i,o]=await Ft(this.storage,this.storageKey)),await K(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(r=(n=t.options)===null||n===void 0?void 0:n.redirectTo)!==null&&r!==void 0?r:void 0}),!((s=t?.options)===null||s===void 0)&&s.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:i,code_challenge_method:o}),headers:this.headers,xform:$f})}catch(i){if(B(i))return{data:null,error:i};throw i}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:n},error:r}=t;if(r)throw r;if(!n)throw new ut;const{error:s}=await K(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return{data:{user:null,session:null},error:s}})}catch(t){if(B(t))return{data:{user:null,session:null},error:t};throw t}}async resend(t){try{const n=`${this.url}/resend`;if("email"in t){const{email:r,type:s,options:i}=t,{error:o}=await K(this.fetch,"POST",n,{headers:this.headers,body:{email:r,type:s,gotrue_meta_security:{captcha_token:i?.captchaToken}},redirectTo:i?.emailRedirectTo});return{data:{user:null,session:null},error:o}}else if("phone"in t){const{phone:r,type:s,options:i}=t,{data:o,error:a}=await K(this.fetch,"POST",n,{headers:this.headers,body:{phone:r,type:s,gotrue_meta_security:{captcha_token:i?.captchaToken}}});return{data:{user:null,session:null,messageId:o?.message_id},error:a}}throw new Qn("You must provide either an email or phone number and a type")}catch(n){if(B(n))return{data:{user:null,session:null},error:n};throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async n=>n))}async _acquireLock(t,n){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),s=(async()=>(await r,await n()))();return this.pendingInLock.push((async()=>{try{await s}catch{}})()),s}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=n();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const s=[...this.pendingInLock];await Promise.all(s),this.pendingInLock.splice(0,s.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await t(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const n=await Vn(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?t=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const r=t.expires_at?t.expires_at<=Date.now()/1e3:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",t.expires_at),!r){if(this.storage.isServer){let o=this.suppressGetSessionWarning;t=new Proxy(t,{get:(l,u,c)=>(!o&&u==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),o=!0,this.suppressGetSessionWarning=!0),Reflect.get(l,u,c))})}return{data:{session:t},error:null}}const{session:s,error:i}=await this._callRefreshToken(t.refresh_token);return i?{data:{session:null},error:i}:{data:{session:s},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(t){return t?await this._getUser(t):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(t){try{return t?await K(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:gt}):await this._useSession(async n=>{var r,s,i;const{data:o,error:a}=n;if(a)throw a;return!(!((r=o.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new ut}:await K(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(s=o.session)===null||s===void 0?void 0:s.access_token)!==null&&i!==void 0?i:void 0,xform:gt})})}catch(n){if(B(n))return Tf(n)&&(await this._removeSession(),await Jn(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:n};throw n}}async updateUser(t,n={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,n))}async _updateUser(t,n={}){try{return await this._useSession(async r=>{const{data:s,error:i}=r;if(i)throw i;if(!s.session)throw new ut;const o=s.session;let a=null,l=null;this.flowType==="pkce"&&t.email!=null&&([a,l]=await Ft(this.storage,this.storageKey));const{data:u,error:c}=await K(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n?.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:a,code_challenge_method:l}),jwt:o.access_token,xform:gt});if(c)throw c;return o.user=u.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),{data:{user:o.user},error:null}})}catch(r){if(B(r))return{data:{user:null},error:r};throw r}}_decodeJWT(t){return Ui(t)}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new ut;const n=Date.now()/1e3;let r=n,s=!0,i=null;const o=Ui(t.access_token);if(o.exp&&(r=o.exp,s=r<=n),s){const{session:a,error:l}=await this._callRefreshToken(t.refresh_token);if(l)return{data:{user:null,session:null},error:l};if(!a)return{data:{user:null,session:null},error:null};i=a}else{const{data:a,error:l}=await this._getUser(t.access_token);if(l)throw l;i={access_token:t.access_token,refresh_token:t.refresh_token,user:a.user,token_type:"bearer",expires_in:r-n,expires_at:r},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return{data:{user:i.user,session:i},error:null}}catch(n){if(B(n))return{data:{session:null,user:null},error:n};throw n}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async n=>{var r;if(!t){const{data:o,error:a}=n;if(a)throw a;t=(r=o.session)!==null&&r!==void 0?r:void 0}if(!t?.refresh_token)throw new ut;const{session:s,error:i}=await this._callRefreshToken(t.refresh_token);return i?{data:{user:null,session:null},error:i}:s?{data:{user:s.user,session:s},error:null}:{data:{user:null,session:null},error:null}})}catch(n){if(B(n))return{data:{user:null,session:null},error:n};throw n}}async _getSessionFromURL(t,n){try{if(!Ge())throw new Yn("No browser detected.");if(t.error||t.error_description||t.error_code)throw new Yn(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new Fi("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Yn("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new Fi("No code detected.");const{data:I,error:A}=await this._exchangeCodeForSession(t.code);if(A)throw A;const U=new URL(window.location.href);return U.searchParams.delete("code"),window.history.replaceState(window.history.state,"",U.toString()),{data:{session:I.session,redirectType:null},error:null}}const{provider_token:r,provider_refresh_token:s,access_token:i,refresh_token:o,expires_in:a,expires_at:l,token_type:u}=t;if(!i||!a||!o||!u)throw new Yn("No session defined in URL");const c=Math.round(Date.now()/1e3),h=parseInt(a);let d=c+h;l&&(d=parseInt(l));const g=d-c;g*1e3<=fn&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${g}s, should have been closer to ${h}s`);const y=d-h;c-y>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",y,d,c):c-y<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",y,d,c);const{data:k,error:O}=await this._getUser(i);if(O)throw O;const T={provider_token:r,provider_refresh_token:s,access_token:i,expires_in:h,expires_at:d,refresh_token:o,token_type:u,user:k.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:T,redirectType:t.type},error:null}}catch(r){if(B(r))return{data:{session:null,redirectType:null},error:r};throw r}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const n=await Vn(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&n)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async n=>{var r;const{data:s,error:i}=n;if(i)return{error:i};const o=(r=s.session)===null||r===void 0?void 0:r.access_token;if(o){const{error:a}=await this.admin.signOut(o,t);if(a&&!(Sf(a)&&(a.status===404||a.status===401||a.status===403)))return{error:a}}return t!=="others"&&(await this._removeSession(),await Jn(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(t){const n=hf(),r={id:n,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,r),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:r}}}async _emitInitialSession(t){return await this._useSession(async n=>{var r,s;try{const{data:{session:i},error:o}=n;if(o)throw o;await((r=this.stateChangeEmitters.get(t))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",t,"session",i)}catch(i){await((s=this.stateChangeEmitters.get(t))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",i),console.error(i)}})}async resetPasswordForEmail(t,n={}){let r=null,s=null;this.flowType==="pkce"&&([r,s]=await Ft(this.storage,this.storageKey,!0));try{return await K(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:r,code_challenge_method:s,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(i){if(B(i))return{data:null,error:i};throw i}}async getUserIdentities(){var t;try{const{data:n,error:r}=await this.getUser();if(r)throw r;return{data:{identities:(t=n.user.identities)!==null&&t!==void 0?t:[]},error:null}}catch(n){if(B(n))return{data:null,error:n};throw n}}async linkIdentity(t){var n;try{const{data:r,error:s}=await this._useSession(async i=>{var o,a,l,u,c;const{data:h,error:d}=i;if(d)throw d;const g=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(o=t.options)===null||o===void 0?void 0:o.redirectTo,scopes:(a=t.options)===null||a===void 0?void 0:a.scopes,queryParams:(l=t.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:!0});return await K(this.fetch,"GET",g,{headers:this.headers,jwt:(c=(u=h.session)===null||u===void 0?void 0:u.access_token)!==null&&c!==void 0?c:void 0})});if(s)throw s;return Ge()&&!(!((n=t.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(r?.url),{data:{provider:t.provider,url:r?.url},error:null}}catch(r){if(B(r))return{data:{provider:t.provider,url:null},error:r};throw r}}async unlinkIdentity(t){try{return await this._useSession(async n=>{var r,s;const{data:i,error:o}=n;if(o)throw o;return await K(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(s=(r=i.session)===null||r===void 0?void 0:r.access_token)!==null&&s!==void 0?s:void 0})})}catch(n){if(B(n))return{data:null,error:n};throw n}}async _refreshAccessToken(t){const n=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(n,"begin");try{const r=Date.now();return await mf(async s=>(s>0&&await gf(200*Math.pow(2,s-1)),this._debug(n,"refreshing attempt",s),await K(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:ht})),(s,i)=>{const o=200*Math.pow(2,s);return i&&Kr(i)&&Date.now()+o-r<fn})}catch(r){if(this._debug(n,"error",r),B(r))return{data:{session:null,user:null},error:r};throw r}finally{this._debug(n,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,n){const r=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",n,"url",r),Ge()&&!n.skipBrowserRedirect&&window.location.assign(r),{data:{provider:t,url:r},error:null}}async _recoverAndRefresh(){var t;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const r=await Vn(this.storage,this.storageKey);if(this._debug(n,"session from storage",r),!this._isValidSession(r)){this._debug(n,"session is not valid"),r!==null&&await this._removeSession();return}const s=Math.round(Date.now()/1e3),i=((t=r.expires_at)!==null&&t!==void 0?t:1/0)<s+Ni;if(this._debug(n,`session has${i?"":" not"} expired with margin of ${Ni}s`),i){if(this.autoRefreshToken&&r.refresh_token){const{error:o}=await this._callRefreshToken(r.refresh_token);o&&(console.error(o),Kr(o)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",o),await this._removeSession()))}}else await this._notifyAllSubscribers("SIGNED_IN",r)}catch(r){this._debug(n,"error",r),console.error(r);return}finally{this._debug(n,"end")}}async _callRefreshToken(t){var n,r;if(!t)throw new ut;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const s=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(s,"begin");try{this.refreshingDeferred=new jr;const{data:i,error:o}=await this._refreshAccessToken(t);if(o)throw o;if(!i.session)throw new ut;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const a={session:i.session,error:null};return this.refreshingDeferred.resolve(a),a}catch(i){if(this._debug(s,"error",i),B(i)){const o={session:null,error:i};return Kr(i)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(o),o}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(i),i}finally{this.refreshingDeferred=null,this._debug(s,"end")}}async _notifyAllSubscribers(t,n,r=!0){const s=`#_notifyAllSubscribers(${t})`;this._debug(s,"begin",n,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:t,session:n});const i=[],o=Array.from(this.stateChangeEmitters.values()).map(async a=>{try{await a.callback(t,n)}catch(l){i.push(l)}});if(await Promise.all(o),i.length>0){for(let a=0;a<i.length;a+=1)console.error(i[a]);throw i[0]}}finally{this._debug(s,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0,await Ma(this.storage,this.storageKey,t)}async _removeSession(){this._debug("#_removeSession()"),await Jn(this.storage,this.storageKey),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&Ge()&&window?.removeEventListener&&window.removeEventListener("visibilitychange",t)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),fn);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async n=>{const{data:{session:r}}=n;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const s=Math.floor((r.expires_at*1e3-t)/fn);this._debug("#_autoRefreshTokenTick()",`access token expires in ${s} ticks, a tick lasts ${fn}ms, refresh threshold is ${zi} ticks`),s<=zi&&await this._callRefreshToken(r.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof Ua)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Ge()||!window?.addEventListener)return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window?.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const n=`#_onVisibilityChanged(${t})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,n,r){const s=[`provider=${encodeURIComponent(n)}`];if(r?.redirectTo&&s.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r?.scopes&&s.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[i,o]=await Ft(this.storage,this.storageKey),a=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(o)}`});s.push(a.toString())}if(r?.queryParams){const i=new URLSearchParams(r.queryParams);s.push(i.toString())}return r?.skipBrowserRedirect&&s.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${t}?${s.join("&")}`}async _unenroll(t){try{return await this._useSession(async n=>{var r;const{data:s,error:i}=n;return i?{data:null,error:i}:await K(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(r=s?.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(B(n))return{data:null,error:n};throw n}}async _enroll(t){try{return await this._useSession(async n=>{var r,s;const{data:i,error:o}=n;if(o)return{data:null,error:o};const a=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:{issuer:t.issuer}),{data:l,error:u}=await K(this.fetch,"POST",`${this.url}/factors`,{body:a,headers:this.headers,jwt:(r=i?.session)===null||r===void 0?void 0:r.access_token});return u?{data:null,error:u}:(t.factorType==="totp"&&(!((s=l?.totp)===null||s===void 0)&&s.qr_code)&&(l.totp.qr_code=`data:image/svg+xml;utf-8,${l.totp.qr_code}`),{data:l,error:null})})}catch(n){if(B(n))return{data:null,error:n};throw n}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:s,error:i}=n;if(i)return{data:null,error:i};const{data:o,error:a}=await K(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:{code:t.code,challenge_id:t.challengeId},headers:this.headers,jwt:(r=s?.session)===null||r===void 0?void 0:r.access_token});return a?{data:null,error:a}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+o.expires_in},o)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",o),{data:o,error:a})})}catch(n){if(B(n))return{data:null,error:n};throw n}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:s,error:i}=n;return i?{data:null,error:i}:await K(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:{channel:t.channel},headers:this.headers,jwt:(r=s?.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(B(n))return{data:null,error:n};throw n}})}async _challengeAndVerify(t){const{data:n,error:r}=await this._challenge({factorId:t.factorId});return r?{data:null,error:r}:await this._verify({factorId:t.factorId,challengeId:n.id,code:t.code})}async _listFactors(){const{data:{user:t},error:n}=await this.getUser();if(n)return{data:null,error:n};const r=t?.factors||[],s=r.filter(o=>o.factor_type==="totp"&&o.status==="verified"),i=r.filter(o=>o.factor_type==="phone"&&o.status==="verified");return{data:{all:r,totp:s,phone:i},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async t=>{var n,r;const{data:{session:s},error:i}=t;if(i)return{data:null,error:i};if(!s)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const o=this._decodeJWT(s.access_token);let a=null;o.aal&&(a=o.aal);let l=a;((r=(n=s.user.factors)===null||n===void 0?void 0:n.filter(h=>h.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(l="aal2");const c=o.amr||[];return{data:{currentLevel:a,nextLevel:l,currentAuthenticationMethods:c},error:null}}))}}Dn.nextInstanceID=0;const Wf=Dn;class qf extends Wf{constructor(t){super(t)}}var zf=globalThis&&globalThis.__awaiter||function(e,t,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(c){try{u(r.next(c))}catch(h){o(h)}}function l(c){try{u(r.throw(c))}catch(h){o(h)}}function u(c){c.done?i(c.value):s(c.value).then(a,l)}u((r=r.apply(e,t||[])).next())})};class Kf{constructor(t,n,r){var s,i,o;if(this.supabaseUrl=t,this.supabaseKey=n,!t)throw new Error("supabaseUrl is required.");if(!n)throw new Error("supabaseKey is required.");const a=sf(t);this.realtimeUrl=`${a}/realtime/v1`.replace(/^http/i,"ws"),this.authUrl=`${a}/auth/v1`,this.storageUrl=`${a}/storage/v1`,this.functionsUrl=`${a}/functions/v1`;const l=`sb-${new URL(this.authUrl).hostname.split(".")[0]}-auth-token`,u={db:Qh,realtime:Xh,auth:Object.assign(Object.assign({},Yh),{storageKey:l}),global:Jh},c=of(r??{},u);this.storageKey=(s=c.auth.storageKey)!==null&&s!==void 0?s:"",this.headers=(i=c.global.headers)!==null&&i!==void 0?i:{},c.accessToken?(this.accessToken=c.accessToken,this.auth=new Proxy({},{get:(h,d)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(d)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((o=c.auth)!==null&&o!==void 0?o:{},this.headers,c.global.fetch),this.fetch=nf(n,this._getAccessToken.bind(this),c.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},c.realtime)),this.rest=new vh(`${a}/rest/v1`,{headers:this.headers,schema:c.db.schema,fetch:this.fetch}),c.accessToken||this._listenForAuthEvents()}get functions(){return new Ku(this.functionsUrl,{headers:this.headers,customFetch:this.fetch})}get storage(){return new Kh(this.storageUrl,this.headers,this.fetch)}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,n={},r={}){return this.rest.rpc(t,n,r)}channel(t,n={config:{}}){return this.realtime.channel(t,n)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var t,n;return zf(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:r}=yield this.auth.getSession();return(n=(t=r.session)===null||t===void 0?void 0:t.access_token)!==null&&n!==void 0?n:null})}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:n,detectSessionInUrl:r,storage:s,storageKey:i,flowType:o,lock:a,debug:l},u,c){const h={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new qf({url:this.authUrl,headers:Object.assign(Object.assign({},h),u),storageKey:i,autoRefreshToken:t,persistSession:n,detectSessionInUrl:r,storage:s,flowType:o,lock:a,debug:l,fetch:c,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(t){return new $h(this.realtimeUrl,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((n,r)=>{this._handleTokenChanged(n,"CLIENT",r?.access_token)})}_handleTokenChanged(t,n,r){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==r?this.changedAccessToken=r:t==="SIGNED_OUT"&&(this.realtime.setAuth(),n=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const Gf=(e,t,n)=>new Kf(e,t,n),Vf="https://qhlstyxapyhjplcmftcw.supabase.co",Jf="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InFobHN0eXhhcHloanBsY21mdGN3Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3MzcwMTY3OTYsImV4cCI6MjA1MjU5Mjc5Nn0.3hRyfKN3RyBSbIuiPWzm5cyadOyTUlJ44Aj7ennOlYk",Xe=Gf(Vf,Jf),Qf=Iu({id:"main",state:()=>({information:new Du,isInited:!1}),actions:{async init(){const e=await Xe.from("areas").select("*");e.data&&(this.information.areas=e.data);const t=await Xe.from("curators").select();t.data&&(this.information.curators=t.data);const n=await Xe.from("helpers").select();n.data&&(this.information.helpers=n.data);const r=await Xe.from("tasks").select();r.data&&(this.information.tasks=r.data)},async saveHelpers(e){await Xe.from("helpers").upsert(e),await this.init()},async saveNewHelper(e){await Xe.from("helpers").upsert(e),await this.init()},async removeHelper(e){const{data:t,error:n}=await Xe.from("helpers").delete().eq("id",e);n?console.error("Error deleting helper:",n):console.log("Helper deleted successfully:",t),await this.init()},getMonthTasks(e){return this.tasks.filter(t=>t.month==e)},async saveTasks(){await Xe.from("tasks").upsert(this.information.tasks),await this.init()},newTask(e){let t=new Mu;t.id=this.getNewTaskId(),t.month=e,this.tasks.push(t)},async removeTask(e){await Xe.from("tasks").delete().eq("id",e),await this.init()},getNewHelperId(){return+this.helpers.reduce(function(e,t){return+e.id>+t.id?e:t}).id+1},getNewTaskId(){return+this.tasks.reduce(function(e,t){return+e.id>+t.id?e:t}).id+1}},getters:{areas:e=>e.information.areas,helpers:e=>e.information.helpers,curator:e=>e.information.curators,tasks:e=>e.information.tasks}}),Fa=e=>(rc("data-v-ac664e0a"),e=e(),sc(),e),Yf={id:"app"},Xf={class:"wrapper"},Zf=Fa(()=>Qt("h1",null,"Статистика",-1)),ed={key:0},td={key:1,style:{display:"flex","flex-direction":"column"}},nd=Fa(()=>Qt("h1",null," Загрузка",-1)),rd=[nd],sd=Ns({__name:"App",setup(e){const t=Qf(),{isInited:n}=Lu(t);An(""),An(!1);function r(){t.init().then(()=>n.value=!0)}function s(){r()}return Jo(s),(i,o)=>{const a=hi("router-link"),l=hi("router-view");return _n(),Fr("div",Yf,[Qt("header",null,[Qt("div",Xf,[Zf,vt(n)?(_n(),Fr("nav",ed,[ve(a,{to:"/"},{default:er(()=>[sr("Ввод данных")]),_:1}),ve(a,{to:"/admin"},{default:er(()=>[sr("Управление")]),_:1}),ve(a,{to:"/results"},{default:er(()=>[sr("Итоги")]),_:1})])):zc("",!0)])]),vt(n)?(_n(),aa(l,{key:0,class:"main"})):(_n(),Fr("div",td,rd))])}}});const id=(e,t)=>{const n=e.__vccOpts||e;for(const[r,s]of t)n[r]=s;return n},od=id(sd,[["__scopeId","data-v-ac664e0a"]]);/*!
  * vue-router v4.1.6
  * (c) 2022 Eduardo San Martin Morote
  * @license MIT
  */const Wt=typeof window<"u";function ad(e){return e.__esModule||e[Symbol.toStringTag]==="Module"}const Y=Object.assign;function Gr(e,t){const n={};for(const r in t){const s=t[r];n[r]=qe(s)?s.map(e):e(s)}return n}const Tn=()=>{},qe=Array.isArray,ld=/\/$/,cd=e=>e.replace(ld,"");function Vr(e,t,n="/"){let r,s={},i="",o="";const a=t.indexOf("#");let l=t.indexOf("?");return a<l&&a>=0&&(l=-1),l>-1&&(r=t.slice(0,l),i=t.slice(l+1,a>-1?a:t.length),s=e(i)),a>-1&&(r=r||t.slice(0,a),o=t.slice(a,t.length)),r=dd(r??t,n),{fullPath:r+(i&&"?")+i+o,path:r,query:s,hash:o}}function ud(e,t){const n=t.query?e(t.query):"";return t.path+(n&&"?")+n+(t.hash||"")}function Gi(e,t){return!t||!e.toLowerCase().startsWith(t.toLowerCase())?e:e.slice(t.length)||"/"}function hd(e,t,n){const r=t.matched.length-1,s=n.matched.length-1;return r>-1&&r===s&&en(t.matched[r],n.matched[s])&&Ba(t.params,n.params)&&e(t.query)===e(n.query)&&t.hash===n.hash}function en(e,t){return(e.aliasOf||e)===(t.aliasOf||t)}function Ba(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const n in e)if(!fd(e[n],t[n]))return!1;return!0}function fd(e,t){return qe(e)?Vi(e,t):qe(t)?Vi(t,e):e===t}function Vi(e,t){return qe(t)?e.length===t.length&&e.every((n,r)=>n===t[r]):e.length===1&&e[0]===t}function dd(e,t){if(e.startsWith("/"))return e;if(!e)return t;const n=t.split("/"),r=e.split("/");let s=n.length-1,i,o;for(i=0;i<r.length;i++)if(o=r[i],o!==".")if(o==="..")s>1&&s--;else break;return n.slice(0,s).join("/")+"/"+r.slice(i-(i===r.length?1:0)).join("/")}var Mn;(function(e){e.pop="pop",e.push="push"})(Mn||(Mn={}));var On;(function(e){e.back="back",e.forward="forward",e.unknown=""})(On||(On={}));function pd(e){if(!e)if(Wt){const t=document.querySelector("base");e=t&&t.getAttribute("href")||"/",e=e.replace(/^\w+:\/\/[^\/]+/,"")}else e="/";return e[0]!=="/"&&e[0]!=="#"&&(e="/"+e),cd(e)}const gd=/^[^#]+#/;function md(e,t){return e.replace(gd,"#")+t}function vd(e,t){const n=document.documentElement.getBoundingClientRect(),r=e.getBoundingClientRect();return{behavior:t.behavior,left:r.left-n.left-(t.left||0),top:r.top-n.top-(t.top||0)}}const Ir=()=>({left:window.pageXOffset,top:window.pageYOffset});function _d(e){let t;if("el"in e){const n=e.el,r=typeof n=="string"&&n.startsWith("#"),s=typeof n=="string"?r?document.getElementById(n.slice(1)):document.querySelector(n):n;if(!s)return;t=vd(s,e)}else t=e;"scrollBehavior"in document.documentElement.style?window.scrollTo(t):window.scrollTo(t.left!=null?t.left:window.pageXOffset,t.top!=null?t.top:window.pageYOffset)}function Ji(e,t){return(history.state?history.state.position-t:-1)+e}const _s=new Map;function yd(e,t){_s.set(e,t)}function bd(e){const t=_s.get(e);return _s.delete(e),t}let wd=()=>location.protocol+"//"+location.host;function Ha(e,t){const{pathname:n,search:r,hash:s}=t,i=e.indexOf("#");if(i>-1){let a=s.includes(e.slice(i))?e.slice(i).length:1,l=s.slice(a);return l[0]!=="/"&&(l="/"+l),Gi(l,"")}return Gi(n,e)+r+s}function kd(e,t,n,r){let s=[],i=[],o=null;const a=({state:d})=>{const g=Ha(e,location),y=n.value,k=t.value;let O=0;if(d){if(n.value=g,t.value=d,o&&o===y){o=null;return}O=k?d.position-k.position:0}else r(g);s.forEach(T=>{T(n.value,y,{delta:O,type:Mn.pop,direction:O?O>0?On.forward:On.back:On.unknown})})};function l(){o=n.value}function u(d){s.push(d);const g=()=>{const y=s.indexOf(d);y>-1&&s.splice(y,1)};return i.push(g),g}function c(){const{history:d}=window;d.state&&d.replaceState(Y({},d.state,{scroll:Ir()}),"")}function h(){for(const d of i)d();i=[],window.removeEventListener("popstate",a),window.removeEventListener("beforeunload",c)}return window.addEventListener("popstate",a),window.addEventListener("beforeunload",c),{pauseListeners:l,listen:u,destroy:h}}function Qi(e,t,n,r=!1,s=!1){return{back:e,current:t,forward:n,replaced:r,position:window.history.length,scroll:s?Ir():null}}function Ed(e){const{history:t,location:n}=window,r={value:Ha(e,n)},s={value:t.state};s.value||i(r.value,{back:null,current:r.value,forward:null,position:t.length-1,replaced:!0,scroll:null},!0);function i(l,u,c){const h=e.indexOf("#"),d=h>-1?(n.host&&document.querySelector("base")?e:e.slice(h))+l:wd()+e+l;try{t[c?"replaceState":"pushState"](u,"",d),s.value=u}catch(g){console.error(g),n[c?"replace":"assign"](d)}}function o(l,u){const c=Y({},t.state,Qi(s.value.back,l,s.value.forward,!0),u,{position:s.value.position});i(l,c,!0),r.value=l}function a(l,u){const c=Y({},s.value,t.state,{forward:l,scroll:Ir()});i(c.current,c,!0);const h=Y({},Qi(r.value,l,null),{position:c.position+1},u);i(l,h,!1),r.value=l}return{location:r,state:s,push:a,replace:o}}function Pd(e){e=pd(e);const t=Ed(e),n=kd(e,t.state,t.location,t.replace);function r(i,o=!0){o||n.pauseListeners(),history.go(i)}const s=Y({location:"",base:e,go:r,createHref:md.bind(null,e)},t,n);return Object.defineProperty(s,"location",{enumerable:!0,get:()=>t.location.value}),Object.defineProperty(s,"state",{enumerable:!0,get:()=>t.state.value}),s}function Sd(e){return e=location.host?e||location.pathname+location.search:"",e.includes("#")||(e+="#"),Pd(e)}function Td(e){return typeof e=="string"||e&&typeof e=="object"}function Wa(e){return typeof e=="string"||typeof e=="symbol"}const lt={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0},qa=Symbol("");var Yi;(function(e){e[e.aborted=4]="aborted",e[e.cancelled=8]="cancelled",e[e.duplicated=16]="duplicated"})(Yi||(Yi={}));function tn(e,t){return Y(new Error,{type:e,[qa]:!0},t)}function Ze(e,t){return e instanceof Error&&qa in e&&(t==null||!!(e.type&t))}const Xi="[^/]+?",Od={sensitive:!1,strict:!1,start:!0,end:!0},Rd=/[.+*?^${}()[\]/\\]/g;function xd(e,t){const n=Y({},Od,t),r=[];let s=n.start?"^":"";const i=[];for(const u of e){const c=u.length?[]:[90];n.strict&&!u.length&&(s+="/");for(let h=0;h<u.length;h++){const d=u[h];let g=40+(n.sensitive?.25:0);if(d.type===0)h||(s+="/"),s+=d.value.replace(Rd,"\\$&"),g+=40;else if(d.type===1){const{value:y,repeatable:k,optional:O,regexp:T}=d;i.push({name:y,repeatable:k,optional:O});const I=T||Xi;if(I!==Xi){g+=10;try{new RegExp(`(${I})`)}catch(U){throw new Error(`Invalid custom RegExp for param "${y}" (${I}): `+U.message)}}let A=k?`((?:${I})(?:/(?:${I}))*)`:`(${I})`;h||(A=O&&u.length<2?`(?:/${A})`:"/"+A),O&&(A+="?"),s+=A,g+=20,O&&(g+=-8),k&&(g+=-20),I===".*"&&(g+=-50)}c.push(g)}r.push(c)}if(n.strict&&n.end){const u=r.length-1;r[u][r[u].length-1]+=.7000000000000001}n.strict||(s+="/?"),n.end?s+="$":n.strict&&(s+="(?:/|$)");const o=new RegExp(s,n.sensitive?"":"i");function a(u){const c=u.match(o),h={};if(!c)return null;for(let d=1;d<c.length;d++){const g=c[d]||"",y=i[d-1];h[y.name]=g&&y.repeatable?g.split("/"):g}return h}function l(u){let c="",h=!1;for(const d of e){(!h||!c.endsWith("/"))&&(c+="/"),h=!1;for(const g of d)if(g.type===0)c+=g.value;else if(g.type===1){const{value:y,repeatable:k,optional:O}=g,T=y in u?u[y]:"";if(qe(T)&&!k)throw new Error(`Provided param "${y}" is an array but it is not repeatable (* or + modifiers)`);const I=qe(T)?T.join("/"):T;if(!I)if(O)d.length<2&&(c.endsWith("/")?c=c.slice(0,-1):h=!0);else throw new Error(`Missing required param "${y}"`);c+=I}}return c||"/"}return{re:o,score:r,keys:i,parse:a,stringify:l}}function Cd(e,t){let n=0;for(;n<e.length&&n<t.length;){const r=t[n]-e[n];if(r)return r;n++}return e.length<t.length?e.length===1&&e[0]===40+40?-1:1:e.length>t.length?t.length===1&&t[0]===40+40?1:-1:0}function Ad(e,t){let n=0;const r=e.score,s=t.score;for(;n<r.length&&n<s.length;){const i=Cd(r[n],s[n]);if(i)return i;n++}if(Math.abs(s.length-r.length)===1){if(Zi(r))return 1;if(Zi(s))return-1}return s.length-r.length}function Zi(e){const t=e[e.length-1];return e.length>0&&t[t.length-1]<0}const $d={type:0,value:""},jd=/[a-zA-Z0-9_]/;function Id(e){if(!e)return[[]];if(e==="/")return[[$d]];if(!e.startsWith("/"))throw new Error(`Invalid path "${e}"`);function t(g){throw new Error(`ERR (${n})/"${u}": ${g}`)}let n=0,r=n;const s=[];let i;function o(){i&&s.push(i),i=[]}let a=0,l,u="",c="";function h(){u&&(n===0?i.push({type:0,value:u}):n===1||n===2||n===3?(i.length>1&&(l==="*"||l==="+")&&t(`A repeatable param (${u}) must be alone in its segment. eg: '/:ids+.`),i.push({type:1,value:u,regexp:c,repeatable:l==="*"||l==="+",optional:l==="*"||l==="?"})):t("Invalid state to consume buffer"),u="")}function d(){u+=l}for(;a<e.length;){if(l=e[a++],l==="\\"&&n!==2){r=n,n=4;continue}switch(n){case 0:l==="/"?(u&&h(),o()):l===":"?(h(),n=1):d();break;case 4:d(),n=r;break;case 1:l==="("?n=2:jd.test(l)?d():(h(),n=0,l!=="*"&&l!=="?"&&l!=="+"&&a--);break;case 2:l===")"?c[c.length-1]=="\\"?c=c.slice(0,-1)+l:n=3:c+=l;break;case 3:h(),n=0,l!=="*"&&l!=="?"&&l!=="+"&&a--,c="";break;default:t("Unknown state");break}}return n===2&&t(`Unfinished custom RegExp for param "${u}"`),h(),o(),s}function Ld(e,t,n){const r=xd(Id(e.path),n),s=Y(r,{record:e,parent:t,children:[],alias:[]});return t&&!s.record.aliasOf==!t.record.aliasOf&&t.children.push(s),s}function Dd(e,t){const n=[],r=new Map;t=no({strict:!1,end:!0,sensitive:!1},t);function s(c){return r.get(c)}function i(c,h,d){const g=!d,y=Md(c);y.aliasOf=d&&d.record;const k=no(t,c),O=[y];if("alias"in c){const A=typeof c.alias=="string"?[c.alias]:c.alias;for(const U of A)O.push(Y({},y,{components:d?d.record.components:y.components,path:U,aliasOf:d?d.record:y}))}let T,I;for(const A of O){const{path:U}=A;if(h&&U[0]!=="/"){const H=h.record.path,ue=H[H.length-1]==="/"?"":"/";A.path=h.record.path+(U&&ue+U)}if(T=Ld(A,h,k),d?d.alias.push(T):(I=I||T,I!==T&&I.alias.push(T),g&&c.name&&!to(T)&&o(c.name)),y.children){const H=y.children;for(let ue=0;ue<H.length;ue++)i(H[ue],T,d&&d.children[ue])}d=d||T,(T.record.components&&Object.keys(T.record.components).length||T.record.name||T.record.redirect)&&l(T)}return I?()=>{o(I)}:Tn}function o(c){if(Wa(c)){const h=r.get(c);h&&(r.delete(c),n.splice(n.indexOf(h),1),h.children.forEach(o),h.alias.forEach(o))}else{const h=n.indexOf(c);h>-1&&(n.splice(h,1),c.record.name&&r.delete(c.record.name),c.children.forEach(o),c.alias.forEach(o))}}function a(){return n}function l(c){let h=0;for(;h<n.length&&Ad(c,n[h])>=0&&(c.record.path!==n[h].record.path||!za(c,n[h]));)h++;n.splice(h,0,c),c.record.name&&!to(c)&&r.set(c.record.name,c)}function u(c,h){let d,g={},y,k;if("name"in c&&c.name){if(d=r.get(c.name),!d)throw tn(1,{location:c});k=d.record.name,g=Y(eo(h.params,d.keys.filter(I=>!I.optional).map(I=>I.name)),c.params&&eo(c.params,d.keys.map(I=>I.name))),y=d.stringify(g)}else if("path"in c)y=c.path,d=n.find(I=>I.re.test(y)),d&&(g=d.parse(y),k=d.record.name);else{if(d=h.name?r.get(h.name):n.find(I=>I.re.test(h.path)),!d)throw tn(1,{location:c,currentLocation:h});k=d.record.name,g=Y({},h.params,c.params),y=d.stringify(g)}const O=[];let T=d;for(;T;)O.unshift(T.record),T=T.parent;return{name:k,path:y,params:g,matched:O,meta:Ud(O)}}return e.forEach(c=>i(c)),{addRoute:i,resolve:u,removeRoute:o,getRoutes:a,getRecordMatcher:s}}function eo(e,t){const n={};for(const r of t)r in e&&(n[r]=e[r]);return n}function Md(e){return{path:e.path,redirect:e.redirect,name:e.name,meta:e.meta||{},aliasOf:void 0,beforeEnter:e.beforeEnter,props:Nd(e),children:e.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in e?e.components||null:e.component&&{default:e.component}}}function Nd(e){const t={},n=e.props||!1;if("component"in e)t.default=n;else for(const r in e.components)t[r]=typeof n=="boolean"?n:n[r];return t}function to(e){for(;e;){if(e.record.aliasOf)return!0;e=e.parent}return!1}function Ud(e){return e.reduce((t,n)=>Y(t,n.meta),{})}function no(e,t){const n={};for(const r in e)n[r]=r in t?t[r]:e[r];return n}function za(e,t){return t.children.some(n=>n===e||za(e,n))}const Ka=/#/g,Fd=/&/g,Bd=/\//g,Hd=/=/g,Wd=/\?/g,Ga=/\+/g,qd=/%5B/g,zd=/%5D/g,Va=/%5E/g,Kd=/%60/g,Ja=/%7B/g,Gd=/%7C/g,Qa=/%7D/g,Vd=/%20/g;function Gs(e){return encodeURI(""+e).replace(Gd,"|").replace(qd,"[").replace(zd,"]")}function Jd(e){return Gs(e).replace(Ja,"{").replace(Qa,"}").replace(Va,"^")}function ys(e){return Gs(e).replace(Ga,"%2B").replace(Vd,"+").replace(Ka,"%23").replace(Fd,"%26").replace(Kd,"`").replace(Ja,"{").replace(Qa,"}").replace(Va,"^")}function Qd(e){return ys(e).replace(Hd,"%3D")}function Yd(e){return Gs(e).replace(Ka,"%23").replace(Wd,"%3F")}function Xd(e){return e==null?"":Yd(e).replace(Bd,"%2F")}function fr(e){try{return decodeURIComponent(""+e)}catch{}return""+e}function Zd(e){const t={};if(e===""||e==="?")return t;const r=(e[0]==="?"?e.slice(1):e).split("&");for(let s=0;s<r.length;++s){const i=r[s].replace(Ga," "),o=i.indexOf("="),a=fr(o<0?i:i.slice(0,o)),l=o<0?null:fr(i.slice(o+1));if(a in t){let u=t[a];qe(u)||(u=t[a]=[u]),u.push(l)}else t[a]=l}return t}function ro(e){let t="";for(let n in e){const r=e[n];if(n=Qd(n),r==null){r!==void 0&&(t+=(t.length?"&":"")+n);continue}(qe(r)?r.map(i=>i&&ys(i)):[r&&ys(r)]).forEach(i=>{i!==void 0&&(t+=(t.length?"&":"")+n,i!=null&&(t+="="+i))})}return t}function ep(e){const t={};for(const n in e){const r=e[n];r!==void 0&&(t[n]=qe(r)?r.map(s=>s==null?null:""+s):r==null?r:""+r)}return t}const tp=Symbol(""),so=Symbol(""),Vs=Symbol(""),Ya=Symbol(""),bs=Symbol("");function dn(){let e=[];function t(r){return e.push(r),()=>{const s=e.indexOf(r);s>-1&&e.splice(s,1)}}function n(){e=[]}return{add:t,list:()=>e,reset:n}}function pt(e,t,n,r,s){const i=r&&(r.enterCallbacks[s]=r.enterCallbacks[s]||[]);return()=>new Promise((o,a)=>{const l=h=>{h===!1?a(tn(4,{from:n,to:t})):h instanceof Error?a(h):Td(h)?a(tn(2,{from:t,to:h})):(i&&r.enterCallbacks[s]===i&&typeof h=="function"&&i.push(h),o())},u=e.call(r&&r.instances[s],t,n,l);let c=Promise.resolve(u);e.length<3&&(c=c.then(l)),c.catch(h=>a(h))})}function Jr(e,t,n,r){const s=[];for(const i of e)for(const o in i.components){let a=i.components[o];if(!(t!=="beforeRouteEnter"&&!i.instances[o]))if(np(a)){const u=(a.__vccOpts||a)[t];u&&s.push(pt(u,n,r,i,o))}else{let l=a();s.push(()=>l.then(u=>{if(!u)return Promise.reject(new Error(`Couldn't resolve component "${o}" at "${i.path}"`));const c=ad(u)?u.default:u;i.components[o]=c;const d=(c.__vccOpts||c)[t];return d&&pt(d,n,r,i,o)()}))}}return s}function np(e){return typeof e=="object"||"displayName"in e||"props"in e||"__vccOpts"in e}function io(e){const t=Qe(Vs),n=Qe(Ya),r=$e(()=>t.resolve(vt(e.to))),s=$e(()=>{const{matched:l}=r.value,{length:u}=l,c=l[u-1],h=n.matched;if(!c||!h.length)return-1;const d=h.findIndex(en.bind(null,c));if(d>-1)return d;const g=oo(l[u-2]);return u>1&&oo(c)===g&&h[h.length-1].path!==g?h.findIndex(en.bind(null,l[u-2])):d}),i=$e(()=>s.value>-1&&op(n.params,r.value.params)),o=$e(()=>s.value>-1&&s.value===n.matched.length-1&&Ba(n.params,r.value.params));function a(l={}){return ip(l)?t[vt(e.replace)?"replace":"push"](vt(e.to)).catch(Tn):Promise.resolve()}return{route:r,href:$e(()=>r.value.href),isActive:i,isExactActive:o,navigate:a}}const rp=Ns({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"}},useLink:io,setup(e,{slots:t}){const n=on(io(e)),{options:r}=Qe(Vs),s=$e(()=>({[ao(e.activeClass,r.linkActiveClass,"router-link-active")]:n.isActive,[ao(e.exactActiveClass,r.linkExactActiveClass,"router-link-exact-active")]:n.isExactActive}));return()=>{const i=t.default&&t.default(n);return e.custom?i:ha("a",{"aria-current":n.isExactActive?e.ariaCurrentValue:null,href:n.href,onClick:n.navigate,class:s.value},i)}}}),sp=rp;function ip(e){if(!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)&&!e.defaultPrevented&&!(e.button!==void 0&&e.button!==0)){if(e.currentTarget&&e.currentTarget.getAttribute){const t=e.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(t))return}return e.preventDefault&&e.preventDefault(),!0}}function op(e,t){for(const n in t){const r=t[n],s=e[n];if(typeof r=="string"){if(r!==s)return!1}else if(!qe(s)||s.length!==r.length||r.some((i,o)=>i!==s[o]))return!1}return!0}function oo(e){return e?e.aliasOf?e.aliasOf.path:e.path:""}const ao=(e,t,n)=>e??t??n,ap=Ns({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(e,{attrs:t,slots:n}){const r=Qe(bs),s=$e(()=>e.route||r.value),i=Qe(so,0),o=$e(()=>{let u=vt(i);const{matched:c}=s.value;let h;for(;(h=c[u])&&!h.components;)u++;return u}),a=$e(()=>s.value.matched[o.value]);tr(so,$e(()=>o.value+1)),tr(tp,a),tr(bs,s);const l=An();return bn(()=>[l.value,a.value,e.name],([u,c,h],[d,g,y])=>{c&&(c.instances[h]=u,g&&g!==c&&u&&u===d&&(c.leaveGuards.size||(c.leaveGuards=g.leaveGuards),c.updateGuards.size||(c.updateGuards=g.updateGuards))),u&&c&&(!g||!en(c,g)||!d)&&(c.enterCallbacks[h]||[]).forEach(k=>k(u))},{flush:"post"}),()=>{const u=s.value,c=e.name,h=a.value,d=h&&h.components[c];if(!d)return lo(n.default,{Component:d,route:u});const g=h.props[c],y=g?g===!0?u.params:typeof g=="function"?g(u):g:null,O=ha(d,Y({},y,t,{onVnodeUnmounted:T=>{T.component.isUnmounted&&(h.instances[c]=null)},ref:l}));return lo(n.default,{Component:O,route:u})||O}}});function lo(e,t){if(!e)return null;const n=e(t);return n.length===1?n[0]:n}const lp=ap;function cp(e){const t=Dd(e.routes,e),n=e.parseQuery||Zd,r=e.stringifyQuery||ro,s=e.history,i=dn(),o=dn(),a=dn(),l=ql(lt);let u=lt;Wt&&e.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const c=Gr.bind(null,_=>""+_),h=Gr.bind(null,Xd),d=Gr.bind(null,fr);function g(_,C){let R,j;return Wa(_)?(R=t.getRecordMatcher(_),j=C):j=_,t.addRoute(j,R)}function y(_){const C=t.getRecordMatcher(_);C&&t.removeRoute(C)}function k(){return t.getRoutes().map(_=>_.record)}function O(_){return!!t.getRecordMatcher(_)}function T(_,C){if(C=Y({},C||l.value),typeof _=="string"){const f=Vr(n,_,C.path),p=t.resolve({path:f.path},C),m=s.createHref(f.fullPath);return Y(f,p,{params:d(p.params),hash:fr(f.hash),redirectedFrom:void 0,href:m})}let R;if("path"in _)R=Y({},_,{path:Vr(n,_.path,C.path).path});else{const f=Y({},_.params);for(const p in f)f[p]==null&&delete f[p];R=Y({},_,{params:h(_.params)}),C.params=h(C.params)}const j=t.resolve(R,C),J=_.hash||"";j.params=c(d(j.params));const ie=ud(r,Y({},_,{hash:Jd(J),path:j.path})),W=s.createHref(ie);return Y({fullPath:ie,hash:J,query:r===ro?ep(_.query):_.query||{}},j,{redirectedFrom:void 0,href:W})}function I(_){return typeof _=="string"?Vr(n,_,l.value.path):Y({},_)}function A(_,C){if(u!==_)return tn(8,{from:C,to:_})}function U(_){return V(_)}function H(_){return U(Y(I(_),{replace:!0}))}function ue(_){const C=_.matched[_.matched.length-1];if(C&&C.redirect){const{redirect:R}=C;let j=typeof R=="function"?R(_):R;return typeof j=="string"&&(j=j.includes("?")||j.includes("#")?j=I(j):{path:j},j.params={}),Y({query:_.query,hash:_.hash,params:"path"in j?{}:_.params},j)}}function V(_,C){const R=u=T(_),j=l.value,J=_.state,ie=_.force,W=_.replace===!0,f=ue(R);if(f)return V(Y(I(f),{state:typeof f=="object"?Y({},J,f.state):J,force:ie,replace:W}),C||R);const p=R;p.redirectedFrom=C;let m;return!ie&&hd(r,j,R)&&(m=tn(16,{to:p,from:j}),bt(j,j,!0,!1)),(m?Promise.resolve(m):ge(p,j)).catch(v=>Ze(v)?Ze(v,2)?v:De(v):ee(v,p,j)).then(v=>{if(v){if(Ze(v,2))return V(Y({replace:W},I(v.to),{state:typeof v.to=="object"?Y({},J,v.to.state):J,force:ie}),C||p)}else v=we(p,j,!0,W,J);return fe(p,j,v),v})}function q(_,C){const R=A(_,C);return R?Promise.reject(R):Promise.resolve()}function ge(_,C){let R;const[j,J,ie]=up(_,C);R=Jr(j.reverse(),"beforeRouteLeave",_,C);for(const f of j)f.leaveGuards.forEach(p=>{R.push(pt(p,_,C))});const W=q.bind(null,_,C);return R.push(W),Ht(R).then(()=>{R=[];for(const f of i.list())R.push(pt(f,_,C));return R.push(W),Ht(R)}).then(()=>{R=Jr(J,"beforeRouteUpdate",_,C);for(const f of J)f.updateGuards.forEach(p=>{R.push(pt(p,_,C))});return R.push(W),Ht(R)}).then(()=>{R=[];for(const f of _.matched)if(f.beforeEnter&&!C.matched.includes(f))if(qe(f.beforeEnter))for(const p of f.beforeEnter)R.push(pt(p,_,C));else R.push(pt(f.beforeEnter,_,C));return R.push(W),Ht(R)}).then(()=>(_.matched.forEach(f=>f.enterCallbacks={}),R=Jr(ie,"beforeRouteEnter",_,C),R.push(W),Ht(R))).then(()=>{R=[];for(const f of o.list())R.push(pt(f,_,C));return R.push(W),Ht(R)}).catch(f=>Ze(f,8)?f:Promise.reject(f))}function fe(_,C,R){for(const j of a.list())j(_,C,R)}function we(_,C,R,j,J){const ie=A(_,C);if(ie)return ie;const W=C===lt,f=Wt?history.state:{};R&&(j||W?s.replace(_.fullPath,Y({scroll:W&&f&&f.scroll},J)):s.push(_.fullPath,J)),l.value=_,bt(_,C,R,W),De()}let Ie;function ot(){Ie||(Ie=s.listen((_,C,R)=>{if(!Bn.listening)return;const j=T(_),J=ue(j);if(J){V(Y(J,{replace:!0}),j).catch(Tn);return}u=j;const ie=l.value;Wt&&yd(Ji(ie.fullPath,R.delta),Ir()),ge(j,ie).catch(W=>Ze(W,12)?W:Ze(W,2)?(V(W.to,j).then(f=>{Ze(f,20)&&!R.delta&&R.type===Mn.pop&&s.go(-1,!1)}).catch(Tn),Promise.reject()):(R.delta&&s.go(-R.delta,!1),ee(W,j,ie))).then(W=>{W=W||we(j,ie,!1),W&&(R.delta&&!Ze(W,8)?s.go(-R.delta,!1):R.type===Mn.pop&&Ze(W,20)&&s.go(-1,!1)),fe(j,ie,W)}).catch(Tn)}))}let Re=dn(),de=dn(),le;function ee(_,C,R){De(_);const j=de.list();return j.length?j.forEach(J=>J(_,C,R)):console.error(_),Promise.reject(_)}function X(){return le&&l.value!==lt?Promise.resolve():new Promise((_,C)=>{Re.add([_,C])})}function De(_){return le||(le=!_,ot(),Re.list().forEach(([C,R])=>_?R(_):C()),Re.reset()),_}function bt(_,C,R,j){const{scrollBehavior:J}=e;if(!Wt||!J)return Promise.resolve();const ie=!R&&bd(Ji(_.fullPath,0))||(j||!R)&&history.state&&history.state.scroll||null;return Ds().then(()=>J(_,C,ie)).then(W=>W&&_d(W)).catch(W=>ee(W,_,C))}const Me=_=>s.go(_);let ke;const Dt=new Set,Bn={currentRoute:l,listening:!0,addRoute:g,removeRoute:y,hasRoute:O,getRoutes:k,resolve:T,options:e,push:U,replace:H,go:Me,back:()=>Me(-1),forward:()=>Me(1),beforeEach:i.add,beforeResolve:o.add,afterEach:a.add,onError:de.add,isReady:X,install(_){const C=this;_.component("RouterLink",sp),_.component("RouterView",lp),_.config.globalProperties.$router=C,Object.defineProperty(_.config.globalProperties,"$route",{enumerable:!0,get:()=>vt(l)}),Wt&&!ke&&l.value===lt&&(ke=!0,U(s.location).catch(J=>{}));const R={};for(const J in lt)R[J]=$e(()=>l.value[J]);_.provide(Vs,C),_.provide(Ya,on(R)),_.provide(bs,l);const j=_.unmount;Dt.add(_),_.unmount=function(){Dt.delete(_),Dt.size<1&&(u=lt,Ie&&Ie(),Ie=null,l.value=lt,ke=!1,le=!1),j()}}};return Bn}function Ht(e){return e.reduce((t,n)=>t.then(()=>n()),Promise.resolve())}function up(e,t){const n=[],r=[],s=[],i=Math.max(t.matched.length,e.matched.length);for(let o=0;o<i;o++){const a=t.matched[o];a&&(e.matched.find(u=>en(u,a))?r.push(a):n.push(a));const l=e.matched[o];l&&(t.matched.find(u=>en(u,l))||s.push(l))}return[n,r,s]}const hp=cp({history:Sd("/anabo-publish/"),routes:[{path:"/",name:"home",component:()=>Se(()=>import("./HomeView-073a5422.js"),["assets/HomeView-073a5422.js","assets/AreaItem.vue_vue_type_style_index_0_lang-cbc28a1f.js","assets/AreaItem-94fe7447.css","assets/index-e5c8bbfe.js"])},{path:"/area/:id/:month",name:"area",component:()=>Se(()=>import("./AreaView-f360739c.js"),["assets/AreaView-f360739c.js","assets/index-e5c8bbfe.js","assets/AreaView-ccea7687.css"]),props:!0},{path:"/monthStats/:month",name:"monthStats",component:()=>Se(()=>import("./MonthView-c9b24bd7.js"),["assets/MonthView-c9b24bd7.js","assets/MonthView.vue_vue_type_script_setup_true_lang-ab03850a.js","assets/AreaCard.vue_vue_type_script_setup_true_lang-cb72ff50.js","assets/index-e5c8bbfe.js"]),props:!0},{path:"/admin",name:"admin",component:()=>Se(()=>import("./AdminView-9e7d0d86.js"),["assets/AdminView-9e7d0d86.js","assets/AdminView-83a0aafa.css"])},{path:"/editTasks",name:"editTasks",component:()=>Se(()=>import("./EditTasks-2eaa639b.js"),["assets/EditTasks-2eaa639b.js","assets/index-e5c8bbfe.js"])},{path:"/addHelper",name:"addHelper",component:()=>Se(()=>import("./AddHelper-4f1068b4.js"),["assets/AddHelper-4f1068b4.js","assets/AreaItem.vue_vue_type_style_index_0_lang-cbc28a1f.js","assets/AreaItem-94fe7447.css"])},{path:"/editHelpers",name:"editHelpers",component:()=>Se(()=>import("./EditHelpers-efbef44e.js"),["assets/EditHelpers-efbef44e.js","assets/AreaCard.vue_vue_type_script_setup_true_lang-cb72ff50.js"])},{path:"/results",name:"results",component:()=>Se(()=>import("./ResultsView-aca3c98e.js"),["assets/ResultsView-aca3c98e.js","assets/MonthView.vue_vue_type_script_setup_true_lang-ab03850a.js","assets/AreaCard.vue_vue_type_script_setup_true_lang-cb72ff50.js","assets/index-e5c8bbfe.js"])}]});function ws(e){return ws=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ws(e)}function fp(e){if(e===null||e===!0||e===!1)return NaN;var t=Number(e);return isNaN(t)?t:t<0?Math.ceil(t):Math.floor(t)}function Lr(e,t){if(t.length<e)throw new TypeError(e+" argument"+(e>1?"s":"")+" required, but only "+t.length+" present")}function dp(e){Lr(1,arguments);var t=Object.prototype.toString.call(e);return e instanceof Date||ws(e)==="object"&&t==="[object Date]"?new Date(e.getTime()):typeof e=="number"||t==="[object Number]"?new Date(e):((typeof e=="string"||t==="[object String]")&&typeof console<"u"&&(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#string-arguments"),console.warn(new Error().stack)),new Date(NaN))}var Xa={};function Za(){return Xa}function pp(e){Xa=e}function co(e,t){var n,r,s,i,o,a,l,u;Lr(1,arguments);var c=Za(),h=fp((n=(r=(s=(i=t?.weekStartsOn)!==null&&i!==void 0?i:t==null||(o=t.locale)===null||o===void 0||(a=o.options)===null||a===void 0?void 0:a.weekStartsOn)!==null&&s!==void 0?s:c.weekStartsOn)!==null&&r!==void 0?r:(l=c.locale)===null||l===void 0||(u=l.options)===null||u===void 0?void 0:u.weekStartsOn)!==null&&n!==void 0?n:0);if(!(h>=0&&h<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var d=dp(e),g=d.getUTCDay(),y=(g<h?7:0)+g-h;return d.setUTCDate(d.getUTCDate()-y),d.setUTCHours(0,0,0,0),d}function Qr(e){return function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=t.width?String(t.width):e.defaultWidth,r=e.formats[n]||e.formats[e.defaultWidth];return r}}function pn(e){return function(t,n){var r=n!=null&&n.context?String(n.context):"standalone",s;if(r==="formatting"&&e.formattingValues){var i=e.defaultFormattingWidth||e.defaultWidth,o=n!=null&&n.width?String(n.width):i;s=e.formattingValues[o]||e.formattingValues[i]}else{var a=e.defaultWidth,l=n!=null&&n.width?String(n.width):e.defaultWidth;s=e.values[l]||e.values[a]}var u=e.argumentCallback?e.argumentCallback(t):t;return s[u]}}function gn(e){return function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=n.width,s=r&&e.matchPatterns[r]||e.matchPatterns[e.defaultMatchWidth],i=t.match(s);if(!i)return null;var o=i[0],a=r&&e.parsePatterns[r]||e.parsePatterns[e.defaultParseWidth],l=Array.isArray(a)?mp(a,function(h){return h.test(o)}):gp(a,function(h){return h.test(o)}),u;u=e.valueCallback?e.valueCallback(l):l,u=n.valueCallback?n.valueCallback(u):u;var c=t.slice(o.length);return{value:u,rest:c}}}function gp(e,t){for(var n in e)if(e.hasOwnProperty(n)&&t(e[n]))return n}function mp(e,t){for(var n=0;n<e.length;n++)if(t(e[n]))return n}function vp(e){return function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=t.match(e.matchPattern);if(!r)return null;var s=r[0],i=t.match(e.parsePattern);if(!i)return null;var o=e.valueCallback?e.valueCallback(i[0]):i[0];o=n.valueCallback?n.valueCallback(o):o;var a=t.slice(s.length);return{value:o,rest:a}}}function _p(e){Lr(1,arguments);var t={},n=Za();for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r]);for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&(e[s]===void 0?delete t[s]:t[s]=e[s]);pp(t)}function uo(e,t,n){Lr(2,arguments);var r=co(e,n),s=co(t,n);return r.getTime()===s.getTime()}function mn(e,t){if(e.one!==void 0&&t===1)return e.one;var n=t%10,r=t%100;return n===1&&r!==11?e.singularNominative.replace("{{count}}",String(t)):n>=2&&n<=4&&(r<10||r>20)?e.singularGenitive.replace("{{count}}",String(t)):e.pluralGenitive.replace("{{count}}",String(t))}function _e(e){return function(t,n){return n!=null&&n.addSuffix?n.comparison&&n.comparison>0?e.future?mn(e.future,t):"через "+mn(e.regular,t):e.past?mn(e.past,t):mn(e.regular,t)+" назад":mn(e.regular,t)}}var yp={lessThanXSeconds:_e({regular:{one:"меньше секунды",singularNominative:"меньше {{count}} секунды",singularGenitive:"меньше {{count}} секунд",pluralGenitive:"меньше {{count}} секунд"},future:{one:"меньше, чем через секунду",singularNominative:"меньше, чем через {{count}} секунду",singularGenitive:"меньше, чем через {{count}} секунды",pluralGenitive:"меньше, чем через {{count}} секунд"}}),xSeconds:_e({regular:{singularNominative:"{{count}} секунда",singularGenitive:"{{count}} секунды",pluralGenitive:"{{count}} секунд"},past:{singularNominative:"{{count}} секунду назад",singularGenitive:"{{count}} секунды назад",pluralGenitive:"{{count}} секунд назад"},future:{singularNominative:"через {{count}} секунду",singularGenitive:"через {{count}} секунды",pluralGenitive:"через {{count}} секунд"}}),halfAMinute:function(t,n){return n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"через полминуты":"полминуты назад":"полминуты"},lessThanXMinutes:_e({regular:{one:"меньше минуты",singularNominative:"меньше {{count}} минуты",singularGenitive:"меньше {{count}} минут",pluralGenitive:"меньше {{count}} минут"},future:{one:"меньше, чем через минуту",singularNominative:"меньше, чем через {{count}} минуту",singularGenitive:"меньше, чем через {{count}} минуты",pluralGenitive:"меньше, чем через {{count}} минут"}}),xMinutes:_e({regular:{singularNominative:"{{count}} минута",singularGenitive:"{{count}} минуты",pluralGenitive:"{{count}} минут"},past:{singularNominative:"{{count}} минуту назад",singularGenitive:"{{count}} минуты назад",pluralGenitive:"{{count}} минут назад"},future:{singularNominative:"через {{count}} минуту",singularGenitive:"через {{count}} минуты",pluralGenitive:"через {{count}} минут"}}),aboutXHours:_e({regular:{singularNominative:"около {{count}} часа",singularGenitive:"около {{count}} часов",pluralGenitive:"около {{count}} часов"},future:{singularNominative:"приблизительно через {{count}} час",singularGenitive:"приблизительно через {{count}} часа",pluralGenitive:"приблизительно через {{count}} часов"}}),xHours:_e({regular:{singularNominative:"{{count}} час",singularGenitive:"{{count}} часа",pluralGenitive:"{{count}} часов"}}),xDays:_e({regular:{singularNominative:"{{count}} день",singularGenitive:"{{count}} дня",pluralGenitive:"{{count}} дней"}}),aboutXWeeks:_e({regular:{singularNominative:"около {{count}} недели",singularGenitive:"около {{count}} недель",pluralGenitive:"около {{count}} недель"},future:{singularNominative:"приблизительно через {{count}} неделю",singularGenitive:"приблизительно через {{count}} недели",pluralGenitive:"приблизительно через {{count}} недель"}}),xWeeks:_e({regular:{singularNominative:"{{count}} неделя",singularGenitive:"{{count}} недели",pluralGenitive:"{{count}} недель"}}),aboutXMonths:_e({regular:{singularNominative:"около {{count}} месяца",singularGenitive:"около {{count}} месяцев",pluralGenitive:"около {{count}} месяцев"},future:{singularNominative:"приблизительно через {{count}} месяц",singularGenitive:"приблизительно через {{count}} месяца",pluralGenitive:"приблизительно через {{count}} месяцев"}}),xMonths:_e({regular:{singularNominative:"{{count}} месяц",singularGenitive:"{{count}} месяца",pluralGenitive:"{{count}} месяцев"}}),aboutXYears:_e({regular:{singularNominative:"около {{count}} года",singularGenitive:"около {{count}} лет",pluralGenitive:"около {{count}} лет"},future:{singularNominative:"приблизительно через {{count}} год",singularGenitive:"приблизительно через {{count}} года",pluralGenitive:"приблизительно через {{count}} лет"}}),xYears:_e({regular:{singularNominative:"{{count}} год",singularGenitive:"{{count}} года",pluralGenitive:"{{count}} лет"}}),overXYears:_e({regular:{singularNominative:"больше {{count}} года",singularGenitive:"больше {{count}} лет",pluralGenitive:"больше {{count}} лет"},future:{singularNominative:"больше, чем через {{count}} год",singularGenitive:"больше, чем через {{count}} года",pluralGenitive:"больше, чем через {{count}} лет"}}),almostXYears:_e({regular:{singularNominative:"почти {{count}} год",singularGenitive:"почти {{count}} года",pluralGenitive:"почти {{count}} лет"},future:{singularNominative:"почти через {{count}} год",singularGenitive:"почти через {{count}} года",pluralGenitive:"почти через {{count}} лет"}})},bp=function(t,n,r){return yp[t](n,r)};const wp=bp;var kp={full:"EEEE, d MMMM y 'г.'",long:"d MMMM y 'г.'",medium:"d MMM y 'г.'",short:"dd.MM.y"},Ep={full:"H:mm:ss zzzz",long:"H:mm:ss z",medium:"H:mm:ss",short:"H:mm"},Pp={any:"{{date}}, {{time}}"},Sp={date:Qr({formats:kp,defaultWidth:"full"}),time:Qr({formats:Ep,defaultWidth:"full"}),dateTime:Qr({formats:Pp,defaultWidth:"any"})};const Tp=Sp;var Js=["воскресенье","понедельник","вторник","среду","четверг","пятницу","субботу"];function Op(e){var t=Js[e];switch(e){case 0:return"'в прошлое "+t+" в' p";case 1:case 2:case 4:return"'в прошлый "+t+" в' p";case 3:case 5:case 6:return"'в прошлую "+t+" в' p"}}function ho(e){var t=Js[e];return e===2?"'во "+t+" в' p":"'в "+t+" в' p"}function Rp(e){var t=Js[e];switch(e){case 0:return"'в следующее "+t+" в' p";case 1:case 2:case 4:return"'в следующий "+t+" в' p";case 3:case 5:case 6:return"'в следующую "+t+" в' p"}}var xp={lastWeek:function(t,n,r){var s=t.getUTCDay();return uo(t,n,r)?ho(s):Op(s)},yesterday:"'вчера в' p",today:"'сегодня в' p",tomorrow:"'завтра в' p",nextWeek:function(t,n,r){var s=t.getUTCDay();return uo(t,n,r)?ho(s):Rp(s)},other:"P"},Cp=function(t,n,r,s){var i=xp[t];return typeof i=="function"?i(n,r,s):i};const Ap=Cp;var $p={narrow:["до н.э.","н.э."],abbreviated:["до н. э.","н. э."],wide:["до нашей эры","нашей эры"]},jp={narrow:["1","2","3","4"],abbreviated:["1-й кв.","2-й кв.","3-й кв.","4-й кв."],wide:["1-й квартал","2-й квартал","3-й квартал","4-й квартал"]},Ip={narrow:["Я","Ф","М","А","М","И","И","А","С","О","Н","Д"],abbreviated:["янв.","фев.","март","апр.","май","июнь","июль","авг.","сент.","окт.","нояб.","дек."],wide:["январь","февраль","март","апрель","май","июнь","июль","август","сентябрь","октябрь","ноябрь","декабрь"]},Lp={narrow:["Я","Ф","М","А","М","И","И","А","С","О","Н","Д"],abbreviated:["янв.","фев.","мар.","апр.","мая","июн.","июл.","авг.","сент.","окт.","нояб.","дек."],wide:["января","февраля","марта","апреля","мая","июня","июля","августа","сентября","октября","ноября","декабря"]},Dp={narrow:["В","П","В","С","Ч","П","С"],short:["вс","пн","вт","ср","чт","пт","сб"],abbreviated:["вск","пнд","втр","срд","чтв","птн","суб"],wide:["воскресенье","понедельник","вторник","среда","четверг","пятница","суббота"]},Mp={narrow:{am:"ДП",pm:"ПП",midnight:"полн.",noon:"полд.",morning:"утро",afternoon:"день",evening:"веч.",night:"ночь"},abbreviated:{am:"ДП",pm:"ПП",midnight:"полн.",noon:"полд.",morning:"утро",afternoon:"день",evening:"веч.",night:"ночь"},wide:{am:"ДП",pm:"ПП",midnight:"полночь",noon:"полдень",morning:"утро",afternoon:"день",evening:"вечер",night:"ночь"}},Np={narrow:{am:"ДП",pm:"ПП",midnight:"полн.",noon:"полд.",morning:"утра",afternoon:"дня",evening:"веч.",night:"ночи"},abbreviated:{am:"ДП",pm:"ПП",midnight:"полн.",noon:"полд.",morning:"утра",afternoon:"дня",evening:"веч.",night:"ночи"},wide:{am:"ДП",pm:"ПП",midnight:"полночь",noon:"полдень",morning:"утра",afternoon:"дня",evening:"вечера",night:"ночи"}},Up=function(t,n){var r=Number(t),s=n?.unit,i;return s==="date"?i="-е":s==="week"||s==="minute"||s==="second"?i="-я":i="-й",r+i},Fp={ordinalNumber:Up,era:pn({values:$p,defaultWidth:"wide"}),quarter:pn({values:jp,defaultWidth:"wide",argumentCallback:function(t){return t-1}}),month:pn({values:Ip,defaultWidth:"wide",formattingValues:Lp,defaultFormattingWidth:"wide"}),day:pn({values:Dp,defaultWidth:"wide"}),dayPeriod:pn({values:Mp,defaultWidth:"any",formattingValues:Np,defaultFormattingWidth:"wide"})};const Bp=Fp;var Hp=/^(\d+)(-?(е|я|й|ое|ье|ая|ья|ый|ой|ий|ый))?/i,Wp=/\d+/i,qp={narrow:/^((до )?н\.?\s?э\.?)/i,abbreviated:/^((до )?н\.?\s?э\.?)/i,wide:/^(до нашей эры|нашей эры|наша эра)/i},zp={any:[/^д/i,/^н/i]},Kp={narrow:/^[1234]/i,abbreviated:/^[1234](-?[ыои]?й?)? кв.?/i,wide:/^[1234](-?[ыои]?й?)? квартал/i},Gp={any:[/1/i,/2/i,/3/i,/4/i]},Vp={narrow:/^[яфмаисонд]/i,abbreviated:/^(янв|фев|март?|апр|ма[йя]|июн[ья]?|июл[ья]?|авг|сент?|окт|нояб?|дек)\.?/i,wide:/^(январ[ья]|феврал[ья]|марта?|апрел[ья]|ма[йя]|июн[ья]|июл[ья]|августа?|сентябр[ья]|октябр[ья]|октябр[ья]|ноябр[ья]|декабр[ья])/i},Jp={narrow:[/^я/i,/^ф/i,/^м/i,/^а/i,/^м/i,/^и/i,/^и/i,/^а/i,/^с/i,/^о/i,/^н/i,/^я/i],any:[/^я/i,/^ф/i,/^мар/i,/^ап/i,/^ма[йя]/i,/^июн/i,/^июл/i,/^ав/i,/^с/i,/^о/i,/^н/i,/^д/i]},Qp={narrow:/^[впсч]/i,short:/^(вс|во|пн|по|вт|ср|чт|че|пт|пя|сб|су)\.?/i,abbreviated:/^(вск|вос|пнд|пон|втр|вто|срд|сре|чтв|чет|птн|пят|суб).?/i,wide:/^(воскресень[ея]|понедельника?|вторника?|сред[аы]|четверга?|пятниц[аы]|суббот[аы])/i},Yp={narrow:[/^в/i,/^п/i,/^в/i,/^с/i,/^ч/i,/^п/i,/^с/i],any:[/^в[ос]/i,/^п[он]/i,/^в/i,/^ср/i,/^ч/i,/^п[ят]/i,/^с[уб]/i]},Xp={narrow:/^([дп]п|полн\.?|полд\.?|утр[оа]|день|дня|веч\.?|ноч[ьи])/i,abbreviated:/^([дп]п|полн\.?|полд\.?|утр[оа]|день|дня|веч\.?|ноч[ьи])/i,wide:/^([дп]п|полночь|полдень|утр[оа]|день|дня|вечера?|ноч[ьи])/i},Zp={any:{am:/^дп/i,pm:/^пп/i,midnight:/^полн/i,noon:/^полд/i,morning:/^у/i,afternoon:/^д[ен]/i,evening:/^в/i,night:/^н/i}},eg={ordinalNumber:vp({matchPattern:Hp,parsePattern:Wp,valueCallback:function(t){return parseInt(t,10)}}),era:gn({matchPatterns:qp,defaultMatchWidth:"wide",parsePatterns:zp,defaultParseWidth:"any"}),quarter:gn({matchPatterns:Kp,defaultMatchWidth:"wide",parsePatterns:Gp,defaultParseWidth:"any",valueCallback:function(t){return t+1}}),month:gn({matchPatterns:Vp,defaultMatchWidth:"wide",parsePatterns:Jp,defaultParseWidth:"any"}),day:gn({matchPatterns:Qp,defaultMatchWidth:"wide",parsePatterns:Yp,defaultParseWidth:"any"}),dayPeriod:gn({matchPatterns:Xp,defaultMatchWidth:"wide",parsePatterns:Zp,defaultParseWidth:"any"})};const tg=eg;var ng={code:"ru",formatDistance:wp,formatLong:Tp,formatRelative:Ap,localize:Bp,match:tg,options:{weekStartsOn:1,firstWeekContainsDate:1}};const rg=ng;_p({locale:rg});const Qs=Tu(od);Qs.use(xu());Qs.use(hp);Qs.mount("#app");export{ws as A,co as B,Za as C,Qr as D,pn as E,nt as F,vp as G,cg as H,gn as I,ug as J,id as _,Fr as a,Qt as b,$e as c,Ns as d,vt as e,og as f,aa as g,lg as h,oe as i,Jo as j,zc as k,hi as l,ve as m,on as n,_n as o,Ps as p,Es as q,An as r,Lu as s,sg as t,Qf as u,ag as v,ig as w,Lr as x,dp as y,fp as z};
