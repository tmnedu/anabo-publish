import{d as C,u as b,s as w,r as B,o as n,a as o,b as t,g as i,F as y,t as x,h as r,w as g,n as p,i as T,B as $,c as H,e as M,j as N}from"./index-09f4c865.js";const L=["textContent"],S=["textContent"],j=t("label",{style:{"margin-right":"4px"},for:"fio",textContent:"ФИО:"},null,-1),A=t("label",{style:{"margin-right":"4px"},for:"school",textContent:"Учреждение:"},null,-1),D={key:0,style:{display:"flex"}},E={key:0,textContent:"⭐"},F=["textContent"],I={key:1},R=C({__name:"AreaHelper",props:{month:null,helper:null,adminView:{type:Boolean}},setup(e){const{month:k,helper:h}=e,m=b(),{tasks:v}=w(m),d=v.value.filter(a=>a.month==k),c=d.filter(a=>h.completedTaskIds?.includes?.(a.id));let s=B(!1);function f(a){m.saveHelpers([a]),s.value=!1}function V(a){m.removeHelper(a)}return(a,l)=>(n(),o("div",{style:$([{display:"flex","justify-content":"space-between"},e.adminView?"border-bottom: 2px solid var(--color-border);":""])},[t("div",null,[i(s)?(n(),o(y,{key:1},[t("div",null,[j,g(t("input",{name:"fio","onUpdate:modelValue":l[0]||(l[0]=u=>e.helper.fio=u)},null,512),[[p,e.helper.fio]])]),t("div",null,[A,g(t("input",{name:"school","onUpdate:modelValue":l[1]||(l[1]=u=>e.helper.schoolName=u)},null,512),[[p,e.helper.schoolName]])])],64)):(n(),o(y,{key:0},[t("div",{textContent:x(e.helper.fio)},null,8,L),e.adminView?(n(),o("div",{key:0,textContent:x(e.helper.schoolName)},null,8,S)):r("",!0)],64))]),e.month?(n(),o("div",D,[i(c)?.length==i(d)?.length?(n(),o("div",E)):r("",!0),t("div",{textContent:x(`${i(c)?.length??0}/${i(d)?.length??0}`)},null,8,F)])):r("",!0),e.adminView?(n(),o("div",I,[i(s)?r("",!0):(n(),o("button",{key:0,onClick:l[2]||(l[2]=u=>T(s)?s.value=!0:s=!0)},"Редактировать")),i(s)?(n(),o("button",{key:1,onClick:l[3]||(l[3]=u=>f(e.helper))},"Сохранить")):r("",!0),t("button",{onClick:l[4]||(l[4]=u=>V(e.helper.id))},"Удалить")])):r("",!0)],4))}}),U={key:0,style:{border:"1px solid #aaa","margin-bottom":"12px"}},z=t("div",{textContent:"Группа: "},null,-1),q=["innerHTML"],G={style:{padding:"12px"}},K=C({__name:"AreaCard",props:{month:null,area:null,adminView:{type:Boolean}},setup(e){const{month:k,area:h}=e,m=b(),{helpers:v}=w(m),d=H(()=>v.value.filter(c=>c.areaId==h.id));return(c,s)=>i(d).length>0?(n(),o("div",U,[t("div",{style:$(`background-color: ${e.area.color}; color: #aaa;padding: 12px`)},[z,t("div",{innerHTML:e.area.name},null,8,q)],4),t("div",G,[(n(!0),o(y,null,M(i(d),f=>(n(),N(R,{"admin-view":e.adminView,month:e.month,helper:f},null,8,["admin-view","month","helper"]))),256))])])):r("",!0)}});export{K as _};
