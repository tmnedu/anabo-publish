import{d as C,r as k,u as w,s as y,c as b,e as o,o as i,a as d,b as e,w as p,v as f,t as H,F as N,f as I,n as B,g as M,p as T,H as v}from"./index-10a5dc2e.js";import{_ as $}from"./AreaItem.vue_vue_type_style_index_0_lang-cbc28a1f.js";const A={key:0},L=e("h1",null,"Добавить советника",-1),S=e("label",{for:"fio",textContent:"ФИО советника: "},null,-1),V=e("label",{for:"fio",textContent:"Наименование организации: "},null,-1),D={style:{display:"flex"}},F=["textContent"],U=["innerHTML"],z={class:"areas"},E={key:2},R=e("span",{textContent:"Советник добавлен ✔️"},null,-1),O=C({__name:"AddHelper",setup(j){let l=k("new");const r=w(),{areas:u,helpers:q}=y(r);let t=new v;function c(){t=B(new v),t.id=r.getNewHelperId()}c();const m=b(()=>u.value.find(a=>a.id==t.areaId)?.name??"Не выбрана");function _(a){t.areaId=a.id}function h(){l.value="new",c()}async function g(){t.areaId&&t.fio&&t.schoolName?(console.log("saving"),l.value="saving",await r.saveNewHelper(t),l.value="saved"):console.log("not saving")}return(a,s)=>o(l)=="new"?(i(),d("span",A,[L,e("div",null,[S,p(e("input",{name:"fio","onUpdate:modelValue":s[0]||(s[0]=n=>o(t).fio=n)},null,512),[[f,o(t).fio]])]),e("div",null,[V,p(e("input",{name:"fio","onUpdate:modelValue":s[1]||(s[1]=n=>o(t).schoolName=n)},null,512),[[f,o(t).schoolName]])]),e("div",null,[e("div",D,[e("label",{textContent:H("Группа (муниципалитет):"),style:{"margin-right":"4px"}},null,8,F),e("div",{style:{"min-height":"168px"},innerHTML:o(m)},null,8,U)]),e("div",z,[(i(!0),d(N,null,I(o(u),(n,x)=>(i(),M($,{class:T({active:o(t).areaId==n.id}),area:n,key:x,onClick:G=>_(n)},null,8,["class","area","onClick"]))),128))])]),e("button",{onClick:s[2]||(s[2]=n=>g()),class:"big-button",textContent:"Сохранить"})])):(i(),d("span",E,[R,e("button",{onClick:s[3]||(s[3]=n=>h())},"Добавить нового")]))}});export{O as default};
