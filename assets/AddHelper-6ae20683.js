import{d as w,r as C,u as k,s as y,c as H,g as o,o as i,a as d,b as e,w as p,n as f,t as N,F as I,e as $,q as A,j as B,x as D,y as M,z as T,A as L,H as v}from"./index-09f4c865.js";import{_ as S}from"./AreaItem.vue_vue_type_style_index_0_lang-a80e7eea.js";const V={key:0},z=e("h1",null,"Добавить советника",-1),F=e("label",{for:"fio",textContent:"ФИО советника: "},null,-1),U=e("label",{for:"fio",textContent:"Наименование организации: "},null,-1),j={style:{display:"flex"}},q=["textContent"],E=["innerHTML"],R={class:"areas"},G={key:2},J=e("span",{textContent:"Советник добавлен ✔️"},null,-1),X=w({__name:"AddHelper",setup(K){let l=C("new");async function m(){console.log("saveNewHelper()");const a=M();console.log("getDatabase()"),await T(L(a,"anabo/helpers/"+t.id),t),r.init(),console.log("set()"),l.value="saved"}const r=k(),{areas:u,helpers:O}=y(r);let t=new v;function c(){t=A(new v),t.id=r.getNewHelperId()}c();const _=H(()=>u.value.find(a=>a.id==t.areaId)?.name??"Не выбрана");function g(a){t.areaId=a.id}function h(){l.value="new",c()}function x(){t.areaId&&t.fio&&t.schoolName?(console.log("saving"),l.value="saving",m()):console.log("not saving")}return(a,s)=>o(l)=="new"?(i(),d("span",V,[z,e("div",null,[F,p(e("input",{name:"fio","onUpdate:modelValue":s[0]||(s[0]=n=>o(t).fio=n)},null,512),[[f,o(t).fio]])]),e("div",null,[U,p(e("input",{name:"fio","onUpdate:modelValue":s[1]||(s[1]=n=>o(t).schoolName=n)},null,512),[[f,o(t).schoolName]])]),e("div",null,[e("div",j,[e("label",{textContent:N("Группа (муниципалитет):"),style:{"margin-right":"4px"}},null,8,q),e("div",{style:{"min-height":"168px"},innerHTML:o(_)},null,8,E)]),e("div",R,[(i(!0),d(I,null,$(o(u),(n,b)=>(i(),B(S,{class:D({active:o(t).areaId==n.id}),area:n,key:b,onClick:P=>g(n)},null,8,["class","area","onClick"]))),128))])]),e("button",{onClick:s[2]||(s[2]=n=>x()),class:"big-button",textContent:"Сохранить"})])):(i(),d("span",G,[J,e("button",{onClick:s[3]||(s[3]=n=>h())},"Добавить нового")]))}});export{X as default};
